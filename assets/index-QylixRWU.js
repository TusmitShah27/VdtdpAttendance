(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Fi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ub={exports:{}},nd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR;function p9(){if(iR)return nd;iR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var u=null;if(a!==void 0&&(u=""+a),i.key!==void 0&&(u=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:u,ref:i!==void 0?i:null,props:a}}return nd.Fragment=e,nd.jsx=n,nd.jsxs=n,nd}var aR;function g9(){return aR||(aR=1,Ub.exports=p9()),Ub.exports}var F=g9(),Bb={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR;function v9(){if(sR)return ze;sR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function A(H,oe,ie){this.props=H,this.context=oe,this.refs=T,this.updater=ie||b}A.prototype.isReactComponent={},A.prototype.setState=function(H,oe){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,oe,"setState")},A.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function x(){}x.prototype=A.prototype;function R(H,oe,ie){this.props=H,this.context=oe,this.refs=T,this.updater=ie||b}var P=R.prototype=new x;P.constructor=R,E(P,A.prototype),P.isPureReactComponent=!0;var U=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function C(H,oe,ie,ce,Ae,Ce){return ie=Ce.ref,{$$typeof:t,type:H,key:oe,ref:ie!==void 0?ie:null,props:Ce}}function D(H,oe){return C(H.type,oe,void 0,void 0,void 0,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function q(H){var oe={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ie){return oe[ie]})}var j=/\/+/g;function B(H,oe){return typeof H=="object"&&H!==null&&H.key!=null?q(""+H.key):oe.toString(36)}function V(){}function Pe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(V,V):(H.status="pending",H.then(function(oe){H.status==="pending"&&(H.status="fulfilled",H.value=oe)},function(oe){H.status==="pending"&&(H.status="rejected",H.reason=oe)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Me(H,oe,ie,ce,Ae){var Ce=typeof H;(Ce==="undefined"||Ce==="boolean")&&(H=null);var je=!1;if(H===null)je=!0;else switch(Ce){case"bigint":case"string":case"number":je=!0;break;case"object":switch(H.$$typeof){case t:case e:je=!0;break;case m:return je=H._init,Me(je(H._payload),oe,ie,ce,Ae)}}if(je)return Ae=Ae(H),je=ce===""?"."+B(H,0):ce,U(Ae)?(ie="",je!=null&&(ie=je.replace(j,"$&/")+"/"),Me(Ae,oe,ie,"",function(ye){return ye})):Ae!=null&&(M(Ae)&&(Ae=D(Ae,ie+(Ae.key==null||H&&H.key===Ae.key?"":(""+Ae.key).replace(j,"$&/")+"/")+je)),oe.push(Ae)),1;je=0;var nn=ce===""?".":ce+":";if(U(H))for(var mt=0;mt<H.length;mt++)ce=H[mt],Ce=nn+B(ce,mt),je+=Me(ce,oe,ie,Ce,Ae);else if(mt=y(H),typeof mt=="function")for(H=mt.call(H),mt=0;!(ce=H.next()).done;)ce=ce.value,Ce=nn+B(ce,mt++),je+=Me(ce,oe,ie,Ce,Ae);else if(Ce==="object"){if(typeof H.then=="function")return Me(Pe(H),oe,ie,ce,Ae);throw oe=String(H),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return je}function te(H,oe,ie){if(H==null)return H;var ce=[],Ae=0;return Me(H,ce,"","",function(Ce){return oe.call(ie,Ce,Ae++)}),ce}function he(H){if(H._status===-1){var oe=H._result;oe=oe(),oe.then(function(ie){(H._status===0||H._status===-1)&&(H._status=1,H._result=ie)},function(ie){(H._status===0||H._status===-1)&&(H._status=2,H._result=ie)}),H._status===-1&&(H._status=0,H._result=oe)}if(H._status===1)return H._result.default;throw H._result}var be=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function Ne(){}return ze.Children={map:te,forEach:function(H,oe,ie){te(H,function(){oe.apply(this,arguments)},ie)},count:function(H){var oe=0;return te(H,function(){oe++}),oe},toArray:function(H){return te(H,function(oe){return oe})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},ze.Component=A,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=R,ze.StrictMode=r,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ze.__COMPILER_RUNTIME={__proto__:null,c:function(H){return L.H.useMemoCache(H)}},ze.cache=function(H){return function(){return H.apply(null,arguments)}},ze.cloneElement=function(H,oe,ie){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ce=E({},H.props),Ae=H.key,Ce=void 0;if(oe!=null)for(je in oe.ref!==void 0&&(Ce=void 0),oe.key!==void 0&&(Ae=""+oe.key),oe)!$.call(oe,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&oe.ref===void 0||(ce[je]=oe[je]);var je=arguments.length-2;if(je===1)ce.children=ie;else if(1<je){for(var nn=Array(je),mt=0;mt<je;mt++)nn[mt]=arguments[mt+2];ce.children=nn}return C(H.type,Ae,void 0,void 0,Ce,ce)},ze.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},ze.createElement=function(H,oe,ie){var ce,Ae={},Ce=null;if(oe!=null)for(ce in oe.key!==void 0&&(Ce=""+oe.key),oe)$.call(oe,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ae[ce]=oe[ce]);var je=arguments.length-2;if(je===1)Ae.children=ie;else if(1<je){for(var nn=Array(je),mt=0;mt<je;mt++)nn[mt]=arguments[mt+2];Ae.children=nn}if(H&&H.defaultProps)for(ce in je=H.defaultProps,je)Ae[ce]===void 0&&(Ae[ce]=je[ce]);return C(H,Ce,void 0,void 0,null,Ae)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(H){return{$$typeof:c,render:H}},ze.isValidElement=M,ze.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:he}},ze.memo=function(H,oe){return{$$typeof:h,type:H,compare:oe===void 0?null:oe}},ze.startTransition=function(H){var oe=L.T,ie={};L.T=ie;try{var ce=H(),Ae=L.S;Ae!==null&&Ae(ie,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ne,be)}catch(Ce){be(Ce)}finally{L.T=oe}},ze.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ze.use=function(H){return L.H.use(H)},ze.useActionState=function(H,oe,ie){return L.H.useActionState(H,oe,ie)},ze.useCallback=function(H,oe){return L.H.useCallback(H,oe)},ze.useContext=function(H){return L.H.useContext(H)},ze.useDebugValue=function(){},ze.useDeferredValue=function(H,oe){return L.H.useDeferredValue(H,oe)},ze.useEffect=function(H,oe,ie){var ce=L.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(H,oe)},ze.useId=function(){return L.H.useId()},ze.useImperativeHandle=function(H,oe,ie){return L.H.useImperativeHandle(H,oe,ie)},ze.useInsertionEffect=function(H,oe){return L.H.useInsertionEffect(H,oe)},ze.useLayoutEffect=function(H,oe){return L.H.useLayoutEffect(H,oe)},ze.useMemo=function(H,oe){return L.H.useMemo(H,oe)},ze.useOptimistic=function(H,oe){return L.H.useOptimistic(H,oe)},ze.useReducer=function(H,oe,ie){return L.H.useReducer(H,oe,ie)},ze.useRef=function(H){return L.H.useRef(H)},ze.useState=function(H){return L.H.useState(H)},ze.useSyncExternalStore=function(H,oe,ie){return L.H.useSyncExternalStore(H,oe,ie)},ze.useTransition=function(){return L.H.useTransition()},ze.version="19.1.0",ze}var oR;function If(){return oR||(oR=1,Bb.exports=v9()),Bb.exports}var N=If();const KE=Fi(N);var qb={exports:{}},rd={},zb={exports:{}},Fb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR;function y9(){return uR||(uR=1,function(t){function e(te,he){var be=te.length;te.push(he);e:for(;0<be;){var Ne=be-1>>>1,H=te[Ne];if(0<i(H,he))te[Ne]=he,te[be]=H,be=Ne;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var he=te[0],be=te.pop();if(be!==he){te[0]=be;e:for(var Ne=0,H=te.length,oe=H>>>1;Ne<oe;){var ie=2*(Ne+1)-1,ce=te[ie],Ae=ie+1,Ce=te[Ae];if(0>i(ce,be))Ae<H&&0>i(Ce,ce)?(te[Ne]=Ce,te[Ae]=be,Ne=Ae):(te[Ne]=ce,te[ie]=be,Ne=ie);else if(Ae<H&&0>i(Ce,be))te[Ne]=Ce,te[Ae]=be,Ne=Ae;else break e}}return he}function i(te,he){var be=te.sortIndex-he.sortIndex;return be!==0?be:te.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var f=[],h=[],m=1,g=null,y=3,b=!1,E=!1,T=!1,A=!1,x=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function U(te){for(var he=n(h);he!==null;){if(he.callback===null)r(h);else if(he.startTime<=te)r(h),he.sortIndex=he.expirationTime,e(f,he);else break;he=n(h)}}function L(te){if(T=!1,U(te),!E)if(n(f)!==null)E=!0,$||($=!0,B());else{var he=n(h);he!==null&&Me(L,he.startTime-te)}}var $=!1,C=-1,D=5,M=-1;function q(){return A?!0:!(t.unstable_now()-M<D)}function j(){if(A=!1,$){var te=t.unstable_now();M=te;var he=!0;try{e:{E=!1,T&&(T=!1,R(C),C=-1),b=!0;var be=y;try{t:{for(U(te),g=n(f);g!==null&&!(g.expirationTime>te&&q());){var Ne=g.callback;if(typeof Ne=="function"){g.callback=null,y=g.priorityLevel;var H=Ne(g.expirationTime<=te);if(te=t.unstable_now(),typeof H=="function"){g.callback=H,U(te),he=!0;break t}g===n(f)&&r(f),U(te)}else r(f);g=n(f)}if(g!==null)he=!0;else{var oe=n(h);oe!==null&&Me(L,oe.startTime-te),he=!1}}break e}finally{g=null,y=be,b=!1}he=void 0}}finally{he?B():$=!1}}}var B;if(typeof P=="function")B=function(){P(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Pe=V.port2;V.port1.onmessage=j,B=function(){Pe.postMessage(null)}}else B=function(){x(j,0)};function Me(te,he){C=x(function(){te(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(te){switch(y){case 1:case 2:case 3:var he=3;break;default:he=y}var be=y;y=he;try{return te()}finally{y=be}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(te,he){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var be=y;y=te;try{return he()}finally{y=be}},t.unstable_scheduleCallback=function(te,he,be){var Ne=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Ne+be:Ne):be=Ne,te){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=be+H,te={id:m++,callback:he,priorityLevel:te,startTime:be,expirationTime:H,sortIndex:-1},be>Ne?(te.sortIndex=be,e(h,te),n(f)===null&&te===n(h)&&(T?(R(C),C=-1):T=!0,Me(L,be-Ne))):(te.sortIndex=H,e(f,te),E||b||(E=!0,$||($=!0,B()))),te},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(te){var he=y;return function(){var be=y;y=he;try{return te.apply(this,arguments)}finally{y=be}}}}(Fb)),Fb}var lR;function _9(){return lR||(lR=1,zb.exports=y9()),zb.exports}var $b={exports:{}},er={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR;function b9(){if(cR)return er;cR=1;var t=If();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,er.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,m)},er.flushSync=function(f){var h=u.T,m=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=m,r.d.f()}},er.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},er.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},er.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},er.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},er.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=c(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},er.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},er.requestFormReset=function(f){r.d.r(f)},er.unstable_batchedUpdates=function(f,h){return f(h)},er.useFormState=function(f,h,m){return u.H.useFormState(f,h,m)},er.useFormStatus=function(){return u.H.useHostTransitionStatus()},er.version="19.1.0",er}var fR;function yM(){if(fR)return $b.exports;fR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$b.exports=b9(),$b.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR;function w9(){if(hR)return rd;hR=1;var t=_9(),e=If(),n=yM();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function u(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var l=s,d=o;;){var v=l.return;if(v===null)break;var _=v.alternate;if(_===null){if(d=v.return,d!==null){l=d;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===l)return c(v),s;if(_===d)return c(v),o;_=_.sibling}throw Error(r(188))}if(l.return!==d.return)l=v,d=_;else{for(var I=!1,O=v.child;O;){if(O===l){I=!0,l=v,d=_;break}if(O===d){I=!0,d=v,l=_;break}O=O.sibling}if(!I){for(O=_.child;O;){if(O===l){I=!0,l=_,d=v;break}if(O===d){I=!0,d=_,l=v;break}O=O.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:o}function h(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=h(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function Pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case $:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case P:return(s.displayName||"Context")+".Provider";case R:return(s._context.displayName||"Context")+".Consumer";case U:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return o=s.displayName||null,o!==null?o:Pe(s.type)||"Memo";case D:o=s._payload,s=s._init;try{return Pe(s(o))}catch{}}return null}var Me=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Ne=[],H=-1;function oe(s){return{current:s}}function ie(s){0>H||(s.current=Ne[H],Ne[H]=null,H--)}function ce(s,o){H++,Ne[H]=s.current,s.current=o}var Ae=oe(null),Ce=oe(null),je=oe(null),nn=oe(null);function mt(s,o){switch(ce(je,o),ce(Ce,s),ce(Ae,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?DO(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=DO(o),s=NO(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ie(Ae),ce(Ae,s)}function ye(){ie(Ae),ie(Ce),ie(je)}function Ue(s){s.memoizedState!==null&&ce(nn,s);var o=Ae.current,l=NO(o,s.type);o!==l&&(ce(Ce,s),ce(Ae,l))}function Be(s){Ce.current===s&&(ie(Ae),ie(Ce)),nn.current===s&&(ie(nn),Xh._currentValue=be)}var de=Object.prototype.hasOwnProperty,qt=t.unstable_scheduleCallback,Xe=t.unstable_cancelCallback,gn=t.unstable_shouldYield,In=t.unstable_requestPaint,rn=t.unstable_now,xl=t.unstable_getCurrentPriorityLevel,Yf=t.unstable_ImmediatePriority,Pl=t.unstable_UserBlockingPriority,Ho=t.unstable_NormalPriority,B_=t.unstable_LowPriority,Ol=t.unstable_IdlePriority,Qf=t.log,up=t.unstable_setDisableYieldValue,zt=null,lt=null;function Or(s){if(typeof Qf=="function"&&up(s),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(zt,s)}catch{}}var Zn=Math.clz32?Math.clz32:Ko,lp=Math.log,q_=Math.LN2;function Ko(s){return s>>>=0,s===0?32:31-(lp(s)/q_|0)|0}var Go=256,Wo=4194304;function Pi(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Rl(s,o,l){var d=s.pendingLanes;if(d===0)return 0;var v=0,_=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var O=d&134217727;return O!==0?(d=O&~_,d!==0?v=Pi(d):(I&=O,I!==0?v=Pi(I):l||(l=O&~s,l!==0&&(v=Pi(l))))):(O=d&~_,O!==0?v=Pi(O):I!==0?v=Pi(I):l||(l=d&~s,l!==0&&(v=Pi(l)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,l=o&-o,_>=l||_===32&&(l&4194048)!==0)?o:v}function Yo(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Xf(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zf(){var s=Go;return Go<<=1,(Go&4194048)===0&&(Go=256),s}function Jf(){var s=Wo;return Wo<<=1,(Wo&62914560)===0&&(Wo=4194304),s}function Pa(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Oa(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function eh(s,o,l,d,v,_){var I=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var O=s.entanglements,z=s.expirationTimes,X=s.hiddenUpdates;for(l=I&~l;0<l;){var re=31-Zn(l),ue=1<<re;O[re]=0,z[re]=-1;var Z=X[re];if(Z!==null)for(X[re]=null,re=0;re<Z.length;re++){var J=Z[re];J!==null&&(J.lane&=-536870913)}l&=~ue}d!==0&&Hi(s,d,0),_!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=_&~(I&~o))}function Hi(s,o,l){s.pendingLanes|=o,s.suspendedLanes&=~o;var d=31-Zn(o);s.entangledLanes|=o,s.entanglements[d]=s.entanglements[d]|1073741824|l&4194090}function th(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var d=31-Zn(l),v=1<<d;v&o|s[d]&o&&(s[d]|=o),l&=~v}}function Ss(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Cl(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Is(){var s=he.p;return s!==0?s:(s=window.event,s===void 0?32:ZO(s.type))}function cp(s,o){var l=he.p;try{return he.p=s,o()}finally{he.p=l}}var Rt=Math.random().toString(36).slice(2),vn="__reactFiber$"+Rt,an="__reactProps$"+Rt,ti="__reactContainer$"+Rt,nh="__reactEvents$"+Rt,z_="__reactListeners$"+Rt,xs="__reactHandles$"+Rt,fp="__reactResources$"+Rt,Qo="__reactMarker$"+Rt;function Ps(s){delete s[vn],delete s[an],delete s[nh],delete s[z_],delete s[xs]}function Ra(s){var o=s[vn];if(o)return o;for(var l=s.parentNode;l;){if(o=l[ti]||l[vn]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=jO(s);s!==null;){if(l=s[vn])return l;s=jO(s)}return o}s=l,l=s.parentNode}return null}function Ki(s){if(s=s[vn]||s[ti]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function Gi(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function lr(s){var o=s[fp];return o||(o=s[fp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Wt(s){s[Qo]=!0}var rh=new Set,Dl={};function Oi(s,o){Ca(s,o),Ca(s+"Capture",o)}function Ca(s,o){for(Dl[s]=o,s=0;s<o.length;s++)rh.add(o[s])}var hp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dp={},Xo={};function mp(s){return de.call(Xo,s)?!0:de.call(dp,s)?!1:hp.test(s)?Xo[s]=!0:(dp[s]=!0,!1)}function Os(s,o,l){if(mp(o))if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+l)}}function Wi(s,o,l){if(l===null)s.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+l)}}function Un(s,o,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(o,l,""+d)}}var Zo,pp;function Da(s){if(Zo===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Zo=o&&o[1]||"",pp=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zo+s+pp}var Nl=!1;function kl(s,o){if(!s||Nl)return"";Nl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(J){var Z=J}Reflect.construct(s,[],ue)}else{try{ue.call()}catch(J){Z=J}s.call(ue.prototype)}}else{try{throw Error()}catch(J){Z=J}(ue=s())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),I=_[0],O=_[1];if(I&&O){var z=I.split(`
`),X=O.split(`
`);for(v=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;v<X.length&&!X[v].includes("DetermineComponentFrameRoot");)v++;if(d===z.length||v===X.length)for(d=z.length-1,v=X.length-1;1<=d&&0<=v&&z[d]!==X[v];)v--;for(;1<=d&&0<=v;d--,v--)if(z[d]!==X[v]){if(d!==1||v!==1)do if(d--,v--,0>v||z[d]!==X[v]){var re=`
`+z[d].replace(" at new "," at ");return s.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",s.displayName)),re}while(1<=d&&0<=v);break}}}finally{Nl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Da(l):""}function ih(s){switch(s.tag){case 26:case 27:case 5:return Da(s.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 15:return kl(s.type,!1);case 11:return kl(s.type.render,!1);case 1:return kl(s.type,!0);case 31:return Da("Activity");default:return""}}function Ml(s){try{var o="";do o+=ih(s),s=s.return;while(s);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function cr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ah(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function F_(s){var o=ah(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),d=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,_=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(I){d=""+I,_.call(this,I)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Vl(s){s._valueTracker||(s._valueTracker=F_(s))}function sh(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return s&&(d=ah(s)?s.checked?"true":"false":s.value),s=d,s!==l?(o.setValue(s),!0):!1}function Jo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var $_=/[\n"\\]/g;function sn(s){return s.replace($_,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Rr(s,o,l,d,v,_,I,O){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),o!=null?I==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+cr(o)):s.value!==""+cr(o)&&(s.value=""+cr(o)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),o!=null?Rs(s,I,cr(o)):l!=null?Rs(s,I,cr(l)):d!=null&&s.removeAttribute("value"),v==null&&_!=null&&(s.defaultChecked=!!_),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.name=""+cr(O):s.removeAttribute("name")}function eu(s,o,l,d,v,_,I,O){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),o!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;l=l!=null?""+cr(l):"",o=o!=null?""+cr(o):l,O||o===s.value||(s.value=o),s.defaultValue=o}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=O?s.checked:!!d,s.defaultChecked=!!d,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function Rs(s,o,l){o==="number"&&Jo(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Na(s,o,l,d){if(s=s.options,o){o={};for(var v=0;v<l.length;v++)o["$"+l[v]]=!0;for(l=0;l<s.length;l++)v=o.hasOwnProperty("$"+s[l].value),s[l].selected!==v&&(s[l].selected=v),v&&d&&(s[l].defaultSelected=!0)}else{for(l=""+cr(l),o=null,v=0;v<s.length;v++){if(s[v].value===l){s[v].selected=!0,d&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function pt(s,o,l){if(o!=null&&(o=""+cr(o),o!==s.value&&(s.value=o),l==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=l!=null?""+cr(l):""}function tu(s,o,l,d){if(o==null){if(d!=null){if(l!=null)throw Error(r(92));if(Me(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),o=l}l=cr(o),s.defaultValue=l,d=s.textContent,d===l&&d!==""&&d!==null&&(s.value=d)}function ni(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gp(s,o,l){var d=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":d?s.setProperty(o,l):typeof l!="number"||l===0||nu.has(o)?o==="float"?s.cssFloat=l:s[o]=(""+l).trim():s[o]=l+"px"}function oh(s,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var v in o)d=o[v],o.hasOwnProperty(v)&&l[v]!==d&&gp(s,v,d)}else for(var _ in o)o.hasOwnProperty(_)&&gp(s,_,o[_])}function uh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),K_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jl(s){return K_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ka=null;function ri(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ma=null,Va=null;function lh(s){var o=Ki(s);if(o&&(s=o.stateNode)){var l=s[an]||null;e:switch(s=o.stateNode,o.type){case"input":if(Rr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+sn(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==s&&d.form===s.form){var v=d[an]||null;if(!v)throw Error(r(90));Rr(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<l.length;o++)d=l[o],d.form===s.form&&sh(d)}break e;case"textarea":pt(s,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Na(s,!!l.multiple,o,!1)}}}var Yi=!1;function vp(s,o,l){if(Yi)return s(o,l);Yi=!0;try{var d=s(o);return d}finally{if(Yi=!1,(Ma!==null||Va!==null)&&(cg(),Ma&&(o=Ma,s=Va,Va=Ma=null,lh(o),s)))for(o=0;o<s.length;o++)lh(s[o])}}function ru(s,o){var l=s.stateNode;if(l===null)return null;var d=l[an]||null;if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ii=!1;if(Ri)try{var iu={};Object.defineProperty(iu,"passive",{get:function(){ii=!0}}),window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{ii=!1}var Qi=null,Cs=null,ja=null;function ch(){if(ja)return ja;var s,o=Cs,l=o.length,d,v="value"in Qi?Qi.value:Qi.textContent,_=v.length;for(s=0;s<l&&o[s]===v[s];s++);var I=l-s;for(d=1;d<=I&&o[l-d]===v[_-d];d++);return ja=v.slice(s,1<d?1-d:void 0)}function Xi(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Zi(){return!0}function fh(){return!1}function xn(s){function o(l,d,v,_,I){this._reactName=l,this._targetInst=v,this.type=d,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(l=s[O],this[O]=l?l(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Zi:fh,this.isPropagationStopped=fh,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),o}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=xn(st),au=m({},st,{view:0,detail:0}),yp=xn(au),Ul,Bl,Ji,su=m({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ji&&(Ji&&s.type==="mousemove"?(Ul=s.screenX-Ji.screenX,Bl=s.screenY-Ji.screenY):Bl=Ul=0,Ji=s),Ul)},movementY:function(s){return"movementY"in s?s.movementY:Bl}}),ai=xn(su),_p=m({},su,{dataTransfer:0}),G_=xn(_p),ou=m({},au,{relatedTarget:0}),ql=xn(ou),hh=m({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),zl=xn(hh),bp=m({},st,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Fl=xn(bp),W_=m({},st,{data:0}),dh=xn(W_),uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mh(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Ep[s])?!!o[s]:!1}function lu(){return mh}var Tp=m({},au,{key:function(s){if(s.key){var o=uu[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Xi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?wp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lu,charCode:function(s){return s.type==="keypress"?Xi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Xi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),$l=xn(Tp),Ap=m({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ph=xn(Ap),La=m({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lu}),Sp=xn(La),Ip=m({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),xp=xn(Ip),Pp=m({},su,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Hl=xn(Pp),fr=m({},st,{newState:0,oldState:0}),Op=xn(fr),Rp=[9,13,27,32],ea=Ri&&"CompositionEvent"in window,p=null;Ri&&"documentMode"in document&&(p=document.documentMode);var w=Ri&&"TextEvent"in window&&!p,S=Ri&&(!ea||p&&8<p&&11>=p),k=" ",W=!1;function ne(s,o){switch(s){case"keyup":return Rp.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ze=!1;function yn(s,o){switch(s){case"compositionend":return pe(o);case"keypress":return o.which!==32?null:(W=!0,k);case"textInput":return s=o.data,s===k&&W?null:s;default:return null}}function Je(s,o){if(Ze)return s==="compositionend"||!ea&&ne(s,o)?(s=ch(),ja=Cs=Qi=null,Ze=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return S&&o.locale!=="ko"?null:o.data;default:return null}}var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _n(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Pn[s.type]:o==="textarea"}function Ua(s,o,l,d){Ma?Va?Va.push(d):Va=[d]:Ma=d,o=gg(o,"onChange"),0<o.length&&(l=new Ll("onChange","change",null,l,d),s.push({event:l,listeners:o}))}var Bn=null,ta=null;function gh(s){xO(s,0)}function Cp(s){var o=Gi(s);if(sh(o))return s}function WI(s,o){if(s==="change")return o}var YI=!1;if(Ri){var Y_;if(Ri){var Q_="oninput"in document;if(!Q_){var QI=document.createElement("div");QI.setAttribute("oninput","return;"),Q_=typeof QI.oninput=="function"}Y_=Q_}else Y_=!1;YI=Y_&&(!document.documentMode||9<document.documentMode)}function XI(){Bn&&(Bn.detachEvent("onpropertychange",ZI),ta=Bn=null)}function ZI(s){if(s.propertyName==="value"&&Cp(ta)){var o=[];Ua(o,ta,s,ri(s)),vp(gh,o)}}function H5(s,o,l){s==="focusin"?(XI(),Bn=o,ta=l,Bn.attachEvent("onpropertychange",ZI)):s==="focusout"&&XI()}function K5(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cp(ta)}function G5(s,o){if(s==="click")return Cp(o)}function W5(s,o){if(s==="input"||s==="change")return Cp(o)}function Y5(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Cr=typeof Object.is=="function"?Object.is:Y5;function vh(s,o){if(Cr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var v=l[d];if(!de.call(o,v)||!Cr(s[v],o[v]))return!1}return!0}function JI(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ex(s,o){var l=JI(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=o&&d>=o)return{node:l,offset:o-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=JI(l)}}function tx(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?tx(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function nx(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=Jo(s.document);o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Jo(s.document)}return o}function X_(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Q5=Ri&&"documentMode"in document&&11>=document.documentMode,Kl=null,Z_=null,yh=null,J_=!1;function rx(s,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;J_||Kl==null||Kl!==Jo(d)||(d=Kl,"selectionStart"in d&&X_(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),yh&&vh(yh,d)||(yh=d,d=gg(Z_,"onSelect"),0<d.length&&(o=new Ll("onSelect","select",null,o,l),s.push({event:o,listeners:d}),o.target=Kl)))}function cu(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Gl={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionrun:cu("Transition","TransitionRun"),transitionstart:cu("Transition","TransitionStart"),transitioncancel:cu("Transition","TransitionCancel"),transitionend:cu("Transition","TransitionEnd")},e0={},ix={};Ri&&(ix=document.createElement("div").style,"AnimationEvent"in window||(delete Gl.animationend.animation,delete Gl.animationiteration.animation,delete Gl.animationstart.animation),"TransitionEvent"in window||delete Gl.transitionend.transition);function fu(s){if(e0[s])return e0[s];if(!Gl[s])return s;var o=Gl[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in ix)return e0[s]=o[l];return s}var ax=fu("animationend"),sx=fu("animationiteration"),ox=fu("animationstart"),X5=fu("transitionrun"),Z5=fu("transitionstart"),J5=fu("transitioncancel"),ux=fu("transitionend"),lx=new Map,t0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");t0.push("scrollEnd");function Ci(s,o){lx.set(s,o),Oi(o,[s])}var cx=new WeakMap;function si(s,o){if(typeof s=="object"&&s!==null){var l=cx.get(s);return l!==void 0?l:(o={value:s,source:o,stack:Ml(o)},cx.set(s,o),o)}return{value:s,source:o,stack:Ml(o)}}var oi=[],Wl=0,n0=0;function Dp(){for(var s=Wl,o=n0=Wl=0;o<s;){var l=oi[o];oi[o++]=null;var d=oi[o];oi[o++]=null;var v=oi[o];oi[o++]=null;var _=oi[o];if(oi[o++]=null,d!==null&&v!==null){var I=d.pending;I===null?v.next=v:(v.next=I.next,I.next=v),d.pending=v}_!==0&&fx(l,v,_)}}function Np(s,o,l,d){oi[Wl++]=s,oi[Wl++]=o,oi[Wl++]=l,oi[Wl++]=d,n0|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function r0(s,o,l,d){return Np(s,o,l,d),kp(s)}function Yl(s,o){return Np(s,null,null,o),kp(s)}function fx(s,o,l){s.lanes|=l;var d=s.alternate;d!==null&&(d.lanes|=l);for(var v=!1,_=s.return;_!==null;)_.childLanes|=l,d=_.alternate,d!==null&&(d.childLanes|=l),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(v=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,v&&o!==null&&(v=31-Zn(l),s=_.hiddenUpdates,d=s[v],d===null?s[v]=[o]:d.push(o),o.lane=l|536870912),_):null}function kp(s){if(50<Fh)throw Fh=0,lb=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Ql={};function eB(s,o,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(s,o,l,d){return new eB(s,o,l,d)}function i0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ba(s,o){var l=s.alternate;return l===null?(l=Dr(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function hx(s,o){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,o=l.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Mp(s,o,l,d,v,_){var I=0;if(d=s,typeof s=="function")i0(s)&&(I=1);else if(typeof s=="string")I=n9(s,l,Ae.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case M:return s=Dr(31,l,o,v),s.elementType=M,s.lanes=_,s;case E:return hu(l.children,v,_,o);case T:I=8,v|=24;break;case A:return s=Dr(12,l,o,v|2),s.elementType=A,s.lanes=_,s;case L:return s=Dr(13,l,o,v),s.elementType=L,s.lanes=_,s;case $:return s=Dr(19,l,o,v),s.elementType=$,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case x:case P:I=10;break e;case R:I=9;break e;case U:I=11;break e;case C:I=14;break e;case D:I=16,d=null;break e}I=29,l=Error(r(130,s===null?"null":typeof s,"")),d=null}return o=Dr(I,l,o,v),o.elementType=s,o.type=d,o.lanes=_,o}function hu(s,o,l,d){return s=Dr(7,s,d,o),s.lanes=l,s}function a0(s,o,l){return s=Dr(6,s,null,o),s.lanes=l,s}function s0(s,o,l){return o=Dr(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Xl=[],Zl=0,Vp=null,jp=0,ui=[],li=0,du=null,qa=1,za="";function mu(s,o){Xl[Zl++]=jp,Xl[Zl++]=Vp,Vp=s,jp=o}function dx(s,o,l){ui[li++]=qa,ui[li++]=za,ui[li++]=du,du=s;var d=qa;s=za;var v=32-Zn(d)-1;d&=~(1<<v),l+=1;var _=32-Zn(o)+v;if(30<_){var I=v-v%5;_=(d&(1<<I)-1).toString(32),d>>=I,v-=I,qa=1<<32-Zn(o)+v|l<<v|d,za=_+s}else qa=1<<_|l<<v|d,za=s}function o0(s){s.return!==null&&(mu(s,1),dx(s,1,0))}function u0(s){for(;s===Vp;)Vp=Xl[--Zl],Xl[Zl]=null,jp=Xl[--Zl],Xl[Zl]=null;for(;s===du;)du=ui[--li],ui[li]=null,za=ui[--li],ui[li]=null,qa=ui[--li],ui[li]=null}var hr=null,Ft=null,at=!1,pu=null,na=!1,l0=Error(r(519));function gu(s){var o=Error(r(418,""));throw wh(si(o,s)),l0}function mx(s){var o=s.stateNode,l=s.type,d=s.memoizedProps;switch(o[vn]=s,o[an]=d,l){case"dialog":Ke("cancel",o),Ke("close",o);break;case"iframe":case"object":case"embed":Ke("load",o);break;case"video":case"audio":for(l=0;l<Hh.length;l++)Ke(Hh[l],o);break;case"source":Ke("error",o);break;case"img":case"image":case"link":Ke("error",o),Ke("load",o);break;case"details":Ke("toggle",o);break;case"input":Ke("invalid",o),eu(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Vl(o);break;case"select":Ke("invalid",o);break;case"textarea":Ke("invalid",o),tu(o,d.value,d.defaultValue,d.children),Vl(o)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||d.suppressHydrationWarning===!0||CO(o.textContent,l)?(d.popover!=null&&(Ke("beforetoggle",o),Ke("toggle",o)),d.onScroll!=null&&Ke("scroll",o),d.onScrollEnd!=null&&Ke("scrollend",o),d.onClick!=null&&(o.onclick=vg),o=!0):o=!1,o||gu(s)}function px(s){for(hr=s.return;hr;)switch(hr.tag){case 5:case 13:na=!1;return;case 27:case 3:na=!0;return;default:hr=hr.return}}function _h(s){if(s!==hr)return!1;if(!at)return px(s),at=!0,!1;var o=s.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Sb(s.type,s.memoizedProps)),l=!l),l&&Ft&&gu(s),px(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(o===0){Ft=Ni(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;s=s.nextSibling}Ft=null}}else o===27?(o=Ft,Gs(s.type)?(s=Ob,Ob=null,Ft=s):Ft=o):Ft=hr?Ni(s.stateNode.nextSibling):null;return!0}function bh(){Ft=hr=null,at=!1}function gx(){var s=pu;return s!==null&&(wr===null?wr=s:wr.push.apply(wr,s),pu=null),s}function wh(s){pu===null?pu=[s]:pu.push(s)}var c0=oe(null),vu=null,Fa=null;function Ds(s,o,l){ce(c0,o._currentValue),o._currentValue=l}function $a(s){s._currentValue=c0.current,ie(c0)}function f0(s,o,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),s===l)break;s=s.return}}function h0(s,o,l,d){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var _=v.dependencies;if(_!==null){var I=v.child;_=_.firstContext;e:for(;_!==null;){var O=_;_=v;for(var z=0;z<o.length;z++)if(O.context===o[z]){_.lanes|=l,O=_.alternate,O!==null&&(O.lanes|=l),f0(_.return,l,s),d||(I=null);break e}_=O.next}}else if(v.tag===18){if(I=v.return,I===null)throw Error(r(341));I.lanes|=l,_=I.alternate,_!==null&&(_.lanes|=l),f0(I,l,s),I=null}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===s){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}}function Eh(s,o,l,d){s=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var I=v.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var O=v.type;Cr(v.pendingProps.value,I.value)||(s!==null?s.push(O):s=[O])}}else if(v===nn.current){if(I=v.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Xh):s=[Xh])}v=v.return}s!==null&&h0(o,s,l,d),o.flags|=262144}function Lp(s){for(s=s.firstContext;s!==null;){if(!Cr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function yu(s){vu=s,Fa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Jn(s){return vx(vu,s)}function Up(s,o){return vu===null&&yu(s),vx(s,o)}function vx(s,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Fa===null){if(s===null)throw Error(r(308));Fa=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Fa=Fa.next=o;return l}var tB=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(l,d){s.push(d)}};this.abort=function(){o.aborted=!0,s.forEach(function(l){return l()})}},nB=t.unstable_scheduleCallback,rB=t.unstable_NormalPriority,bn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function d0(){return{controller:new tB,data:new Map,refCount:0}}function Th(s){s.refCount--,s.refCount===0&&nB(rB,function(){s.controller.abort()})}var Ah=null,m0=0,Jl=0,ec=null;function iB(s,o){if(Ah===null){var l=Ah=[];m0=0,Jl=gb(),ec={status:"pending",value:void 0,then:function(d){l.push(d)}}}return m0++,o.then(yx,yx),o}function yx(){if(--m0===0&&Ah!==null){ec!==null&&(ec.status="fulfilled");var s=Ah;Ah=null,Jl=0,ec=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function aB(s,o){var l=[],d={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return s.then(function(){d.status="fulfilled",d.value=o;for(var v=0;v<l.length;v++)(0,l[v])(o)},function(v){for(d.status="rejected",d.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),d}var _x=te.S;te.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&iB(s,o),_x!==null&&_x(s,o)};var _u=oe(null);function p0(){var s=_u.current;return s!==null?s:Tt.pooledCache}function Bp(s,o){o===null?ce(_u,_u.current):ce(_u,o.pool)}function bx(){var s=p0();return s===null?null:{parent:bn._currentValue,pool:s}}var Sh=Error(r(460)),wx=Error(r(474)),qp=Error(r(542)),g0={then:function(){}};function Ex(s){return s=s.status,s==="fulfilled"||s==="rejected"}function zp(){}function Tx(s,o,l){switch(l=s[l],l===void 0?s.push(o):l!==o&&(o.then(zp,zp),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Sx(s),s;default:if(typeof o.status=="string")o.then(zp,zp);else{if(s=Tt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(d){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=d}},function(d){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Sx(s),s}throw Ih=o,Sh}}var Ih=null;function Ax(){if(Ih===null)throw Error(r(459));var s=Ih;return Ih=null,s}function Sx(s){if(s===Sh||s===qp)throw Error(r(483))}var Ns=!1;function v0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function y0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ks(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ms(s,o,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(ct&2)!==0){var v=d.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),d.pending=o,o=kp(s),fx(s,null,l),o}return Np(s,d,o,l),kp(s)}function xh(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,th(s,l)}}function _0(s,o){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var v=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?v=_=I:_=_.next=I,l=l.next}while(l!==null);_===null?v=_=o:_=_.next=o}else v=_=o;l={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}var b0=!1;function Ph(){if(b0){var s=ec;if(s!==null)throw s}}function Oh(s,o,l,d){b0=!1;var v=s.updateQueue;Ns=!1;var _=v.firstBaseUpdate,I=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var z=O,X=z.next;z.next=null,I===null?_=X:I.next=X,I=z;var re=s.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==I&&(O===null?re.firstBaseUpdate=X:O.next=X,re.lastBaseUpdate=z))}if(_!==null){var ue=v.baseState;I=0,re=X=z=null,O=_;do{var Z=O.lane&-536870913,J=Z!==O.lane;if(J?(et&Z)===Z:(d&Z)===Z){Z!==0&&Z===Jl&&(b0=!0),re!==null&&(re=re.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Le=s,De=O;Z=o;var yt=l;switch(De.tag){case 1:if(Le=De.payload,typeof Le=="function"){ue=Le.call(yt,ue,Z);break e}ue=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=De.payload,Z=typeof Le=="function"?Le.call(yt,ue,Z):Le,Z==null)break e;ue=m({},ue,Z);break e;case 2:Ns=!0}}Z=O.callback,Z!==null&&(s.flags|=64,J&&(s.flags|=8192),J=v.callbacks,J===null?v.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(X=re=J,z=ue):re=re.next=J,I|=Z;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;J=O,O=J.next,J.next=null,v.lastBaseUpdate=J,v.shared.pending=null}}while(!0);re===null&&(z=ue),v.baseState=z,v.firstBaseUpdate=X,v.lastBaseUpdate=re,_===null&&(v.shared.lanes=0),Fs|=I,s.lanes=I,s.memoizedState=ue}}function Ix(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function xx(s,o){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Ix(l[s],o)}var tc=oe(null),Fp=oe(0);function Px(s,o){s=Xa,ce(Fp,s),ce(tc,o),Xa=s|o.baseLanes}function w0(){ce(Fp,Xa),ce(tc,tc.current)}function E0(){Xa=Fp.current,ie(tc),ie(Fp)}var Vs=0,Fe=null,gt=null,on=null,$p=!1,nc=!1,bu=!1,Hp=0,Rh=0,rc=null,sB=0;function Yt(){throw Error(r(321))}function T0(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Cr(s[l],o[l]))return!1;return!0}function A0(s,o,l,d,v,_){return Vs=_,Fe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,te.H=s===null||s.memoizedState===null?fP:hP,bu=!1,_=l(d,v),bu=!1,nc&&(_=Rx(o,l,d,v)),Ox(s),_}function Ox(s){te.H=Xp;var o=gt!==null&&gt.next!==null;if(Vs=0,on=gt=Fe=null,$p=!1,Rh=0,rc=null,o)throw Error(r(300));s===null||On||(s=s.dependencies,s!==null&&Lp(s)&&(On=!0))}function Rx(s,o,l,d){Fe=s;var v=0;do{if(nc&&(rc=null),Rh=0,nc=!1,25<=v)throw Error(r(301));if(v+=1,on=gt=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}te.H=dB,_=o(l,d)}while(nc);return _}function oB(){var s=te.H,o=s.useState()[0];return o=typeof o.then=="function"?Ch(o):o,s=s.useState()[0],(gt!==null?gt.memoizedState:null)!==s&&(Fe.flags|=1024),o}function S0(){var s=Hp!==0;return Hp=0,s}function I0(s,o,l){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~l}function x0(s){if($p){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}$p=!1}Vs=0,on=gt=Fe=null,nc=!1,Rh=Hp=0,rc=null}function _r(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Fe.memoizedState=on=s:on=on.next=s,on}function un(){if(gt===null){var s=Fe.alternate;s=s!==null?s.memoizedState:null}else s=gt.next;var o=on===null?Fe.memoizedState:on.next;if(o!==null)on=o,gt=s;else{if(s===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));gt=s,s={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},on===null?Fe.memoizedState=on=s:on=on.next=s}return on}function P0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ch(s){var o=Rh;return Rh+=1,rc===null&&(rc=[]),s=Tx(rc,s,o),o=Fe,(on===null?o.memoizedState:on.next)===null&&(o=o.alternate,te.H=o===null||o.memoizedState===null?fP:hP),s}function Kp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ch(s);if(s.$$typeof===P)return Jn(s)}throw Error(r(438,String(s)))}function O0(s){var o=null,l=Fe.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var d=Fe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=P0(),Fe.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(s),d=0;d<s;d++)l[d]=q;return o.index++,l}function Ha(s,o){return typeof o=="function"?o(s):o}function Gp(s){var o=un();return R0(o,gt,s)}function R0(s,o,l){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var v=s.baseQueue,_=d.pending;if(_!==null){if(v!==null){var I=v.next;v.next=_.next,_.next=I}o.baseQueue=v=_,d.pending=null}if(_=s.baseState,v===null)s.memoizedState=_;else{o=v.next;var O=I=null,z=null,X=o,re=!1;do{var ue=X.lane&-536870913;if(ue!==X.lane?(et&ue)===ue:(Vs&ue)===ue){var Z=X.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ue===Jl&&(re=!0);else if((Vs&Z)===Z){X=X.next,Z===Jl&&(re=!0);continue}else ue={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(O=z=ue,I=_):z=z.next=ue,Fe.lanes|=Z,Fs|=Z;ue=X.action,bu&&l(_,ue),_=X.hasEagerState?X.eagerState:l(_,ue)}else Z={lane:ue,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(O=z=Z,I=_):z=z.next=Z,Fe.lanes|=ue,Fs|=ue;X=X.next}while(X!==null&&X!==o);if(z===null?I=_:z.next=O,!Cr(_,s.memoizedState)&&(On=!0,re&&(l=ec,l!==null)))throw l;s.memoizedState=_,s.baseState=I,s.baseQueue=z,d.lastRenderedState=_}return v===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function C0(s){var o=un(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var d=l.dispatch,v=l.pending,_=o.memoizedState;if(v!==null){l.pending=null;var I=v=v.next;do _=s(_,I.action),I=I.next;while(I!==v);Cr(_,o.memoizedState)||(On=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),l.lastRenderedState=_}return[_,d]}function Cx(s,o,l){var d=Fe,v=un(),_=at;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=o();var I=!Cr((gt||v).memoizedState,l);I&&(v.memoizedState=l,On=!0),v=v.queue;var O=kx.bind(null,d,v,s);if(Dh(2048,8,O,[s]),v.getSnapshot!==o||I||on!==null&&on.memoizedState.tag&1){if(d.flags|=2048,ic(9,Wp(),Nx.bind(null,d,v,l,o),null),Tt===null)throw Error(r(349));_||(Vs&124)!==0||Dx(d,o,l)}return l}function Dx(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=Fe.updateQueue,o===null?(o=P0(),Fe.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Nx(s,o,l,d){o.value=l,o.getSnapshot=d,Mx(o)&&Vx(s)}function kx(s,o,l){return l(function(){Mx(o)&&Vx(s)})}function Mx(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Cr(s,l)}catch{return!0}}function Vx(s){var o=Yl(s,2);o!==null&&jr(o,s,2)}function D0(s){var o=_r();if(typeof s=="function"){var l=s;if(s=l(),bu){Or(!0);try{l()}finally{Or(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:s},o}function jx(s,o,l,d){return s.baseState=l,R0(s,gt,typeof d=="function"?d:Ha)}function uB(s,o,l,d,v){if(Qp(s))throw Error(r(485));if(s=o.action,s!==null){var _={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){_.listeners.push(I)}};te.T!==null?l(!0):_.isTransition=!1,d(_),l=o.pending,l===null?(_.next=o.pending=_,Lx(o,_)):(_.next=l.next,o.pending=l.next=_)}}function Lx(s,o){var l=o.action,d=o.payload,v=s.state;if(o.isTransition){var _=te.T,I={};te.T=I;try{var O=l(v,d),z=te.S;z!==null&&z(I,O),Ux(s,o,O)}catch(X){N0(s,o,X)}finally{te.T=_}}else try{_=l(v,d),Ux(s,o,_)}catch(X){N0(s,o,X)}}function Ux(s,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Bx(s,o,d)},function(d){return N0(s,o,d)}):Bx(s,o,l)}function Bx(s,o,l){o.status="fulfilled",o.value=l,qx(o),s.state=l,o=s.pending,o!==null&&(l=o.next,l===o?s.pending=null:(l=l.next,o.next=l,Lx(s,l)))}function N0(s,o,l){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=l,qx(o),o=o.next;while(o!==d)}s.action=null}function qx(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function zx(s,o){return o}function Fx(s,o){if(at){var l=Tt.formState;if(l!==null){e:{var d=Fe;if(at){if(Ft){t:{for(var v=Ft,_=na;v.nodeType!==8;){if(!_){v=null;break t}if(v=Ni(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){Ft=Ni(v.nextSibling),d=v.data==="F!";break e}}gu(d)}d=!1}d&&(o=l[0])}}return l=_r(),l.memoizedState=l.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zx,lastRenderedState:o},l.queue=d,l=uP.bind(null,Fe,d),d.dispatch=l,d=D0(!1),_=L0.bind(null,Fe,!1,d.queue),d=_r(),v={state:o,dispatch:null,action:s,pending:null},d.queue=v,l=uB.bind(null,Fe,v,_,l),v.dispatch=l,d.memoizedState=s,[o,l,!1]}function $x(s){var o=un();return Hx(o,gt,s)}function Hx(s,o,l){if(o=R0(s,o,zx)[0],s=Gp(Ha)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Ch(o)}catch(I){throw I===Sh?qp:I}else d=o;o=un();var v=o.queue,_=v.dispatch;return l!==o.memoizedState&&(Fe.flags|=2048,ic(9,Wp(),lB.bind(null,v,l),null)),[d,_,s]}function lB(s,o){s.action=o}function Kx(s){var o=un(),l=gt;if(l!==null)return Hx(o,l,s);un(),o=o.memoizedState,l=un();var d=l.queue.dispatch;return l.memoizedState=s,[o,d,!1]}function ic(s,o,l,d){return s={tag:s,create:l,deps:d,inst:o,next:null},o=Fe.updateQueue,o===null&&(o=P0(),Fe.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,o.lastEffect=s),s}function Wp(){return{destroy:void 0,resource:void 0}}function Gx(){return un().memoizedState}function Yp(s,o,l,d){var v=_r();d=d===void 0?null:d,Fe.flags|=s,v.memoizedState=ic(1|o,Wp(),l,d)}function Dh(s,o,l,d){var v=un();d=d===void 0?null:d;var _=v.memoizedState.inst;gt!==null&&d!==null&&T0(d,gt.memoizedState.deps)?v.memoizedState=ic(o,_,l,d):(Fe.flags|=s,v.memoizedState=ic(1|o,_,l,d))}function Wx(s,o){Yp(8390656,8,s,o)}function Yx(s,o){Dh(2048,8,s,o)}function Qx(s,o){return Dh(4,2,s,o)}function Xx(s,o){return Dh(4,4,s,o)}function Zx(s,o){if(typeof o=="function"){s=s();var l=o(s);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Jx(s,o,l){l=l!=null?l.concat([s]):null,Dh(4,4,Zx.bind(null,o,s),l)}function k0(){}function eP(s,o){var l=un();o=o===void 0?null:o;var d=l.memoizedState;return o!==null&&T0(o,d[1])?d[0]:(l.memoizedState=[s,o],s)}function tP(s,o){var l=un();o=o===void 0?null:o;var d=l.memoizedState;if(o!==null&&T0(o,d[1]))return d[0];if(d=s(),bu){Or(!0);try{s()}finally{Or(!1)}}return l.memoizedState=[d,o],d}function M0(s,o,l){return l===void 0||(Vs&1073741824)!==0?s.memoizedState=o:(s.memoizedState=l,s=iO(),Fe.lanes|=s,Fs|=s,l)}function nP(s,o,l,d){return Cr(l,o)?l:tc.current!==null?(s=M0(s,l,d),Cr(s,o)||(On=!0),s):(Vs&42)===0?(On=!0,s.memoizedState=l):(s=iO(),Fe.lanes|=s,Fs|=s,o)}function rP(s,o,l,d,v){var _=he.p;he.p=_!==0&&8>_?_:8;var I=te.T,O={};te.T=O,L0(s,!1,o,l);try{var z=v(),X=te.S;if(X!==null&&X(O,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var re=aB(z,d);Nh(s,o,re,Vr(s))}else Nh(s,o,d,Vr(s))}catch(ue){Nh(s,o,{then:function(){},status:"rejected",reason:ue},Vr())}finally{he.p=_,te.T=I}}function cB(){}function V0(s,o,l,d){if(s.tag!==5)throw Error(r(476));var v=iP(s).queue;rP(s,v,o,be,l===null?cB:function(){return aP(s),l(d)})}function iP(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:be},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:l},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function aP(s){var o=iP(s).next.queue;Nh(s,o,{},Vr())}function j0(){return Jn(Xh)}function sP(){return un().memoizedState}function oP(){return un().memoizedState}function fB(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var l=Vr();s=ks(l);var d=Ms(o,s,l);d!==null&&(jr(d,o,l),xh(d,o,l)),o={cache:d0()},s.payload=o;return}o=o.return}}function hB(s,o,l){var d=Vr();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Qp(s)?lP(o,l):(l=r0(s,o,l,d),l!==null&&(jr(l,s,d),cP(l,o,d)))}function uP(s,o,l){var d=Vr();Nh(s,o,l,d)}function Nh(s,o,l,d){var v={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qp(s))lP(o,v);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var I=o.lastRenderedState,O=_(I,l);if(v.hasEagerState=!0,v.eagerState=O,Cr(O,I))return Np(s,o,v,0),Tt===null&&Dp(),!1}catch{}finally{}if(l=r0(s,o,v,d),l!==null)return jr(l,s,d),cP(l,o,d),!0}return!1}function L0(s,o,l,d){if(d={lane:2,revertLane:gb(),action:d,hasEagerState:!1,eagerState:null,next:null},Qp(s)){if(o)throw Error(r(479))}else o=r0(s,l,d,2),o!==null&&jr(o,s,2)}function Qp(s){var o=s.alternate;return s===Fe||o!==null&&o===Fe}function lP(s,o){nc=$p=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function cP(s,o,l){if((l&4194048)!==0){var d=o.lanes;d&=s.pendingLanes,l|=d,o.lanes=l,th(s,l)}}var Xp={readContext:Jn,use:Kp,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt},fP={readContext:Jn,use:Kp,useCallback:function(s,o){return _r().memoizedState=[s,o===void 0?null:o],s},useContext:Jn,useEffect:Wx,useImperativeHandle:function(s,o,l){l=l!=null?l.concat([s]):null,Yp(4194308,4,Zx.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Yp(4194308,4,s,o)},useInsertionEffect:function(s,o){Yp(4,2,s,o)},useMemo:function(s,o){var l=_r();o=o===void 0?null:o;var d=s();if(bu){Or(!0);try{s()}finally{Or(!1)}}return l.memoizedState=[d,o],d},useReducer:function(s,o,l){var d=_r();if(l!==void 0){var v=l(o);if(bu){Or(!0);try{l(o)}finally{Or(!1)}}}else v=o;return d.memoizedState=d.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},d.queue=s,s=s.dispatch=hB.bind(null,Fe,s),[d.memoizedState,s]},useRef:function(s){var o=_r();return s={current:s},o.memoizedState=s},useState:function(s){s=D0(s);var o=s.queue,l=uP.bind(null,Fe,o);return o.dispatch=l,[s.memoizedState,l]},useDebugValue:k0,useDeferredValue:function(s,o){var l=_r();return M0(l,s,o)},useTransition:function(){var s=D0(!1);return s=rP.bind(null,Fe,s.queue,!0,!1),_r().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,l){var d=Fe,v=_r();if(at){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),Tt===null)throw Error(r(349));(et&124)!==0||Dx(d,o,l)}v.memoizedState=l;var _={value:l,getSnapshot:o};return v.queue=_,Wx(kx.bind(null,d,_,s),[s]),d.flags|=2048,ic(9,Wp(),Nx.bind(null,d,_,l,o),null),l},useId:function(){var s=_r(),o=Tt.identifierPrefix;if(at){var l=za,d=qa;l=(d&~(1<<32-Zn(d)-1)).toString(32)+l,o=""+o+"R"+l,l=Hp++,0<l&&(o+="H"+l.toString(32)),o+=""}else l=sB++,o=""+o+"r"+l.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:j0,useFormState:Fx,useActionState:Fx,useOptimistic:function(s){var o=_r();o.memoizedState=o.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=L0.bind(null,Fe,!0,l),l.dispatch=o,[s,o]},useMemoCache:O0,useCacheRefresh:function(){return _r().memoizedState=fB.bind(null,Fe)}},hP={readContext:Jn,use:Kp,useCallback:eP,useContext:Jn,useEffect:Yx,useImperativeHandle:Jx,useInsertionEffect:Qx,useLayoutEffect:Xx,useMemo:tP,useReducer:Gp,useRef:Gx,useState:function(){return Gp(Ha)},useDebugValue:k0,useDeferredValue:function(s,o){var l=un();return nP(l,gt.memoizedState,s,o)},useTransition:function(){var s=Gp(Ha)[0],o=un().memoizedState;return[typeof s=="boolean"?s:Ch(s),o]},useSyncExternalStore:Cx,useId:sP,useHostTransitionStatus:j0,useFormState:$x,useActionState:$x,useOptimistic:function(s,o){var l=un();return jx(l,gt,s,o)},useMemoCache:O0,useCacheRefresh:oP},dB={readContext:Jn,use:Kp,useCallback:eP,useContext:Jn,useEffect:Yx,useImperativeHandle:Jx,useInsertionEffect:Qx,useLayoutEffect:Xx,useMemo:tP,useReducer:C0,useRef:Gx,useState:function(){return C0(Ha)},useDebugValue:k0,useDeferredValue:function(s,o){var l=un();return gt===null?M0(l,s,o):nP(l,gt.memoizedState,s,o)},useTransition:function(){var s=C0(Ha)[0],o=un().memoizedState;return[typeof s=="boolean"?s:Ch(s),o]},useSyncExternalStore:Cx,useId:sP,useHostTransitionStatus:j0,useFormState:Kx,useActionState:Kx,useOptimistic:function(s,o){var l=un();return gt!==null?jx(l,gt,s,o):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:O0,useCacheRefresh:oP},ac=null,kh=0;function Zp(s){var o=kh;return kh+=1,ac===null&&(ac=[]),Tx(ac,s,o)}function Mh(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Jp(s,o){throw o.$$typeof===g?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function dP(s){var o=s._init;return o(s._payload)}function mP(s){function o(G,K){if(s){var Q=G.deletions;Q===null?(G.deletions=[K],G.flags|=16):Q.push(K)}}function l(G,K){if(!s)return null;for(;K!==null;)o(G,K),K=K.sibling;return null}function d(G){for(var K=new Map;G!==null;)G.key!==null?K.set(G.key,G):K.set(G.index,G),G=G.sibling;return K}function v(G,K){return G=Ba(G,K),G.index=0,G.sibling=null,G}function _(G,K,Q){return G.index=Q,s?(Q=G.alternate,Q!==null?(Q=Q.index,Q<K?(G.flags|=67108866,K):Q):(G.flags|=67108866,K)):(G.flags|=1048576,K)}function I(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function O(G,K,Q,se){return K===null||K.tag!==6?(K=a0(Q,G.mode,se),K.return=G,K):(K=v(K,Q),K.return=G,K)}function z(G,K,Q,se){var Ee=Q.type;return Ee===E?re(G,K,Q.props.children,se,Q.key):K!==null&&(K.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===D&&dP(Ee)===K.type)?(K=v(K,Q.props),Mh(K,Q),K.return=G,K):(K=Mp(Q.type,Q.key,Q.props,null,G.mode,se),Mh(K,Q),K.return=G,K)}function X(G,K,Q,se){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=s0(Q,G.mode,se),K.return=G,K):(K=v(K,Q.children||[]),K.return=G,K)}function re(G,K,Q,se,Ee){return K===null||K.tag!==7?(K=hu(Q,G.mode,se,Ee),K.return=G,K):(K=v(K,Q),K.return=G,K)}function ue(G,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=a0(""+K,G.mode,Q),K.return=G,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return Q=Mp(K.type,K.key,K.props,null,G.mode,Q),Mh(Q,K),Q.return=G,Q;case b:return K=s0(K,G.mode,Q),K.return=G,K;case D:var se=K._init;return K=se(K._payload),ue(G,K,Q)}if(Me(K)||B(K))return K=hu(K,G.mode,Q,null),K.return=G,K;if(typeof K.then=="function")return ue(G,Zp(K),Q);if(K.$$typeof===P)return ue(G,Up(G,K),Q);Jp(G,K)}return null}function Z(G,K,Q,se){var Ee=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ee!==null?null:O(G,K,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return Q.key===Ee?z(G,K,Q,se):null;case b:return Q.key===Ee?X(G,K,Q,se):null;case D:return Ee=Q._init,Q=Ee(Q._payload),Z(G,K,Q,se)}if(Me(Q)||B(Q))return Ee!==null?null:re(G,K,Q,se,null);if(typeof Q.then=="function")return Z(G,K,Zp(Q),se);if(Q.$$typeof===P)return Z(G,K,Up(G,Q),se);Jp(G,Q)}return null}function J(G,K,Q,se,Ee){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(Q)||null,O(K,G,""+se,Ee);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case y:return G=G.get(se.key===null?Q:se.key)||null,z(K,G,se,Ee);case b:return G=G.get(se.key===null?Q:se.key)||null,X(K,G,se,Ee);case D:var $e=se._init;return se=$e(se._payload),J(G,K,Q,se,Ee)}if(Me(se)||B(se))return G=G.get(Q)||null,re(K,G,se,Ee,null);if(typeof se.then=="function")return J(G,K,Q,Zp(se),Ee);if(se.$$typeof===P)return J(G,K,Q,Up(K,se),Ee);Jp(K,se)}return null}function Le(G,K,Q,se){for(var Ee=null,$e=null,Ie=K,ke=K=0,Cn=null;Ie!==null&&ke<Q.length;ke++){Ie.index>ke?(Cn=Ie,Ie=null):Cn=Ie.sibling;var nt=Z(G,Ie,Q[ke],se);if(nt===null){Ie===null&&(Ie=Cn);break}s&&Ie&&nt.alternate===null&&o(G,Ie),K=_(nt,K,ke),$e===null?Ee=nt:$e.sibling=nt,$e=nt,Ie=Cn}if(ke===Q.length)return l(G,Ie),at&&mu(G,ke),Ee;if(Ie===null){for(;ke<Q.length;ke++)Ie=ue(G,Q[ke],se),Ie!==null&&(K=_(Ie,K,ke),$e===null?Ee=Ie:$e.sibling=Ie,$e=Ie);return at&&mu(G,ke),Ee}for(Ie=d(Ie);ke<Q.length;ke++)Cn=J(Ie,G,ke,Q[ke],se),Cn!==null&&(s&&Cn.alternate!==null&&Ie.delete(Cn.key===null?ke:Cn.key),K=_(Cn,K,ke),$e===null?Ee=Cn:$e.sibling=Cn,$e=Cn);return s&&Ie.forEach(function(Zs){return o(G,Zs)}),at&&mu(G,ke),Ee}function De(G,K,Q,se){if(Q==null)throw Error(r(151));for(var Ee=null,$e=null,Ie=K,ke=K=0,Cn=null,nt=Q.next();Ie!==null&&!nt.done;ke++,nt=Q.next()){Ie.index>ke?(Cn=Ie,Ie=null):Cn=Ie.sibling;var Zs=Z(G,Ie,nt.value,se);if(Zs===null){Ie===null&&(Ie=Cn);break}s&&Ie&&Zs.alternate===null&&o(G,Ie),K=_(Zs,K,ke),$e===null?Ee=Zs:$e.sibling=Zs,$e=Zs,Ie=Cn}if(nt.done)return l(G,Ie),at&&mu(G,ke),Ee;if(Ie===null){for(;!nt.done;ke++,nt=Q.next())nt=ue(G,nt.value,se),nt!==null&&(K=_(nt,K,ke),$e===null?Ee=nt:$e.sibling=nt,$e=nt);return at&&mu(G,ke),Ee}for(Ie=d(Ie);!nt.done;ke++,nt=Q.next())nt=J(Ie,G,ke,nt.value,se),nt!==null&&(s&&nt.alternate!==null&&Ie.delete(nt.key===null?ke:nt.key),K=_(nt,K,ke),$e===null?Ee=nt:$e.sibling=nt,$e=nt);return s&&Ie.forEach(function(m9){return o(G,m9)}),at&&mu(G,ke),Ee}function yt(G,K,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:e:{for(var Ee=Q.key;K!==null;){if(K.key===Ee){if(Ee=Q.type,Ee===E){if(K.tag===7){l(G,K.sibling),se=v(K,Q.props.children),se.return=G,G=se;break e}}else if(K.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===D&&dP(Ee)===K.type){l(G,K.sibling),se=v(K,Q.props),Mh(se,Q),se.return=G,G=se;break e}l(G,K);break}else o(G,K);K=K.sibling}Q.type===E?(se=hu(Q.props.children,G.mode,se,Q.key),se.return=G,G=se):(se=Mp(Q.type,Q.key,Q.props,null,G.mode,se),Mh(se,Q),se.return=G,G=se)}return I(G);case b:e:{for(Ee=Q.key;K!==null;){if(K.key===Ee)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){l(G,K.sibling),se=v(K,Q.children||[]),se.return=G,G=se;break e}else{l(G,K);break}else o(G,K);K=K.sibling}se=s0(Q,G.mode,se),se.return=G,G=se}return I(G);case D:return Ee=Q._init,Q=Ee(Q._payload),yt(G,K,Q,se)}if(Me(Q))return Le(G,K,Q,se);if(B(Q)){if(Ee=B(Q),typeof Ee!="function")throw Error(r(150));return Q=Ee.call(Q),De(G,K,Q,se)}if(typeof Q.then=="function")return yt(G,K,Zp(Q),se);if(Q.$$typeof===P)return yt(G,K,Up(G,Q),se);Jp(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(l(G,K.sibling),se=v(K,Q),se.return=G,G=se):(l(G,K),se=a0(Q,G.mode,se),se.return=G,G=se),I(G)):l(G,K)}return function(G,K,Q,se){try{kh=0;var Ee=yt(G,K,Q,se);return ac=null,Ee}catch(Ie){if(Ie===Sh||Ie===qp)throw Ie;var $e=Dr(29,Ie,null,G.mode);return $e.lanes=se,$e.return=G,$e}finally{}}}var sc=mP(!0),pP=mP(!1),ci=oe(null),ra=null;function js(s){var o=s.alternate;ce(wn,wn.current&1),ce(ci,s),ra===null&&(o===null||tc.current!==null||o.memoizedState!==null)&&(ra=s)}function gP(s){if(s.tag===22){if(ce(wn,wn.current),ce(ci,s),ra===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(ra=s)}}else Ls()}function Ls(){ce(wn,wn.current),ce(ci,ci.current)}function Ka(s){ie(ci),ra===s&&(ra=null),ie(wn)}var wn=oe(0);function eg(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Pb(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function U0(s,o,l,d){o=s.memoizedState,l=l(d,o),l=l==null?o:m({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var B0={enqueueSetState:function(s,o,l){s=s._reactInternals;var d=Vr(),v=ks(d);v.payload=o,l!=null&&(v.callback=l),o=Ms(s,v,d),o!==null&&(jr(o,s,d),xh(o,s,d))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var d=Vr(),v=ks(d);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=Ms(s,v,d),o!==null&&(jr(o,s,d),xh(o,s,d))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=Vr(),d=ks(l);d.tag=2,o!=null&&(d.callback=o),o=Ms(s,d,l),o!==null&&(jr(o,s,l),xh(o,s,l))}};function vP(s,o,l,d,v,_,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,_,I):o.prototype&&o.prototype.isPureReactComponent?!vh(l,d)||!vh(v,_):!0}function yP(s,o,l,d){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==s&&B0.enqueueReplaceState(o,o.state,null)}function wu(s,o){var l=o;if("ref"in o){l={};for(var d in o)d!=="ref"&&(l[d]=o[d])}if(s=s.defaultProps){l===o&&(l=m({},l));for(var v in s)l[v]===void 0&&(l[v]=s[v])}return l}var tg=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function _P(s){tg(s)}function bP(s){console.error(s)}function wP(s){tg(s)}function ng(s,o){try{var l=s.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function EP(s,o,l){try{var d=s.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function q0(s,o,l){return l=ks(l),l.tag=3,l.payload={element:null},l.callback=function(){ng(s,o)},l}function TP(s){return s=ks(s),s.tag=3,s}function AP(s,o,l,d){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var _=d.value;s.payload=function(){return v(_)},s.callback=function(){EP(o,l,d)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){EP(o,l,d),typeof v!="function"&&($s===null?$s=new Set([this]):$s.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function mB(s,o,l,d,v){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=l.alternate,o!==null&&Eh(o,l,v,!0),l=ci.current,l!==null){switch(l.tag){case 13:return ra===null?fb():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=v,d===g0?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([d]):o.add(d),db(s,d,v)),!1;case 22:return l.flags|=65536,d===g0?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([d]):l.add(d)),db(s,d,v)),!1}throw Error(r(435,l.tag))}return db(s,d,v),fb(),!1}if(at)return o=ci.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,d!==l0&&(s=Error(r(422),{cause:d}),wh(si(s,l)))):(d!==l0&&(o=Error(r(423),{cause:d}),wh(si(o,l))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,d=si(d,l),v=q0(s.stateNode,d,v),_0(s,v),$t!==4&&($t=2)),!1;var _=Error(r(520),{cause:d});if(_=si(_,l),zh===null?zh=[_]:zh.push(_),$t!==4&&($t=2),o===null)return!0;d=si(d,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,s=v&-v,l.lanes|=s,s=q0(l.stateNode,d,s),_0(l,s),!1;case 1:if(o=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&($s===null||!$s.has(_))))return l.flags|=65536,v&=-v,l.lanes|=v,v=TP(v),AP(v,s,l,d),_0(l,v),!1}l=l.return}while(l!==null);return!1}var SP=Error(r(461)),On=!1;function qn(s,o,l,d){o.child=s===null?pP(o,null,l,d):sc(o,s.child,l,d)}function IP(s,o,l,d,v){l=l.render;var _=o.ref;if("ref"in d){var I={};for(var O in d)O!=="ref"&&(I[O]=d[O])}else I=d;return yu(o),d=A0(s,o,l,I,_,v),O=S0(),s!==null&&!On?(I0(s,o,v),Ga(s,o,v)):(at&&O&&o0(o),o.flags|=1,qn(s,o,d,v),o.child)}function xP(s,o,l,d,v){if(s===null){var _=l.type;return typeof _=="function"&&!i0(_)&&_.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=_,PP(s,o,_,d,v)):(s=Mp(l.type,null,d,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!Y0(s,v)){var I=_.memoizedProps;if(l=l.compare,l=l!==null?l:vh,l(I,d)&&s.ref===o.ref)return Ga(s,o,v)}return o.flags|=1,s=Ba(_,d),s.ref=o.ref,s.return=o,o.child=s}function PP(s,o,l,d,v){if(s!==null){var _=s.memoizedProps;if(vh(_,d)&&s.ref===o.ref)if(On=!1,o.pendingProps=d=_,Y0(s,v))(s.flags&131072)!==0&&(On=!0);else return o.lanes=s.lanes,Ga(s,o,v)}return z0(s,o,l,d,v)}function OP(s,o,l){var d=o.pendingProps,v=d.children,_=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((o.flags&128)!==0){if(d=_!==null?_.baseLanes|l:l,s!==null){for(v=o.child=s.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;o.childLanes=_&~d}else o.childLanes=0,o.child=null;return RP(s,o,d,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Bp(o,_!==null?_.cachePool:null),_!==null?Px(o,_):w0(),gP(o);else return o.lanes=o.childLanes=536870912,RP(s,o,_!==null?_.baseLanes|l:l,l)}else _!==null?(Bp(o,_.cachePool),Px(o,_),Ls(),o.memoizedState=null):(s!==null&&Bp(o,null),w0(),Ls());return qn(s,o,v,l),o.child}function RP(s,o,l,d){var v=p0();return v=v===null?null:{parent:bn._currentValue,pool:v},o.memoizedState={baseLanes:l,cachePool:v},s!==null&&Bp(o,null),w0(),gP(o),s!==null&&Eh(s,o,d,!0),null}function rg(s,o){var l=o.ref;if(l===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(o.flags|=4194816)}}function z0(s,o,l,d,v){return yu(o),l=A0(s,o,l,d,void 0,v),d=S0(),s!==null&&!On?(I0(s,o,v),Ga(s,o,v)):(at&&d&&o0(o),o.flags|=1,qn(s,o,l,v),o.child)}function CP(s,o,l,d,v,_){return yu(o),o.updateQueue=null,l=Rx(o,d,l,v),Ox(s),d=S0(),s!==null&&!On?(I0(s,o,_),Ga(s,o,_)):(at&&d&&o0(o),o.flags|=1,qn(s,o,l,_),o.child)}function DP(s,o,l,d,v){if(yu(o),o.stateNode===null){var _=Ql,I=l.contextType;typeof I=="object"&&I!==null&&(_=Jn(I)),_=new l(d,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=B0,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=d,_.state=o.memoizedState,_.refs={},v0(o),I=l.contextType,_.context=typeof I=="object"&&I!==null?Jn(I):Ql,_.state=o.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(U0(o,l,I,d),_.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(I=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),I!==_.state&&B0.enqueueReplaceState(_,_.state,null),Oh(o,d,_,v),Ph(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(s===null){_=o.stateNode;var O=o.memoizedProps,z=wu(l,O);_.props=z;var X=_.context,re=l.contextType;I=Ql,typeof re=="object"&&re!==null&&(I=Jn(re));var ue=l.getDerivedStateFromProps;re=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,re||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O||X!==I)&&yP(o,_,d,I),Ns=!1;var Z=o.memoizedState;_.state=Z,Oh(o,d,_,v),Ph(),X=o.memoizedState,O||Z!==X||Ns?(typeof ue=="function"&&(U0(o,l,ue,d),X=o.memoizedState),(z=Ns||vP(o,l,z,d,Z,X,I))?(re||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=X),_.props=d,_.state=X,_.context=I,d=z):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{_=o.stateNode,y0(s,o),I=o.memoizedProps,re=wu(l,I),_.props=re,ue=o.pendingProps,Z=_.context,X=l.contextType,z=Ql,typeof X=="object"&&X!==null&&(z=Jn(X)),O=l.getDerivedStateFromProps,(X=typeof O=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==ue||Z!==z)&&yP(o,_,d,z),Ns=!1,Z=o.memoizedState,_.state=Z,Oh(o,d,_,v),Ph();var J=o.memoizedState;I!==ue||Z!==J||Ns||s!==null&&s.dependencies!==null&&Lp(s.dependencies)?(typeof O=="function"&&(U0(o,l,O,d),J=o.memoizedState),(re=Ns||vP(o,l,re,d,Z,J,z)||s!==null&&s.dependencies!==null&&Lp(s.dependencies))?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,J,z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,J,z)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=J),_.props=d,_.state=J,_.context=z,d=re):(typeof _.componentDidUpdate!="function"||I===s.memoizedProps&&Z===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&Z===s.memoizedState||(o.flags|=1024),d=!1)}return _=d,rg(s,o),d=(o.flags&128)!==0,_||d?(_=o.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,s!==null&&d?(o.child=sc(o,s.child,null,v),o.child=sc(o,null,l,v)):qn(s,o,l,v),o.memoizedState=_.state,s=o.child):s=Ga(s,o,v),s}function NP(s,o,l,d){return bh(),o.flags|=256,qn(s,o,l,d),o.child}var F0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $0(s){return{baseLanes:s,cachePool:bx()}}function H0(s,o,l){return s=s!==null?s.childLanes&~l:0,o&&(s|=fi),s}function kP(s,o,l){var d=o.pendingProps,v=!1,_=(o.flags&128)!==0,I;if((I=_)||(I=s!==null&&s.memoizedState===null?!1:(wn.current&2)!==0),I&&(v=!0,o.flags&=-129),I=(o.flags&32)!==0,o.flags&=-33,s===null){if(at){if(v?js(o):Ls(),at){var O=Ft,z;if(z=O){e:{for(z=O,O=na;z.nodeType!==8;){if(!O){O=null;break e}if(z=Ni(z.nextSibling),z===null){O=null;break e}}O=z}O!==null?(o.memoizedState={dehydrated:O,treeContext:du!==null?{id:qa,overflow:za}:null,retryLane:536870912,hydrationErrors:null},z=Dr(18,null,null,0),z.stateNode=O,z.return=o,o.child=z,hr=o,Ft=null,z=!0):z=!1}z||gu(o)}if(O=o.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Pb(O)?o.lanes=32:o.lanes=536870912,null;Ka(o)}return O=d.children,d=d.fallback,v?(Ls(),v=o.mode,O=ig({mode:"hidden",children:O},v),d=hu(d,v,l,null),O.return=o,d.return=o,O.sibling=d,o.child=O,v=o.child,v.memoizedState=$0(l),v.childLanes=H0(s,I,l),o.memoizedState=F0,d):(js(o),K0(o,O))}if(z=s.memoizedState,z!==null&&(O=z.dehydrated,O!==null)){if(_)o.flags&256?(js(o),o.flags&=-257,o=G0(s,o,l)):o.memoizedState!==null?(Ls(),o.child=s.child,o.flags|=128,o=null):(Ls(),v=d.fallback,O=o.mode,d=ig({mode:"visible",children:d.children},O),v=hu(v,O,l,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,sc(o,s.child,null,l),d=o.child,d.memoizedState=$0(l),d.childLanes=H0(s,I,l),o.memoizedState=F0,o=v);else if(js(o),Pb(O)){if(I=O.nextSibling&&O.nextSibling.dataset,I)var X=I.dgst;I=X,d=Error(r(419)),d.stack="",d.digest=I,wh({value:d,source:null,stack:null}),o=G0(s,o,l)}else if(On||Eh(s,o,l,!1),I=(l&s.childLanes)!==0,On||I){if(I=Tt,I!==null&&(d=l&-l,d=(d&42)!==0?1:Ss(d),d=(d&(I.suspendedLanes|l))!==0?0:d,d!==0&&d!==z.retryLane))throw z.retryLane=d,Yl(s,d),jr(I,s,d),SP;O.data==="$?"||fb(),o=G0(s,o,l)}else O.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=z.treeContext,Ft=Ni(O.nextSibling),hr=o,at=!0,pu=null,na=!1,s!==null&&(ui[li++]=qa,ui[li++]=za,ui[li++]=du,qa=s.id,za=s.overflow,du=o),o=K0(o,d.children),o.flags|=4096);return o}return v?(Ls(),v=d.fallback,O=o.mode,z=s.child,X=z.sibling,d=Ba(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&65011712,X!==null?v=Ba(X,v):(v=hu(v,O,l,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,O=s.child.memoizedState,O===null?O=$0(l):(z=O.cachePool,z!==null?(X=bn._currentValue,z=z.parent!==X?{parent:X,pool:X}:z):z=bx(),O={baseLanes:O.baseLanes|l,cachePool:z}),v.memoizedState=O,v.childLanes=H0(s,I,l),o.memoizedState=F0,d):(js(o),l=s.child,s=l.sibling,l=Ba(l,{mode:"visible",children:d.children}),l.return=o,l.sibling=null,s!==null&&(I=o.deletions,I===null?(o.deletions=[s],o.flags|=16):I.push(s)),o.child=l,o.memoizedState=null,l)}function K0(s,o){return o=ig({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function ig(s,o){return s=Dr(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function G0(s,o,l){return sc(o,s.child,null,l),s=K0(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function MP(s,o,l){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o),f0(s.return,o,l)}function W0(s,o,l,d,v){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:v}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=l,_.tailMode=v)}function VP(s,o,l){var d=o.pendingProps,v=d.revealOrder,_=d.tail;if(qn(s,o,d.children,l),d=wn.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&MP(s,l,o);else if(s.tag===19)MP(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(ce(wn,d),v){case"forwards":for(l=o.child,v=null;l!==null;)s=l.alternate,s!==null&&eg(s)===null&&(v=l),l=l.sibling;l=v,l===null?(v=o.child,o.child=null):(v=l.sibling,l.sibling=null),W0(o,!1,v,l,_);break;case"backwards":for(l=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&eg(s)===null){o.child=v;break}s=v.sibling,v.sibling=l,l=v,v=s}W0(o,!0,l,null,_);break;case"together":W0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ga(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Fs|=o.lanes,(l&o.childLanes)===0)if(s!==null){if(Eh(s,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,l=Ba(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Ba(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function Y0(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Lp(s)))}function pB(s,o,l){switch(o.tag){case 3:mt(o,o.stateNode.containerInfo),Ds(o,bn,s.memoizedState.cache),bh();break;case 27:case 5:Ue(o);break;case 4:mt(o,o.stateNode.containerInfo);break;case 10:Ds(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(js(o),o.flags|=128,null):(l&o.child.childLanes)!==0?kP(s,o,l):(js(o),s=Ga(s,o,l),s!==null?s.sibling:null);js(o);break;case 19:var v=(s.flags&128)!==0;if(d=(l&o.childLanes)!==0,d||(Eh(s,o,l,!1),d=(l&o.childLanes)!==0),v){if(d)return VP(s,o,l);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ce(wn,wn.current),d)break;return null;case 22:case 23:return o.lanes=0,OP(s,o,l);case 24:Ds(o,bn,s.memoizedState.cache)}return Ga(s,o,l)}function jP(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps)On=!0;else{if(!Y0(s,l)&&(o.flags&128)===0)return On=!1,pB(s,o,l);On=(s.flags&131072)!==0}else On=!1,at&&(o.flags&1048576)!==0&&dx(o,jp,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var d=o.elementType,v=d._init;if(d=v(d._payload),o.type=d,typeof d=="function")i0(d)?(s=wu(d,s),o.tag=1,o=DP(null,o,d,s,l)):(o.tag=0,o=z0(null,o,d,s,l));else{if(d!=null){if(v=d.$$typeof,v===U){o.tag=11,o=IP(null,o,d,s,l);break e}else if(v===C){o.tag=14,o=xP(null,o,d,s,l);break e}}throw o=Pe(d)||d,Error(r(306,o,""))}}return o;case 0:return z0(s,o,o.type,o.pendingProps,l);case 1:return d=o.type,v=wu(d,o.pendingProps),DP(s,o,d,v,l);case 3:e:{if(mt(o,o.stateNode.containerInfo),s===null)throw Error(r(387));d=o.pendingProps;var _=o.memoizedState;v=_.element,y0(s,o),Oh(o,d,null,l);var I=o.memoizedState;if(d=I.cache,Ds(o,bn,d),d!==_.cache&&h0(o,[bn],l,!0),Ph(),d=I.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:I.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=NP(s,o,d,l);break e}else if(d!==v){v=si(Error(r(424)),o),wh(v),o=NP(s,o,d,l);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ft=Ni(s.firstChild),hr=o,at=!0,pu=null,na=!0,l=pP(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(bh(),d===v){o=Ga(s,o,l);break e}qn(s,o,d,l)}o=o.child}return o;case 26:return rg(s,o),s===null?(l=qO(o.type,null,o.pendingProps,null))?o.memoizedState=l:at||(l=o.type,s=o.pendingProps,d=yg(je.current).createElement(l),d[vn]=o,d[an]=s,Fn(d,l,s),Wt(d),o.stateNode=d):o.memoizedState=qO(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Ue(o),s===null&&at&&(d=o.stateNode=LO(o.type,o.pendingProps,je.current),hr=o,na=!0,v=Ft,Gs(o.type)?(Ob=v,Ft=Ni(d.firstChild)):Ft=v),qn(s,o,o.pendingProps.children,l),rg(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&at&&((v=d=Ft)&&(d=FB(d,o.type,o.pendingProps,na),d!==null?(o.stateNode=d,hr=o,Ft=Ni(d.firstChild),na=!1,v=!0):v=!1),v||gu(o)),Ue(o),v=o.type,_=o.pendingProps,I=s!==null?s.memoizedProps:null,d=_.children,Sb(v,_)?d=null:I!==null&&Sb(v,I)&&(o.flags|=32),o.memoizedState!==null&&(v=A0(s,o,oB,null,null,l),Xh._currentValue=v),rg(s,o),qn(s,o,d,l),o.child;case 6:return s===null&&at&&((s=l=Ft)&&(l=$B(l,o.pendingProps,na),l!==null?(o.stateNode=l,hr=o,Ft=null,s=!0):s=!1),s||gu(o)),null;case 13:return kP(s,o,l);case 4:return mt(o,o.stateNode.containerInfo),d=o.pendingProps,s===null?o.child=sc(o,null,d,l):qn(s,o,d,l),o.child;case 11:return IP(s,o,o.type,o.pendingProps,l);case 7:return qn(s,o,o.pendingProps,l),o.child;case 8:return qn(s,o,o.pendingProps.children,l),o.child;case 12:return qn(s,o,o.pendingProps.children,l),o.child;case 10:return d=o.pendingProps,Ds(o,o.type,d.value),qn(s,o,d.children,l),o.child;case 9:return v=o.type._context,d=o.pendingProps.children,yu(o),v=Jn(v),d=d(v),o.flags|=1,qn(s,o,d,l),o.child;case 14:return xP(s,o,o.type,o.pendingProps,l);case 15:return PP(s,o,o.type,o.pendingProps,l);case 19:return VP(s,o,l);case 31:return d=o.pendingProps,l=o.mode,d={mode:d.mode,children:d.children},s===null?(l=ig(d,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=Ba(s.child,d),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return OP(s,o,l);case 24:return yu(o),d=Jn(bn),s===null?(v=p0(),v===null&&(v=Tt,_=d0(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=l),v=_),o.memoizedState={parent:d,cache:v},v0(o),Ds(o,bn,v)):((s.lanes&l)!==0&&(y0(s,o),Oh(o,null,null,l),Ph()),v=s.memoizedState,_=o.memoizedState,v.parent!==d?(v={parent:d,cache:d},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Ds(o,bn,d)):(d=_.cache,Ds(o,bn,d),d!==v.cache&&h0(o,[bn],l,!0))),qn(s,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Wa(s){s.flags|=4}function LP(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!KO(o)){if(o=ci.current,o!==null&&((et&4194048)===et?ra!==null:(et&62914560)!==et&&(et&536870912)===0||o!==ra))throw Ih=g0,wx;s.flags|=8192}}function ag(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Jf():536870912,s.lanes|=o,cc|=o)}function Vh(s,o){if(!at)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function jt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(o)for(var v=s.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)l|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=d,s.childLanes=l,o}function gB(s,o,l){var d=o.pendingProps;switch(u0(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(o),null;case 1:return jt(o),null;case 3:return l=o.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),$a(bn),ye(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(_h(o)?Wa(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,gx())),jt(o),null;case 26:return l=o.memoizedState,s===null?(Wa(o),l!==null?(jt(o),LP(o,l)):(jt(o),o.flags&=-16777217)):l?l!==s.memoizedState?(Wa(o),jt(o),LP(o,l)):(jt(o),o.flags&=-16777217):(s.memoizedProps!==d&&Wa(o),jt(o),o.flags&=-16777217),null;case 27:Be(o),l=je.current;var v=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Wa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return jt(o),null}s=Ae.current,_h(o)?mx(o):(s=LO(v,d,l),o.stateNode=s,Wa(o))}return jt(o),null;case 5:if(Be(o),l=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==d&&Wa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return jt(o),null}if(s=Ae.current,_h(o))mx(o);else{switch(v=yg(je.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?v.createElement(l,{is:d.is}):v.createElement(l)}}s[vn]=o,s[an]=d;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=s;e:switch(Fn(s,l,d),l){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Wa(o)}}return jt(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==d&&Wa(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(s=je.current,_h(o)){if(s=o.stateNode,l=o.memoizedProps,d=null,v=hr,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}s[vn]=o,s=!!(s.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||CO(s.nodeValue,l)),s||gu(o)}else s=yg(s).createTextNode(d),s[vn]=o,o.stateNode=s}return jt(o),null;case 13:if(d=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=_h(o),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[vn]=o}else bh(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;jt(o),v=!1}else v=gx(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Ka(o),o):(Ka(o),null)}if(Ka(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=d!==null,s=s!==null&&s.memoizedState!==null,l){d=o.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var _=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==v&&(d.flags|=2048)}return l!==s&&l&&(o.child.flags|=8192),ag(o,o.updateQueue),jt(o),null;case 4:return ye(),s===null&&bb(o.stateNode.containerInfo),jt(o),null;case 10:return $a(o.type),jt(o),null;case 19:if(ie(wn),v=o.memoizedState,v===null)return jt(o),null;if(d=(o.flags&128)!==0,_=v.rendering,_===null)if(d)Vh(v,!1);else{if($t!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=eg(s),_!==null){for(o.flags|=128,Vh(v,!1),s=_.updateQueue,o.updateQueue=s,ag(o,s),o.subtreeFlags=0,s=l,l=o.child;l!==null;)hx(l,s),l=l.sibling;return ce(wn,wn.current&1|2),o.child}s=s.sibling}v.tail!==null&&rn()>ug&&(o.flags|=128,d=!0,Vh(v,!1),o.lanes=4194304)}else{if(!d)if(s=eg(_),s!==null){if(o.flags|=128,d=!0,s=s.updateQueue,o.updateQueue=s,ag(o,s),Vh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!at)return jt(o),null}else 2*rn()-v.renderingStartTime>ug&&l!==536870912&&(o.flags|=128,d=!0,Vh(v,!1),o.lanes=4194304);v.isBackwards?(_.sibling=o.child,o.child=_):(s=v.last,s!==null?s.sibling=_:o.child=_,v.last=_)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=rn(),o.sibling=null,s=wn.current,ce(wn,d?s&1|2:s&1),o):(jt(o),null);case 22:case 23:return Ka(o),E0(),d=o.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(l&536870912)!==0&&(o.flags&128)===0&&(jt(o),o.subtreeFlags&6&&(o.flags|=8192)):jt(o),l=o.updateQueue,l!==null&&ag(o,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==l&&(o.flags|=2048),s!==null&&ie(_u),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),$a(bn),jt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function vB(s,o){switch(u0(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return $a(bn),ye(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Be(o),null;case 13:if(Ka(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));bh()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ie(wn),null;case 4:return ye(),null;case 10:return $a(o.type),null;case 22:case 23:return Ka(o),E0(),s!==null&&ie(_u),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return $a(bn),null;case 25:return null;default:return null}}function UP(s,o){switch(u0(o),o.tag){case 3:$a(bn),ye();break;case 26:case 27:case 5:Be(o);break;case 4:ye();break;case 13:Ka(o);break;case 19:ie(wn);break;case 10:$a(o.type);break;case 22:case 23:Ka(o),E0(),s!==null&&ie(_u);break;case 24:$a(bn)}}function jh(s,o){try{var l=o.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var v=d.next;l=v;do{if((l.tag&s)===s){d=void 0;var _=l.create,I=l.inst;d=_(),I.destroy=d}l=l.next}while(l!==v)}}catch(O){bt(o,o.return,O)}}function Us(s,o,l){try{var d=o.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var _=v.next;d=_;do{if((d.tag&s)===s){var I=d.inst,O=I.destroy;if(O!==void 0){I.destroy=void 0,v=o;var z=l,X=O;try{X()}catch(re){bt(v,z,re)}}}d=d.next}while(d!==_)}}catch(re){bt(o,o.return,re)}}function BP(s){var o=s.updateQueue;if(o!==null){var l=s.stateNode;try{xx(o,l)}catch(d){bt(s,s.return,d)}}}function qP(s,o,l){l.props=wu(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(d){bt(s,o,d)}}function Lh(s,o){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof l=="function"?s.refCleanup=l(d):l.current=d}}catch(v){bt(s,o,v)}}function ia(s,o){var l=s.ref,d=s.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(v){bt(s,o,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){bt(s,o,v)}else l.current=null}function zP(s){var o=s.type,l=s.memoizedProps,d=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(v){bt(s,s.return,v)}}function Q0(s,o,l){try{var d=s.stateNode;LB(d,s.type,l,o),d[an]=o}catch(v){bt(s,s.return,v)}}function FP(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Gs(s.type)||s.tag===4}function X0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||FP(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Gs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Z0(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(s),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=vg));else if(d!==4&&(d===27&&Gs(s.type)&&(l=s.stateNode,o=null),s=s.child,s!==null))for(Z0(s,o,l),s=s.sibling;s!==null;)Z0(s,o,l),s=s.sibling}function sg(s,o,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(d!==4&&(d===27&&Gs(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(sg(s,o,l),s=s.sibling;s!==null;)sg(s,o,l),s=s.sibling}function $P(s){var o=s.stateNode,l=s.memoizedProps;try{for(var d=s.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Fn(o,d,l),o[vn]=s,o[an]=l}catch(_){bt(s,s.return,_)}}var Ya=!1,Qt=!1,J0=!1,HP=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function yB(s,o){if(s=s.containerInfo,Tb=Ag,s=nx(s),X_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var v=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var I=0,O=-1,z=-1,X=0,re=0,ue=s,Z=null;t:for(;;){for(var J;ue!==l||v!==0&&ue.nodeType!==3||(O=I+v),ue!==_||d!==0&&ue.nodeType!==3||(z=I+d),ue.nodeType===3&&(I+=ue.nodeValue.length),(J=ue.firstChild)!==null;)Z=ue,ue=J;for(;;){if(ue===s)break t;if(Z===l&&++X===v&&(O=I),Z===_&&++re===d&&(z=I),(J=ue.nextSibling)!==null)break;ue=Z,Z=ue.parentNode}ue=J}l=O===-1||z===-1?null:{start:O,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ab={focusedElem:s,selectionRange:l},Ag=!1,Rn=o;Rn!==null;)if(o=Rn,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,Rn=s;else for(;Rn!==null;){switch(o=Rn,_=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,l=o,v=_.memoizedProps,_=_.memoizedState,d=l.stateNode;try{var Le=wu(l.type,v,l.elementType===l.type);s=d.getSnapshotBeforeUpdate(Le,_),d.__reactInternalSnapshotBeforeUpdate=s}catch(De){bt(l,l.return,De)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,l=s.nodeType,l===9)xb(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":xb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,Rn=s;break}Rn=o.return}}function KP(s,o,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Bs(s,l),d&4&&jh(5,l);break;case 1:if(Bs(s,l),d&4)if(s=l.stateNode,o===null)try{s.componentDidMount()}catch(I){bt(l,l.return,I)}else{var v=wu(l.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(v,o,s.__reactInternalSnapshotBeforeUpdate)}catch(I){bt(l,l.return,I)}}d&64&&BP(l),d&512&&Lh(l,l.return);break;case 3:if(Bs(s,l),d&64&&(s=l.updateQueue,s!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{xx(s,o)}catch(I){bt(l,l.return,I)}}break;case 27:o===null&&d&4&&$P(l);case 26:case 5:Bs(s,l),o===null&&d&4&&zP(l),d&512&&Lh(l,l.return);break;case 12:Bs(s,l);break;case 13:Bs(s,l),d&4&&YP(s,l),d&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=xB.bind(null,l),HB(s,l))));break;case 22:if(d=l.memoizedState!==null||Ya,!d){o=o!==null&&o.memoizedState!==null||Qt,v=Ya;var _=Qt;Ya=d,(Qt=o)&&!_?qs(s,l,(l.subtreeFlags&8772)!==0):Bs(s,l),Ya=v,Qt=_}break;case 30:break;default:Bs(s,l)}}function GP(s){var o=s.alternate;o!==null&&(s.alternate=null,GP(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Ps(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ct=null,br=!1;function Qa(s,o,l){for(l=l.child;l!==null;)WP(s,o,l),l=l.sibling}function WP(s,o,l){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(zt,l)}catch{}switch(l.tag){case 26:Qt||ia(l,o),Qa(s,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Qt||ia(l,o);var d=Ct,v=br;Gs(l.type)&&(Ct=l.stateNode,br=!1),Qa(s,o,l),Gh(l.stateNode),Ct=d,br=v;break;case 5:Qt||ia(l,o);case 6:if(d=Ct,v=br,Ct=null,Qa(s,o,l),Ct=d,br=v,Ct!==null)if(br)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(l.stateNode)}catch(_){bt(l,o,_)}else try{Ct.removeChild(l.stateNode)}catch(_){bt(l,o,_)}break;case 18:Ct!==null&&(br?(s=Ct,VO(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),td(s)):VO(Ct,l.stateNode));break;case 4:d=Ct,v=br,Ct=l.stateNode.containerInfo,br=!0,Qa(s,o,l),Ct=d,br=v;break;case 0:case 11:case 14:case 15:Qt||Us(2,l,o),Qt||Us(4,l,o),Qa(s,o,l);break;case 1:Qt||(ia(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"&&qP(l,o,d)),Qa(s,o,l);break;case 21:Qa(s,o,l);break;case 22:Qt=(d=Qt)||l.memoizedState!==null,Qa(s,o,l),Qt=d;break;default:Qa(s,o,l)}}function YP(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{td(s)}catch(l){bt(o,o.return,l)}}function _B(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new HP),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new HP),o;default:throw Error(r(435,s.tag))}}function eb(s,o){var l=_B(s);o.forEach(function(d){var v=PB.bind(null,s,d);l.has(d)||(l.add(d),d.then(v,v))})}function Nr(s,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var v=l[d],_=s,I=o,O=I;e:for(;O!==null;){switch(O.tag){case 27:if(Gs(O.type)){Ct=O.stateNode,br=!1;break e}break;case 5:Ct=O.stateNode,br=!1;break e;case 3:case 4:Ct=O.stateNode.containerInfo,br=!0;break e}O=O.return}if(Ct===null)throw Error(r(160));WP(_,I,v),Ct=null,br=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)QP(o,s),o=o.sibling}var Di=null;function QP(s,o){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Nr(o,s),kr(s),d&4&&(Us(3,s,s.return),jh(3,s),Us(5,s,s.return));break;case 1:Nr(o,s),kr(s),d&512&&(Qt||l===null||ia(l,l.return)),d&64&&Ya&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var v=Di;if(Nr(o,s),kr(s),d&512&&(Qt||l===null||ia(l,l.return)),d&4){var _=l!==null?l.memoizedState:null;if(d=s.memoizedState,l===null)if(d===null)if(s.stateNode===null){e:{d=s.type,l=s.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Qo]||_[vn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(d),v.head.insertBefore(_,v.querySelector("head > title"))),Fn(_,d,l),_[vn]=s,Wt(_),d=_;break e;case"link":var I=$O("link","href",v).get(d+(l.href||""));if(I){for(var O=0;O<I.length;O++)if(_=I[O],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(O,1);break t}}_=v.createElement(d),Fn(_,d,l),v.head.appendChild(_);break;case"meta":if(I=$O("meta","content",v).get(d+(l.content||""))){for(O=0;O<I.length;O++)if(_=I[O],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(O,1);break t}}_=v.createElement(d),Fn(_,d,l),v.head.appendChild(_);break;default:throw Error(r(468,d))}_[vn]=s,Wt(_),d=_}s.stateNode=d}else HO(v,s.type,s.stateNode);else s.stateNode=FO(v,d,s.memoizedProps);else _!==d?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,d===null?HO(v,s.type,s.stateNode):FO(v,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Q0(s,s.memoizedProps,l.memoizedProps)}break;case 27:Nr(o,s),kr(s),d&512&&(Qt||l===null||ia(l,l.return)),l!==null&&d&4&&Q0(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Nr(o,s),kr(s),d&512&&(Qt||l===null||ia(l,l.return)),s.flags&32){v=s.stateNode;try{ni(v,"")}catch(J){bt(s,s.return,J)}}d&4&&s.stateNode!=null&&(v=s.memoizedProps,Q0(s,v,l!==null?l.memoizedProps:v)),d&1024&&(J0=!0);break;case 6:if(Nr(o,s),kr(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,l=s.stateNode;try{l.nodeValue=d}catch(J){bt(s,s.return,J)}}break;case 3:if(wg=null,v=Di,Di=_g(o.containerInfo),Nr(o,s),Di=v,kr(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{td(o.containerInfo)}catch(J){bt(s,s.return,J)}J0&&(J0=!1,XP(s));break;case 4:d=Di,Di=_g(s.stateNode.containerInfo),Nr(o,s),kr(s),Di=d;break;case 12:Nr(o,s),kr(s);break;case 13:Nr(o,s),kr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(sb=rn()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,eb(s,d)));break;case 22:v=s.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,X=Ya,re=Qt;if(Ya=X||v,Qt=re||z,Nr(o,s),Qt=re,Ya=X,kr(s),d&8192)e:for(o=s.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(l===null||z||Ya||Qt||Eu(s)),l=null,o=s;;){if(o.tag===5||o.tag===26){if(l===null){z=l=o;try{if(_=z.stateNode,v)I=_.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{O=z.stateNode;var ue=z.memoizedProps.style,Z=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;O.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){bt(z,z.return,J)}}}else if(o.tag===6){if(l===null){z=o;try{z.stateNode.nodeValue=v?"":z.memoizedProps}catch(J){bt(z,z.return,J)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=s.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,eb(s,l))));break;case 19:Nr(o,s),kr(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,eb(s,d)));break;case 30:break;case 21:break;default:Nr(o,s),kr(s)}}function kr(s){var o=s.flags;if(o&2){try{for(var l,d=s.return;d!==null;){if(FP(d)){l=d;break}d=d.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var v=l.stateNode,_=X0(s);sg(s,_,v);break;case 5:var I=l.stateNode;l.flags&32&&(ni(I,""),l.flags&=-33);var O=X0(s);sg(s,O,I);break;case 3:case 4:var z=l.stateNode.containerInfo,X=X0(s);Z0(s,X,z);break;default:throw Error(r(161))}}catch(re){bt(s,s.return,re)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function XP(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;XP(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Bs(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)KP(s,o.alternate,o),o=o.sibling}function Eu(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Us(4,o,o.return),Eu(o);break;case 1:ia(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&qP(o,o.return,l),Eu(o);break;case 27:Gh(o.stateNode);case 26:case 5:ia(o,o.return),Eu(o);break;case 22:o.memoizedState===null&&Eu(o);break;case 30:Eu(o);break;default:Eu(o)}s=s.sibling}}function qs(s,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,v=s,_=o,I=_.flags;switch(_.tag){case 0:case 11:case 15:qs(v,_,l),jh(4,_);break;case 1:if(qs(v,_,l),d=_,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(X){bt(d,d.return,X)}if(d=_,v=d.updateQueue,v!==null){var O=d.stateNode;try{var z=v.shared.hiddenCallbacks;if(z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<z.length;v++)Ix(z[v],O)}catch(X){bt(d,d.return,X)}}l&&I&64&&BP(_),Lh(_,_.return);break;case 27:$P(_);case 26:case 5:qs(v,_,l),l&&d===null&&I&4&&zP(_),Lh(_,_.return);break;case 12:qs(v,_,l);break;case 13:qs(v,_,l),l&&I&4&&YP(v,_);break;case 22:_.memoizedState===null&&qs(v,_,l),Lh(_,_.return);break;case 30:break;default:qs(v,_,l)}o=o.sibling}}function tb(s,o){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Th(l))}function nb(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Th(s))}function aa(s,o,l,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ZP(s,o,l,d),o=o.sibling}function ZP(s,o,l,d){var v=o.flags;switch(o.tag){case 0:case 11:case 15:aa(s,o,l,d),v&2048&&jh(9,o);break;case 1:aa(s,o,l,d);break;case 3:aa(s,o,l,d),v&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Th(s)));break;case 12:if(v&2048){aa(s,o,l,d),s=o.stateNode;try{var _=o.memoizedProps,I=_.id,O=_.onPostCommit;typeof O=="function"&&O(I,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){bt(o,o.return,z)}}else aa(s,o,l,d);break;case 13:aa(s,o,l,d);break;case 23:break;case 22:_=o.stateNode,I=o.alternate,o.memoizedState!==null?_._visibility&2?aa(s,o,l,d):Uh(s,o):_._visibility&2?aa(s,o,l,d):(_._visibility|=2,oc(s,o,l,d,(o.subtreeFlags&10256)!==0)),v&2048&&tb(I,o);break;case 24:aa(s,o,l,d),v&2048&&nb(o.alternate,o);break;default:aa(s,o,l,d)}}function oc(s,o,l,d,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=s,I=o,O=l,z=d,X=I.flags;switch(I.tag){case 0:case 11:case 15:oc(_,I,O,z,v),jh(8,I);break;case 23:break;case 22:var re=I.stateNode;I.memoizedState!==null?re._visibility&2?oc(_,I,O,z,v):Uh(_,I):(re._visibility|=2,oc(_,I,O,z,v)),v&&X&2048&&tb(I.alternate,I);break;case 24:oc(_,I,O,z,v),v&&X&2048&&nb(I.alternate,I);break;default:oc(_,I,O,z,v)}o=o.sibling}}function Uh(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=s,d=o,v=d.flags;switch(d.tag){case 22:Uh(l,d),v&2048&&tb(d.alternate,d);break;case 24:Uh(l,d),v&2048&&nb(d.alternate,d);break;default:Uh(l,d)}o=o.sibling}}var Bh=8192;function uc(s){if(s.subtreeFlags&Bh)for(s=s.child;s!==null;)JP(s),s=s.sibling}function JP(s){switch(s.tag){case 26:uc(s),s.flags&Bh&&s.memoizedState!==null&&i9(Di,s.memoizedState,s.memoizedProps);break;case 5:uc(s);break;case 3:case 4:var o=Di;Di=_g(s.stateNode.containerInfo),uc(s),Di=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Bh,Bh=16777216,uc(s),Bh=o):uc(s));break;default:uc(s)}}function eO(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function qh(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];Rn=d,nO(d,s)}eO(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tO(s),s=s.sibling}function tO(s){switch(s.tag){case 0:case 11:case 15:qh(s),s.flags&2048&&Us(9,s,s.return);break;case 3:qh(s);break;case 12:qh(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,og(s)):qh(s);break;default:qh(s)}}function og(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];Rn=d,nO(d,s)}eO(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Us(8,o,o.return),og(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,og(o));break;default:og(o)}s=s.sibling}}function nO(s,o){for(;Rn!==null;){var l=Rn;switch(l.tag){case 0:case 11:case 15:Us(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Th(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,Rn=d;else e:for(l=s;Rn!==null;){d=Rn;var v=d.sibling,_=d.return;if(GP(d),d===l){Rn=null;break e}if(v!==null){v.return=_,Rn=v;break e}Rn=_}}}var bB={getCacheForType:function(s){var o=Jn(bn),l=o.data.get(s);return l===void 0&&(l=s(),o.data.set(s,l)),l}},wB=typeof WeakMap=="function"?WeakMap:Map,ct=0,Tt=null,He=null,et=0,ft=0,Mr=null,zs=!1,lc=!1,rb=!1,Xa=0,$t=0,Fs=0,Tu=0,ib=0,fi=0,cc=0,zh=null,wr=null,ab=!1,sb=0,ug=1/0,lg=null,$s=null,zn=0,Hs=null,fc=null,hc=0,ob=0,ub=null,rO=null,Fh=0,lb=null;function Vr(){if((ct&2)!==0&&et!==0)return et&-et;if(te.T!==null){var s=Jl;return s!==0?s:gb()}return Is()}function iO(){fi===0&&(fi=(et&536870912)===0||at?Zf():536870912);var s=ci.current;return s!==null&&(s.flags|=32),fi}function jr(s,o,l){(s===Tt&&(ft===2||ft===9)||s.cancelPendingCommit!==null)&&(dc(s,0),Ks(s,et,fi,!1)),Oa(s,l),((ct&2)===0||s!==Tt)&&(s===Tt&&((ct&2)===0&&(Tu|=l),$t===4&&Ks(s,et,fi,!1)),sa(s))}function aO(s,o,l){if((ct&6)!==0)throw Error(r(327));var d=!l&&(o&124)===0&&(o&s.expiredLanes)===0||Yo(s,o),v=d?AB(s,o):hb(s,o,!0),_=d;do{if(v===0){lc&&!d&&Ks(s,o,0,!1);break}else{if(l=s.current.alternate,_&&!EB(l)){v=hb(s,o,!1),_=!1;continue}if(v===2){if(_=o,s.errorRecoveryDisabledLanes&_)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){o=I;e:{var O=s;v=zh;var z=O.current.memoizedState.isDehydrated;if(z&&(dc(O,I).flags|=256),I=hb(O,I,!1),I!==2){if(rb&&!z){O.errorRecoveryDisabledLanes|=_,Tu|=_,v=4;break e}_=wr,wr=v,_!==null&&(wr===null?wr=_:wr.push.apply(wr,_))}v=I}if(_=!1,v!==2)continue}}if(v===1){dc(s,0),Ks(s,o,0,!0);break}e:{switch(d=s,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ks(d,o,fi,!zs);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=sb+300-rn(),10<v)){if(Ks(d,o,fi,!zs),Rl(d,0,!0)!==0)break e;d.timeoutHandle=kO(sO.bind(null,d,l,wr,lg,ab,o,fi,Tu,cc,zs,_,2,-0,0),v);break e}sO(d,l,wr,lg,ab,o,fi,Tu,cc,zs,_,0,-0,0)}}break}while(!0);sa(s)}function sO(s,o,l,d,v,_,I,O,z,X,re,ue,Z,J){if(s.timeoutHandle=-1,ue=o.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(Qh={stylesheets:null,count:0,unsuspend:r9},JP(o),ue=a9(),ue!==null)){s.cancelPendingCommit=ue(dO.bind(null,s,o,_,l,d,v,I,O,z,re,1,Z,J)),Ks(s,_,I,!X);return}dO(s,o,_,l,d,v,I,O,z)}function EB(s){for(var o=s;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var v=l[d],_=v.getSnapshot;v=v.value;try{if(!Cr(_(),v))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ks(s,o,l,d){o&=~ib,o&=~Tu,s.suspendedLanes|=o,s.pingedLanes&=~o,d&&(s.warmLanes|=o),d=s.expirationTimes;for(var v=o;0<v;){var _=31-Zn(v),I=1<<_;d[_]=-1,v&=~I}l!==0&&Hi(s,l,o)}function cg(){return(ct&6)===0?($h(0),!1):!0}function cb(){if(He!==null){if(ft===0)var s=He.return;else s=He,Fa=vu=null,x0(s),ac=null,kh=0,s=He;for(;s!==null;)UP(s.alternate,s),s=s.return;He=null}}function dc(s,o){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,BB(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),cb(),Tt=s,He=l=Ba(s.current,null),et=o,ft=0,Mr=null,zs=!1,lc=Yo(s,o),rb=!1,cc=fi=ib=Tu=Fs=$t=0,wr=zh=null,ab=!1,(o&8)!==0&&(o|=o&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=o;0<d;){var v=31-Zn(d),_=1<<v;o|=s[v],d&=~_}return Xa=o,Dp(),l}function oO(s,o){Fe=null,te.H=Xp,o===Sh||o===qp?(o=Ax(),ft=3):o===wx?(o=Ax(),ft=4):ft=o===SP?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mr=o,He===null&&($t=1,ng(s,si(o,s.current)))}function uO(){var s=te.H;return te.H=Xp,s===null?Xp:s}function lO(){var s=te.A;return te.A=bB,s}function fb(){$t=4,zs||(et&4194048)!==et&&ci.current!==null||(lc=!0),(Fs&134217727)===0&&(Tu&134217727)===0||Tt===null||Ks(Tt,et,fi,!1)}function hb(s,o,l){var d=ct;ct|=2;var v=uO(),_=lO();(Tt!==s||et!==o)&&(lg=null,dc(s,o)),o=!1;var I=$t;e:do try{if(ft!==0&&He!==null){var O=He,z=Mr;switch(ft){case 8:cb(),I=6;break e;case 3:case 2:case 9:case 6:ci.current===null&&(o=!0);var X=ft;if(ft=0,Mr=null,mc(s,O,z,X),l&&lc){I=0;break e}break;default:X=ft,ft=0,Mr=null,mc(s,O,z,X)}}TB(),I=$t;break}catch(re){oO(s,re)}while(!0);return o&&s.shellSuspendCounter++,Fa=vu=null,ct=d,te.H=v,te.A=_,He===null&&(Tt=null,et=0,Dp()),I}function TB(){for(;He!==null;)cO(He)}function AB(s,o){var l=ct;ct|=2;var d=uO(),v=lO();Tt!==s||et!==o?(lg=null,ug=rn()+500,dc(s,o)):lc=Yo(s,o);e:do try{if(ft!==0&&He!==null){o=He;var _=Mr;t:switch(ft){case 1:ft=0,Mr=null,mc(s,o,_,1);break;case 2:case 9:if(Ex(_)){ft=0,Mr=null,fO(o);break}o=function(){ft!==2&&ft!==9||Tt!==s||(ft=7),sa(s)},_.then(o,o);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Ex(_)?(ft=0,Mr=null,fO(o)):(ft=0,Mr=null,mc(s,o,_,7));break;case 5:var I=null;switch(He.tag){case 26:I=He.memoizedState;case 5:case 27:var O=He;if(!I||KO(I)){ft=0,Mr=null;var z=O.sibling;if(z!==null)He=z;else{var X=O.return;X!==null?(He=X,fg(X)):He=null}break t}}ft=0,Mr=null,mc(s,o,_,5);break;case 6:ft=0,Mr=null,mc(s,o,_,6);break;case 8:cb(),$t=6;break e;default:throw Error(r(462))}}SB();break}catch(re){oO(s,re)}while(!0);return Fa=vu=null,te.H=d,te.A=v,ct=l,He!==null?0:(Tt=null,et=0,Dp(),$t)}function SB(){for(;He!==null&&!gn();)cO(He)}function cO(s){var o=jP(s.alternate,s,Xa);s.memoizedProps=s.pendingProps,o===null?fg(s):He=o}function fO(s){var o=s,l=o.alternate;switch(o.tag){case 15:case 0:o=CP(l,o,o.pendingProps,o.type,void 0,et);break;case 11:o=CP(l,o,o.pendingProps,o.type.render,o.ref,et);break;case 5:x0(o);default:UP(l,o),o=He=hx(o,Xa),o=jP(l,o,Xa)}s.memoizedProps=s.pendingProps,o===null?fg(s):He=o}function mc(s,o,l,d){Fa=vu=null,x0(o),ac=null,kh=0;var v=o.return;try{if(mB(s,v,o,l,et)){$t=1,ng(s,si(l,s.current)),He=null;return}}catch(_){if(v!==null)throw He=v,_;$t=1,ng(s,si(l,s.current)),He=null;return}o.flags&32768?(at||d===1?s=!0:lc||(et&536870912)!==0?s=!1:(zs=s=!0,(d===2||d===9||d===3||d===6)&&(d=ci.current,d!==null&&d.tag===13&&(d.flags|=16384))),hO(o,s)):fg(o)}function fg(s){var o=s;do{if((o.flags&32768)!==0){hO(o,zs);return}s=o.return;var l=gB(o.alternate,o,Xa);if(l!==null){He=l;return}if(o=o.sibling,o!==null){He=o;return}He=o=s}while(o!==null);$t===0&&($t=5)}function hO(s,o){do{var l=vB(s.alternate,s);if(l!==null){l.flags&=32767,He=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(s=s.sibling,s!==null)){He=s;return}He=s=l}while(s!==null);$t=6,He=null}function dO(s,o,l,d,v,_,I,O,z){s.cancelPendingCommit=null;do hg();while(zn!==0);if((ct&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=n0,eh(s,l,_,I,O,z),s===Tt&&(He=Tt=null,et=0),fc=o,Hs=s,hc=l,ob=_,ub=v,rO=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,OB(Ho,function(){return yO(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=te.T,te.T=null,v=he.p,he.p=2,I=ct,ct|=4;try{yB(s,o,l)}finally{ct=I,he.p=v,te.T=d}}zn=1,mO(),pO(),gO()}}function mO(){if(zn===1){zn=0;var s=Hs,o=fc,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=te.T,te.T=null;var d=he.p;he.p=2;var v=ct;ct|=4;try{QP(o,s);var _=Ab,I=nx(s.containerInfo),O=_.focusedElem,z=_.selectionRange;if(I!==O&&O&&O.ownerDocument&&tx(O.ownerDocument.documentElement,O)){if(z!==null&&X_(O)){var X=z.start,re=z.end;if(re===void 0&&(re=X),"selectionStart"in O)O.selectionStart=X,O.selectionEnd=Math.min(re,O.value.length);else{var ue=O.ownerDocument||document,Z=ue&&ue.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Le=O.textContent.length,De=Math.min(z.start,Le),yt=z.end===void 0?De:Math.min(z.end,Le);!J.extend&&De>yt&&(I=yt,yt=De,De=I);var G=ex(O,De),K=ex(O,yt);if(G&&K&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==K.node||J.focusOffset!==K.offset)){var Q=ue.createRange();Q.setStart(G.node,G.offset),J.removeAllRanges(),De>yt?(J.addRange(Q),J.extend(K.node,K.offset)):(Q.setEnd(K.node,K.offset),J.addRange(Q))}}}}for(ue=[],J=O;J=J.parentNode;)J.nodeType===1&&ue.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ue.length;O++){var se=ue[O];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Ag=!!Tb,Ab=Tb=null}finally{ct=v,he.p=d,te.T=l}}s.current=o,zn=2}}function pO(){if(zn===2){zn=0;var s=Hs,o=fc,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=te.T,te.T=null;var d=he.p;he.p=2;var v=ct;ct|=4;try{KP(s,o.alternate,o)}finally{ct=v,he.p=d,te.T=l}}zn=3}}function gO(){if(zn===4||zn===3){zn=0,In();var s=Hs,o=fc,l=hc,d=rO;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?zn=5:(zn=0,fc=Hs=null,vO(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&($s=null),Cl(l),o=o.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(zt,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=te.T,v=he.p,he.p=2,te.T=null;try{for(var _=s.onRecoverableError,I=0;I<d.length;I++){var O=d[I];_(O.value,{componentStack:O.stack})}}finally{te.T=o,he.p=v}}(hc&3)!==0&&hg(),sa(s),v=s.pendingLanes,(l&4194090)!==0&&(v&42)!==0?s===lb?Fh++:(Fh=0,lb=s):Fh=0,$h(0)}}function vO(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Th(o)))}function hg(s){return mO(),pO(),gO(),yO()}function yO(){if(zn!==5)return!1;var s=Hs,o=ob;ob=0;var l=Cl(hc),d=te.T,v=he.p;try{he.p=32>l?32:l,te.T=null,l=ub,ub=null;var _=Hs,I=hc;if(zn=0,fc=Hs=null,hc=0,(ct&6)!==0)throw Error(r(331));var O=ct;if(ct|=4,tO(_.current),ZP(_,_.current,I,l),ct=O,$h(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(zt,_)}catch{}return!0}finally{he.p=v,te.T=d,vO(s,o)}}function _O(s,o,l){o=si(l,o),o=q0(s.stateNode,o,2),s=Ms(s,o,2),s!==null&&(Oa(s,2),sa(s))}function bt(s,o,l){if(s.tag===3)_O(s,s,l);else for(;o!==null;){if(o.tag===3){_O(o,s,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&($s===null||!$s.has(d))){s=si(l,s),l=TP(2),d=Ms(o,l,2),d!==null&&(AP(l,d,o,s),Oa(d,2),sa(d));break}}o=o.return}}function db(s,o,l){var d=s.pingCache;if(d===null){d=s.pingCache=new wB;var v=new Set;d.set(o,v)}else v=d.get(o),v===void 0&&(v=new Set,d.set(o,v));v.has(l)||(rb=!0,v.add(l),s=IB.bind(null,s,o,l),o.then(s,s))}function IB(s,o,l){var d=s.pingCache;d!==null&&d.delete(o),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Tt===s&&(et&l)===l&&($t===4||$t===3&&(et&62914560)===et&&300>rn()-sb?(ct&2)===0&&dc(s,0):ib|=l,cc===et&&(cc=0)),sa(s)}function bO(s,o){o===0&&(o=Jf()),s=Yl(s,o),s!==null&&(Oa(s,o),sa(s))}function xB(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),bO(s,l)}function PB(s,o){var l=0;switch(s.tag){case 13:var d=s.stateNode,v=s.memoizedState;v!==null&&(l=v.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),bO(s,l)}function OB(s,o){return qt(s,o)}var dg=null,pc=null,mb=!1,mg=!1,pb=!1,Au=0;function sa(s){s!==pc&&s.next===null&&(pc===null?dg=pc=s:pc=pc.next=s),mg=!0,mb||(mb=!0,CB())}function $h(s,o){if(!pb&&mg){pb=!0;do for(var l=!1,d=dg;d!==null;){if(s!==0){var v=d.pendingLanes;if(v===0)var _=0;else{var I=d.suspendedLanes,O=d.pingedLanes;_=(1<<31-Zn(42|s)+1)-1,_&=v&~(I&~O),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,AO(d,_))}else _=et,_=Rl(d,d===Tt?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||Yo(d,_)||(l=!0,AO(d,_));d=d.next}while(l);pb=!1}}function RB(){wO()}function wO(){mg=mb=!1;var s=0;Au!==0&&(UB()&&(s=Au),Au=0);for(var o=rn(),l=null,d=dg;d!==null;){var v=d.next,_=EO(d,o);_===0?(d.next=null,l===null?dg=v:l.next=v,v===null&&(pc=l)):(l=d,(s!==0||(_&3)!==0)&&(mg=!0)),d=v}$h(s)}function EO(s,o){for(var l=s.suspendedLanes,d=s.pingedLanes,v=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var I=31-Zn(_),O=1<<I,z=v[I];z===-1?((O&l)===0||(O&d)!==0)&&(v[I]=Xf(O,o)):z<=o&&(s.expiredLanes|=O),_&=~O}if(o=Tt,l=et,l=Rl(s,s===o?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,l===0||s===o&&(ft===2||ft===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Xe(d),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Yo(s,l)){if(o=l&-l,o===s.callbackPriority)return o;switch(d!==null&&Xe(d),Cl(l)){case 2:case 8:l=Pl;break;case 32:l=Ho;break;case 268435456:l=Ol;break;default:l=Ho}return d=TO.bind(null,s),l=qt(l,d),s.callbackPriority=o,s.callbackNode=l,o}return d!==null&&d!==null&&Xe(d),s.callbackPriority=2,s.callbackNode=null,2}function TO(s,o){if(zn!==0&&zn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(hg()&&s.callbackNode!==l)return null;var d=et;return d=Rl(s,s===Tt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(aO(s,d,o),EO(s,rn()),s.callbackNode!=null&&s.callbackNode===l?TO.bind(null,s):null)}function AO(s,o){if(hg())return null;aO(s,o,!0)}function CB(){qB(function(){(ct&6)!==0?qt(Yf,RB):wO()})}function gb(){return Au===0&&(Au=Zf()),Au}function SO(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:jl(""+s)}function IO(s,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,s.id&&l.setAttribute("form",s.id),o.parentNode.insertBefore(l,o),s=new FormData(s),l.parentNode.removeChild(l),s}function DB(s,o,l,d,v){if(o==="submit"&&l&&l.stateNode===v){var _=SO((v[an]||null).action),I=d.submitter;I&&(o=(o=I[an]||null)?SO(o.formAction):I.getAttribute("formAction"),o!==null&&(_=o,I=null));var O=new Ll("action","action",null,d,v);s.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Au!==0){var z=I?IO(v,I):new FormData(v);V0(l,{pending:!0,data:z,method:v.method,action:_},null,z)}}else typeof _=="function"&&(O.preventDefault(),z=I?IO(v,I):new FormData(v),V0(l,{pending:!0,data:z,method:v.method,action:_},_,z))},currentTarget:v}]})}}for(var vb=0;vb<t0.length;vb++){var yb=t0[vb],NB=yb.toLowerCase(),kB=yb[0].toUpperCase()+yb.slice(1);Ci(NB,"on"+kB)}Ci(ax,"onAnimationEnd"),Ci(sx,"onAnimationIteration"),Ci(ox,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(X5,"onTransitionRun"),Ci(Z5,"onTransitionStart"),Ci(J5,"onTransitionCancel"),Ci(ux,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hh));function xO(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],v=d.event;d=d.listeners;e:{var _=void 0;if(o)for(var I=d.length-1;0<=I;I--){var O=d[I],z=O.instance,X=O.currentTarget;if(O=O.listener,z!==_&&v.isPropagationStopped())break e;_=O,v.currentTarget=X;try{_(v)}catch(re){tg(re)}v.currentTarget=null,_=z}else for(I=0;I<d.length;I++){if(O=d[I],z=O.instance,X=O.currentTarget,O=O.listener,z!==_&&v.isPropagationStopped())break e;_=O,v.currentTarget=X;try{_(v)}catch(re){tg(re)}v.currentTarget=null,_=z}}}}function Ke(s,o){var l=o[nh];l===void 0&&(l=o[nh]=new Set);var d=s+"__bubble";l.has(d)||(PO(o,s,2,!1),l.add(d))}function _b(s,o,l){var d=0;o&&(d|=4),PO(l,s,d,o)}var pg="_reactListening"+Math.random().toString(36).slice(2);function bb(s){if(!s[pg]){s[pg]=!0,rh.forEach(function(l){l!=="selectionchange"&&(MB.has(l)||_b(l,!1,s),_b(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[pg]||(o[pg]=!0,_b("selectionchange",!1,o))}}function PO(s,o,l,d){switch(ZO(o)){case 2:var v=u9;break;case 8:v=l9;break;default:v=kb}l=v.bind(null,o,l,s),v=void 0,!ii||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),d?v!==void 0?s.addEventListener(o,l,{capture:!0,passive:v}):s.addEventListener(o,l,!0):v!==void 0?s.addEventListener(o,l,{passive:v}):s.addEventListener(o,l,!1)}function wb(s,o,l,d,v){var _=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var I=d.tag;if(I===3||I===4){var O=d.stateNode.containerInfo;if(O===v)break;if(I===4)for(I=d.return;I!==null;){var z=I.tag;if((z===3||z===4)&&I.stateNode.containerInfo===v)return;I=I.return}for(;O!==null;){if(I=Ra(O),I===null)return;if(z=I.tag,z===5||z===6||z===26||z===27){d=_=I;continue e}O=O.parentNode}}d=d.return}vp(function(){var X=_,re=ri(l),ue=[];e:{var Z=lx.get(s);if(Z!==void 0){var J=Ll,Le=s;switch(s){case"keypress":if(Xi(l)===0)break e;case"keydown":case"keyup":J=$l;break;case"focusin":Le="focus",J=ql;break;case"focusout":Le="blur",J=ql;break;case"beforeblur":case"afterblur":J=ql;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=G_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Sp;break;case ax:case sx:case ox:J=zl;break;case ux:J=xp;break;case"scroll":case"scrollend":J=yp;break;case"wheel":J=Hl;break;case"copy":case"cut":case"paste":J=Fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ph;break;case"toggle":case"beforetoggle":J=Op}var De=(o&4)!==0,yt=!De&&(s==="scroll"||s==="scrollend"),G=De?Z!==null?Z+"Capture":null:Z;De=[];for(var K=X,Q;K!==null;){var se=K;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||G===null||(se=ru(K,G),se!=null&&De.push(Kh(K,se,Q))),yt)break;K=K.return}0<De.length&&(Z=new J(Z,Le,null,l,re),ue.push({event:Z,listeners:De}))}}if((o&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",J=s==="mouseout"||s==="pointerout",Z&&l!==ka&&(Le=l.relatedTarget||l.fromElement)&&(Ra(Le)||Le[ti]))break e;if((J||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Le=l.relatedTarget||l.toElement,J=X,Le=Le?Ra(Le):null,Le!==null&&(yt=a(Le),De=Le.tag,Le!==yt||De!==5&&De!==27&&De!==6)&&(Le=null)):(J=null,Le=X),J!==Le)){if(De=ai,se="onMouseLeave",G="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(De=ph,se="onPointerLeave",G="onPointerEnter",K="pointer"),yt=J==null?Z:Gi(J),Q=Le==null?Z:Gi(Le),Z=new De(se,K+"leave",J,l,re),Z.target=yt,Z.relatedTarget=Q,se=null,Ra(re)===X&&(De=new De(G,K+"enter",Le,l,re),De.target=Q,De.relatedTarget=yt,se=De),yt=se,J&&Le)t:{for(De=J,G=Le,K=0,Q=De;Q;Q=gc(Q))K++;for(Q=0,se=G;se;se=gc(se))Q++;for(;0<K-Q;)De=gc(De),K--;for(;0<Q-K;)G=gc(G),Q--;for(;K--;){if(De===G||G!==null&&De===G.alternate)break t;De=gc(De),G=gc(G)}De=null}else De=null;J!==null&&OO(ue,Z,J,De,!1),Le!==null&&yt!==null&&OO(ue,yt,Le,De,!0)}}e:{if(Z=X?Gi(X):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var Ee=WI;else if(_n(Z))if(YI)Ee=W5;else{Ee=K5;var $e=H5}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&uh(X.elementType)&&(Ee=WI):Ee=G5;if(Ee&&(Ee=Ee(s,X))){Ua(ue,Ee,l,re);break e}$e&&$e(s,Z,X),s==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&Rs(Z,"number",Z.value)}switch($e=X?Gi(X):window,s){case"focusin":(_n($e)||$e.contentEditable==="true")&&(Kl=$e,Z_=X,yh=null);break;case"focusout":yh=Z_=Kl=null;break;case"mousedown":J_=!0;break;case"contextmenu":case"mouseup":case"dragend":J_=!1,rx(ue,l,re);break;case"selectionchange":if(Q5)break;case"keydown":case"keyup":rx(ue,l,re)}var Ie;if(ea)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ze?ne(s,l)&&(ke="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(S&&l.locale!=="ko"&&(Ze||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ze&&(Ie=ch()):(Qi=re,Cs="value"in Qi?Qi.value:Qi.textContent,Ze=!0)),$e=gg(X,ke),0<$e.length&&(ke=new dh(ke,s,null,l,re),ue.push({event:ke,listeners:$e}),Ie?ke.data=Ie:(Ie=pe(l),Ie!==null&&(ke.data=Ie)))),(Ie=w?yn(s,l):Je(s,l))&&(ke=gg(X,"onBeforeInput"),0<ke.length&&($e=new dh("onBeforeInput","beforeinput",null,l,re),ue.push({event:$e,listeners:ke}),$e.data=Ie)),DB(ue,s,X,l,re)}xO(ue,o)})}function Kh(s,o,l){return{instance:s,listener:o,currentTarget:l}}function gg(s,o){for(var l=o+"Capture",d=[];s!==null;){var v=s,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=ru(s,l),v!=null&&d.unshift(Kh(s,v,_)),v=ru(s,o),v!=null&&d.push(Kh(s,v,_))),s.tag===3)return d;s=s.return}return[]}function gc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function OO(s,o,l,d,v){for(var _=o._reactName,I=[];l!==null&&l!==d;){var O=l,z=O.alternate,X=O.stateNode;if(O=O.tag,z!==null&&z===d)break;O!==5&&O!==26&&O!==27||X===null||(z=X,v?(X=ru(l,_),X!=null&&I.unshift(Kh(l,X,z))):v||(X=ru(l,_),X!=null&&I.push(Kh(l,X,z)))),l=l.return}I.length!==0&&s.push({event:o,listeners:I})}var VB=/\r\n?/g,jB=/\u0000|\uFFFD/g;function RO(s){return(typeof s=="string"?s:""+s).replace(VB,`
`).replace(jB,"")}function CO(s,o){return o=RO(o),RO(s)===o}function vg(){}function vt(s,o,l,d,v,_){switch(l){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||ni(s,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&ni(s,""+d);break;case"className":Wi(s,"class",d);break;case"tabIndex":Wi(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Wi(s,l,d);break;case"style":oh(s,d,_);break;case"data":if(o!=="object"){Wi(s,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||l!=="href")){s.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=jl(""+d),s.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(o!=="input"&&vt(s,o,"name",v.name,v,null),vt(s,o,"formEncType",v.formEncType,v,null),vt(s,o,"formMethod",v.formMethod,v,null),vt(s,o,"formTarget",v.formTarget,v,null)):(vt(s,o,"encType",v.encType,v,null),vt(s,o,"method",v.method,v,null),vt(s,o,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(l);break}d=jl(""+d),s.setAttribute(l,d);break;case"onClick":d!=null&&(s.onclick=vg);break;case"onScroll":d!=null&&Ke("scroll",s);break;case"onScrollEnd":d!=null&&Ke("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}l=jl(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""+d):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":d===!0?s.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(l,d):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(l,d):s.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(l):s.setAttribute(l,d);break;case"popover":Ke("beforetoggle",s),Ke("toggle",s),Os(s,"popover",d);break;case"xlinkActuate":Un(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Un(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Un(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Un(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Un(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Un(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Un(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Un(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Un(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Os(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=H_.get(l)||l,Os(s,l,d))}}function Eb(s,o,l,d,v,_){switch(l){case"style":oh(s,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof d=="string"?ni(s,d):(typeof d=="number"||typeof d=="bigint")&&ni(s,""+d);break;case"onScroll":d!=null&&Ke("scroll",s);break;case"onScrollEnd":d!=null&&Ke("scrollend",s);break;case"onClick":d!=null&&(s.onclick=vg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),o=l.slice(2,v?l.length-7:void 0),_=s[an]||null,_=_!=null?_[l]:null,typeof _=="function"&&s.removeEventListener(o,_,v),typeof d=="function")){typeof _!="function"&&_!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(o,d,v);break e}l in s?s[l]=d:d===!0?s.setAttribute(l,""):Os(s,l,d)}}}function Fn(s,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",s),Ke("load",s);var d=!1,v=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var I=l[_];if(I!=null)switch(_){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:vt(s,o,_,I,l,null)}}v&&vt(s,o,"srcSet",l.srcSet,l,null),d&&vt(s,o,"src",l.src,l,null);return;case"input":Ke("invalid",s);var O=_=I=v=null,z=null,X=null;for(d in l)if(l.hasOwnProperty(d)){var re=l[d];if(re!=null)switch(d){case"name":v=re;break;case"type":I=re;break;case"checked":z=re;break;case"defaultChecked":X=re;break;case"value":_=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:vt(s,o,d,re,l,null)}}eu(s,_,O,z,X,I,v,!1),Vl(s);return;case"select":Ke("invalid",s),d=I=_=null;for(v in l)if(l.hasOwnProperty(v)&&(O=l[v],O!=null))switch(v){case"value":_=O;break;case"defaultValue":I=O;break;case"multiple":d=O;default:vt(s,o,v,O,l,null)}o=_,l=I,s.multiple=!!d,o!=null?Na(s,!!d,o,!1):l!=null&&Na(s,!!d,l,!0);return;case"textarea":Ke("invalid",s),_=v=d=null;for(I in l)if(l.hasOwnProperty(I)&&(O=l[I],O!=null))switch(I){case"value":d=O;break;case"defaultValue":v=O;break;case"children":_=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:vt(s,o,I,O,l,null)}tu(s,d,v,_),Vl(s);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(d=l[z],d!=null))switch(z){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:vt(s,o,z,d,l,null)}return;case"dialog":Ke("beforetoggle",s),Ke("toggle",s),Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":Ke("load",s);break;case"video":case"audio":for(d=0;d<Hh.length;d++)Ke(Hh[d],s);break;case"image":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"embed":case"source":case"link":Ke("error",s),Ke("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(d=l[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:vt(s,o,X,d,l,null)}return;default:if(uh(o)){for(re in l)l.hasOwnProperty(re)&&(d=l[re],d!==void 0&&Eb(s,o,re,d,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(d=l[O],d!=null&&vt(s,o,O,d,l,null))}function LB(s,o,l,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,I=null,O=null,z=null,X=null,re=null;for(J in l){var ue=l[J];if(l.hasOwnProperty(J)&&ue!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":z=ue;default:d.hasOwnProperty(J)||vt(s,o,J,null,d,ue)}}for(var Z in d){var J=d[Z];if(ue=l[Z],d.hasOwnProperty(Z)&&(J!=null||ue!=null))switch(Z){case"type":_=J;break;case"name":v=J;break;case"checked":X=J;break;case"defaultChecked":re=J;break;case"value":I=J;break;case"defaultValue":O=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,o));break;default:J!==ue&&vt(s,o,Z,J,d,ue)}}Rr(s,I,O,z,X,re,_,v);return;case"select":J=I=O=Z=null;for(_ in l)if(z=l[_],l.hasOwnProperty(_)&&z!=null)switch(_){case"value":break;case"multiple":J=z;default:d.hasOwnProperty(_)||vt(s,o,_,null,d,z)}for(v in d)if(_=d[v],z=l[v],d.hasOwnProperty(v)&&(_!=null||z!=null))switch(v){case"value":Z=_;break;case"defaultValue":O=_;break;case"multiple":I=_;default:_!==z&&vt(s,o,v,_,d,z)}o=O,l=I,d=J,Z!=null?Na(s,!!l,Z,!1):!!d!=!!l&&(o!=null?Na(s,!!l,o,!0):Na(s,!!l,l?[]:"",!1));return;case"textarea":J=Z=null;for(O in l)if(v=l[O],l.hasOwnProperty(O)&&v!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:vt(s,o,O,null,d,v)}for(I in d)if(v=d[I],_=l[I],d.hasOwnProperty(I)&&(v!=null||_!=null))switch(I){case"value":Z=v;break;case"defaultValue":J=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&vt(s,o,I,v,d,_)}pt(s,Z,J);return;case"option":for(var Le in l)if(Z=l[Le],l.hasOwnProperty(Le)&&Z!=null&&!d.hasOwnProperty(Le))switch(Le){case"selected":s.selected=!1;break;default:vt(s,o,Le,null,d,Z)}for(z in d)if(Z=d[z],J=l[z],d.hasOwnProperty(z)&&Z!==J&&(Z!=null||J!=null))switch(z){case"selected":s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:vt(s,o,z,Z,d,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in l)Z=l[De],l.hasOwnProperty(De)&&Z!=null&&!d.hasOwnProperty(De)&&vt(s,o,De,null,d,Z);for(X in d)if(Z=d[X],J=l[X],d.hasOwnProperty(X)&&Z!==J&&(Z!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,o));break;default:vt(s,o,X,Z,d,J)}return;default:if(uh(o)){for(var yt in l)Z=l[yt],l.hasOwnProperty(yt)&&Z!==void 0&&!d.hasOwnProperty(yt)&&Eb(s,o,yt,void 0,d,Z);for(re in d)Z=d[re],J=l[re],!d.hasOwnProperty(re)||Z===J||Z===void 0&&J===void 0||Eb(s,o,re,Z,d,J);return}}for(var G in l)Z=l[G],l.hasOwnProperty(G)&&Z!=null&&!d.hasOwnProperty(G)&&vt(s,o,G,null,d,Z);for(ue in d)Z=d[ue],J=l[ue],!d.hasOwnProperty(ue)||Z===J||Z==null&&J==null||vt(s,o,ue,Z,d,J)}var Tb=null,Ab=null;function yg(s){return s.nodeType===9?s:s.ownerDocument}function DO(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NO(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Sb(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ib=null;function UB(){var s=window.event;return s&&s.type==="popstate"?s===Ib?!1:(Ib=s,!0):(Ib=null,!1)}var kO=typeof setTimeout=="function"?setTimeout:void 0,BB=typeof clearTimeout=="function"?clearTimeout:void 0,MO=typeof Promise=="function"?Promise:void 0,qB=typeof queueMicrotask=="function"?queueMicrotask:typeof MO<"u"?function(s){return MO.resolve(null).then(s).catch(zB)}:kO;function zB(s){setTimeout(function(){throw s})}function Gs(s){return s==="head"}function VO(s,o){var l=o,d=0,v=0;do{var _=l.nextSibling;if(s.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<d&&8>d){l=d;var I=s.ownerDocument;if(l&1&&Gh(I.documentElement),l&2&&Gh(I.body),l&4)for(l=I.head,Gh(l),I=l.firstChild;I;){var O=I.nextSibling,z=I.nodeName;I[Qo]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&I.rel.toLowerCase()==="stylesheet"||l.removeChild(I),I=O}}if(v===0){s.removeChild(_),td(o);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:d=l.charCodeAt(0)-48;else d=0;l=_}while(l);td(o)}function xb(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":xb(l),Ps(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function FB(s,o,l,d){for(;s.nodeType===1;){var v=l;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Qo])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Ni(s.nextSibling),s===null)break}return null}function $B(s,o,l){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Ni(s.nextSibling),s===null))return null;return s}function Pb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function HB(s,o){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")o();else{var d=function(){o(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Ni(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var Ob=null;function jO(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}function LO(s,o,l){switch(o=yg(l),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Gh(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Ps(s)}var hi=new Map,UO=new Set;function _g(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Za=he.d;he.d={f:KB,r:GB,D:WB,C:YB,L:QB,m:XB,X:JB,S:ZB,M:e9};function KB(){var s=Za.f(),o=cg();return s||o}function GB(s){var o=Ki(s);o!==null&&o.tag===5&&o.type==="form"?aP(o):Za.r(s)}var vc=typeof document>"u"?null:document;function BO(s,o,l){var d=vc;if(d&&typeof o=="string"&&o){var v=sn(o);v='link[rel="'+s+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),UO.has(v)||(UO.add(v),s={rel:s,crossOrigin:l,href:o},d.querySelector(v)===null&&(o=d.createElement("link"),Fn(o,"link",s),Wt(o),d.head.appendChild(o)))}}function WB(s){Za.D(s),BO("dns-prefetch",s,null)}function YB(s,o){Za.C(s,o),BO("preconnect",s,o)}function QB(s,o,l){Za.L(s,o,l);var d=vc;if(d&&s&&o){var v='link[rel="preload"][as="'+sn(o)+'"]';o==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+sn(l.imageSizes)+'"]')):v+='[href="'+sn(s)+'"]';var _=v;switch(o){case"style":_=yc(s);break;case"script":_=_c(s)}hi.has(_)||(s=m({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:s,as:o},l),hi.set(_,s),d.querySelector(v)!==null||o==="style"&&d.querySelector(Wh(_))||o==="script"&&d.querySelector(Yh(_))||(o=d.createElement("link"),Fn(o,"link",s),Wt(o),d.head.appendChild(o)))}}function XB(s,o){Za.m(s,o);var l=vc;if(l&&s){var d=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+sn(d)+'"][href="'+sn(s)+'"]',_=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=_c(s)}if(!hi.has(_)&&(s=m({rel:"modulepreload",href:s},o),hi.set(_,s),l.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Yh(_)))return}d=l.createElement("link"),Fn(d,"link",s),Wt(d),l.head.appendChild(d)}}}function ZB(s,o,l){Za.S(s,o,l);var d=vc;if(d&&s){var v=lr(d).hoistableStyles,_=yc(s);o=o||"default";var I=v.get(_);if(!I){var O={loading:0,preload:null};if(I=d.querySelector(Wh(_)))O.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},l),(l=hi.get(_))&&Rb(s,l);var z=I=d.createElement("link");Wt(z),Fn(z,"link",s),z._p=new Promise(function(X,re){z.onload=X,z.onerror=re}),z.addEventListener("load",function(){O.loading|=1}),z.addEventListener("error",function(){O.loading|=2}),O.loading|=4,bg(I,o,d)}I={type:"stylesheet",instance:I,count:1,state:O},v.set(_,I)}}}function JB(s,o){Za.X(s,o);var l=vc;if(l&&s){var d=lr(l).hoistableScripts,v=_c(s),_=d.get(v);_||(_=l.querySelector(Yh(v)),_||(s=m({src:s,async:!0},o),(o=hi.get(v))&&Cb(s,o),_=l.createElement("script"),Wt(_),Fn(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function e9(s,o){Za.M(s,o);var l=vc;if(l&&s){var d=lr(l).hoistableScripts,v=_c(s),_=d.get(v);_||(_=l.querySelector(Yh(v)),_||(s=m({src:s,async:!0,type:"module"},o),(o=hi.get(v))&&Cb(s,o),_=l.createElement("script"),Wt(_),Fn(_,"link",s),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function qO(s,o,l,d){var v=(v=je.current)?_g(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=yc(l.href),l=lr(v).hoistableStyles,d=l.get(o),d||(d={type:"style",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=yc(l.href);var _=lr(v).hoistableStyles,I=_.get(s);if(I||(v=v.ownerDocument||v,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,I),(_=v.querySelector(Wh(s)))&&!_._p&&(I.instance=_,I.state.loading=5),hi.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},hi.set(s,l),_||t9(v,s,l,I.state))),o&&d===null)throw Error(r(528,""));return I}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=_c(l),l=lr(v).hoistableScripts,d=l.get(o),d||(d={type:"script",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function yc(s){return'href="'+sn(s)+'"'}function Wh(s){return'link[rel="stylesheet"]['+s+"]"}function zO(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function t9(s,o,l,d){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=s.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Fn(o,"link",l),Wt(o),s.head.appendChild(o))}function _c(s){return'[src="'+sn(s)+'"]'}function Yh(s){return"script[async]"+s}function FO(s,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var d=s.querySelector('style[data-href~="'+sn(l.href)+'"]');if(d)return o.instance=d,Wt(d),d;var v=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Wt(d),Fn(d,"style",v),bg(d,l.precedence,s),o.instance=d;case"stylesheet":v=yc(l.href);var _=s.querySelector(Wh(v));if(_)return o.state.loading|=4,o.instance=_,Wt(_),_;d=zO(l),(v=hi.get(v))&&Rb(d,v),_=(s.ownerDocument||s).createElement("link"),Wt(_);var I=_;return I._p=new Promise(function(O,z){I.onload=O,I.onerror=z}),Fn(_,"link",d),o.state.loading|=4,bg(_,l.precedence,s),o.instance=_;case"script":return _=_c(l.src),(v=s.querySelector(Yh(_)))?(o.instance=v,Wt(v),v):(d=l,(v=hi.get(_))&&(d=m({},l),Cb(d,v)),s=s.ownerDocument||s,v=s.createElement("script"),Wt(v),Fn(v,"link",d),s.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,bg(d,l.precedence,s));return o.instance}function bg(s,o,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,_=v,I=0;I<d.length;I++){var O=d[I];if(O.dataset.precedence===o)_=O;else if(_!==v)break}_?_.parentNode.insertBefore(s,_.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(s,o.firstChild))}function Rb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function Cb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var wg=null;function $O(s,o,l){if(wg===null){var d=new Map,v=wg=new Map;v.set(l,d)}else v=wg,d=v.get(l),d||(d=new Map,v.set(l,d));if(d.has(s))return d;for(d.set(s,null),l=l.getElementsByTagName(s),v=0;v<l.length;v++){var _=l[v];if(!(_[Qo]||_[vn]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var I=_.getAttribute(o)||"";I=s+I;var O=d.get(I);O?O.push(_):d.set(I,[_])}}return d}function HO(s,o,l){s=s.ownerDocument||s,s.head.insertBefore(l,o==="title"?s.querySelector("head > title"):null)}function n9(s,o,l){if(l===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function KO(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Qh=null;function r9(){}function i9(s,o,l){if(Qh===null)throw Error(r(475));var d=Qh;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=yc(l.href),_=s.querySelector(Wh(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Eg.bind(d),s.then(d,d)),o.state.loading|=4,o.instance=_,Wt(_);return}_=s.ownerDocument||s,l=zO(l),(v=hi.get(v))&&Rb(l,v),_=_.createElement("link"),Wt(_);var I=_;I._p=new Promise(function(O,z){I.onload=O,I.onerror=z}),Fn(_,"link",l),o.instance=_}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(d.count++,o=Eg.bind(d),s.addEventListener("load",o),s.addEventListener("error",o))}}function a9(){if(Qh===null)throw Error(r(475));var s=Qh;return s.stylesheets&&s.count===0&&Db(s,s.stylesheets),0<s.count?function(o){var l=setTimeout(function(){if(s.stylesheets&&Db(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Eg(){if(this.count--,this.count===0){if(this.stylesheets)Db(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Tg=null;function Db(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Tg=new Map,o.forEach(s9,s),Tg=null,Eg.call(s))}function s9(s,o){if(!(o.state.loading&4)){var l=Tg.get(s);if(l)var d=l.get(null);else{l=new Map,Tg.set(s,l);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var I=v[_];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),d=I)}d&&l.set(null,d)}v=o.instance,I=v.getAttribute("data-precedence"),_=l.get(I)||d,_===d&&l.set(null,v),l.set(I,v),this.count++,d=Eg.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),_?_.parentNode.insertBefore(v,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),o.state.loading|=4}}var Xh={$$typeof:P,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function o9(s,o,l,d,v,_,I,O){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.hiddenUpdates=Pa(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function GO(s,o,l,d,v,_,I,O,z,X,re,ue){return s=new o9(s,o,l,I,O,z,X,ue),o=1,_===!0&&(o|=24),_=Dr(3,null,null,o),s.current=_,_.stateNode=s,o=d0(),o.refCount++,s.pooledCache=o,o.refCount++,_.memoizedState={element:d,isDehydrated:l,cache:o},v0(_),s}function WO(s){return s?(s=Ql,s):Ql}function YO(s,o,l,d,v,_){v=WO(v),d.context===null?d.context=v:d.pendingContext=v,d=ks(o),d.payload={element:l},_=_===void 0?null:_,_!==null&&(d.callback=_),l=Ms(s,d,o),l!==null&&(jr(l,s,o),xh(l,s,o))}function QO(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Nb(s,o){QO(s,o),(s=s.alternate)&&QO(s,o)}function XO(s){if(s.tag===13){var o=Yl(s,67108864);o!==null&&jr(o,s,67108864),Nb(s,67108864)}}var Ag=!0;function u9(s,o,l,d){var v=te.T;te.T=null;var _=he.p;try{he.p=2,kb(s,o,l,d)}finally{he.p=_,te.T=v}}function l9(s,o,l,d){var v=te.T;te.T=null;var _=he.p;try{he.p=8,kb(s,o,l,d)}finally{he.p=_,te.T=v}}function kb(s,o,l,d){if(Ag){var v=Mb(d);if(v===null)wb(s,o,d,Sg,l),JO(s,d);else if(f9(v,s,o,l,d))d.stopPropagation();else if(JO(s,d),o&4&&-1<c9.indexOf(s)){for(;v!==null;){var _=Ki(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var I=Pi(_.pendingLanes);if(I!==0){var O=_;for(O.pendingLanes|=2,O.entangledLanes|=2;I;){var z=1<<31-Zn(I);O.entanglements[1]|=z,I&=~z}sa(_),(ct&6)===0&&(ug=rn()+500,$h(0))}}break;case 13:O=Yl(_,2),O!==null&&jr(O,_,2),cg(),Nb(_,2)}if(_=Mb(d),_===null&&wb(s,o,d,Sg,l),_===v)break;v=_}v!==null&&d.stopPropagation()}else wb(s,o,d,null,l)}}function Mb(s){return s=ri(s),Vb(s)}var Sg=null;function Vb(s){if(Sg=null,s=Ra(s),s!==null){var o=a(s);if(o===null)s=null;else{var l=o.tag;if(l===13){if(s=u(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Sg=s,null}function ZO(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xl()){case Yf:return 2;case Pl:return 8;case Ho:case B_:return 32;case Ol:return 268435456;default:return 32}default:return 32}}var jb=!1,Ws=null,Ys=null,Qs=null,Zh=new Map,Jh=new Map,Xs=[],c9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JO(s,o){switch(s){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Zh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jh.delete(o.pointerId)}}function ed(s,o,l,d,v,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:_,targetContainers:[v]},o!==null&&(o=Ki(o),o!==null&&XO(o)),s):(s.eventSystemFlags|=d,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function f9(s,o,l,d,v){switch(o){case"focusin":return Ws=ed(Ws,s,o,l,d,v),!0;case"dragenter":return Ys=ed(Ys,s,o,l,d,v),!0;case"mouseover":return Qs=ed(Qs,s,o,l,d,v),!0;case"pointerover":var _=v.pointerId;return Zh.set(_,ed(Zh.get(_)||null,s,o,l,d,v)),!0;case"gotpointercapture":return _=v.pointerId,Jh.set(_,ed(Jh.get(_)||null,s,o,l,d,v)),!0}return!1}function eR(s){var o=Ra(s.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){s.blockedOn=o,cp(s.priority,function(){if(l.tag===13){var d=Vr();d=Ss(d);var v=Yl(l,d);v!==null&&jr(v,l,d),Nb(l,d)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ig(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=Mb(s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);ka=d,l.target.dispatchEvent(d),ka=null}else return o=Ki(l),o!==null&&XO(o),s.blockedOn=l,!1;o.shift()}return!0}function tR(s,o,l){Ig(s)&&l.delete(o)}function h9(){jb=!1,Ws!==null&&Ig(Ws)&&(Ws=null),Ys!==null&&Ig(Ys)&&(Ys=null),Qs!==null&&Ig(Qs)&&(Qs=null),Zh.forEach(tR),Jh.forEach(tR)}function xg(s,o){s.blockedOn===o&&(s.blockedOn=null,jb||(jb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,h9)))}var Pg=null;function nR(s){Pg!==s&&(Pg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pg===s&&(Pg=null);for(var o=0;o<s.length;o+=3){var l=s[o],d=s[o+1],v=s[o+2];if(typeof d!="function"){if(Vb(d||l)===null)continue;break}var _=Ki(l);_!==null&&(s.splice(o,3),o-=3,V0(_,{pending:!0,data:v,method:l.method,action:d},d,v))}}))}function td(s){function o(z){return xg(z,s)}Ws!==null&&xg(Ws,s),Ys!==null&&xg(Ys,s),Qs!==null&&xg(Qs,s),Zh.forEach(o),Jh.forEach(o);for(var l=0;l<Xs.length;l++){var d=Xs[l];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Xs.length&&(l=Xs[0],l.blockedOn===null);)eR(l),l.blockedOn===null&&Xs.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var v=l[d],_=l[d+1],I=v[an]||null;if(typeof _=="function")I||nR(l);else if(I){var O=null;if(_&&_.hasAttribute("formAction")){if(v=_,I=_[an]||null)O=I.formAction;else if(Vb(v)!==null)continue}else O=I.action;typeof O=="function"?l[d+1]=O:(l.splice(d,3),d-=3),nR(l)}}}function Lb(s){this._internalRoot=s}Og.prototype.render=Lb.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,d=Vr();YO(l,d,s,o,null,null)},Og.prototype.unmount=Lb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;YO(s.current,2,null,s,null,null),cg(),o[ti]=null}};function Og(s){this._internalRoot=s}Og.prototype.unstable_scheduleHydration=function(s){if(s){var o=Is();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Xs.length&&o!==0&&o<Xs[l].priority;l++);Xs.splice(l,0,s),l===0&&eR(s)}};var rR=e.version;if(rR!=="19.1.0")throw Error(r(527,rR,"19.1.0"));he.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var d9={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rg.isDisabled&&Rg.supportsFiber)try{zt=Rg.inject(d9),lt=Rg}catch{}}return rd.createRoot=function(s,o){if(!i(s))throw Error(r(299));var l=!1,d="",v=_P,_=bP,I=wP,O=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks)),o=GO(s,1,!1,null,null,l,d,v,_,I,O,null),s[ti]=o.current,bb(s),new Lb(o)},rd.hydrateRoot=function(s,o,l){if(!i(s))throw Error(r(299));var d=!1,v="",_=_P,I=bP,O=wP,z=null,X=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(X=l.formState)),o=GO(s,1,!0,o,l??null,d,v,_,I,O,z,X),o.context=WO(null),l=o.current,d=Vr(),d=Ss(d),v=ks(d),v.callback=null,Ms(l,v,d),l=d,o.current.lanes=l,Oa(o,l),sa(o),s[ti]=o.current,bb(s),new Og(o)},rd.version="19.1.0",rd}var dR;function E9(){if(dR)return qb.exports;dR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qb.exports=w9(),qb.exports}var T9=E9();const A9=Fi(T9),S9=()=>{};var mR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},I9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],u=t[n++],c=t[n++],f=((i&7)<<18|(a&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},bM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],u=i+1<t.length,c=u?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,m=a>>2,g=(a&3)<<4|c>>4;let y=(c&15)<<2|h>>6,b=h&63;f||(b=64,u||(y=64)),r.push(n[m],n[g],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_M(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||h==null||g==null)throw new x9;const y=a<<2|c>>4;if(r.push(y),h!==64){const b=c<<4&240|h>>2;if(r.push(b),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P9=function(t){const e=_M(t);return bM.encodeByteArray(e,!0)},gv=function(t){return P9(t).replace(/\./g,"")},OA=function(t){try{return bM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!O9(n)||(t[n]=vv(t[n],e[n]));return t}function O9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=()=>RA().__FIREBASE_DEFAULTS__,C9=()=>{if(typeof process>"u"||typeof mR>"u")return;const t=mR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OA(t[1]);return e&&JSON.parse(e)},CA=()=>{try{return S9()||R9()||C9()||D9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wM=()=>{var t;return(t=CA())===null||t===void 0?void 0:t.config},N9=t=>{var e;return(e=CA())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EM(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gv(JSON.stringify(n)),gv(JSON.stringify(u)),""].join(".")}const Rd={};function V9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Rd))Rd[e]?t.emulator.push(e):t.prod.push(e);return t}function j9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pR=!1;function TM(t,e){if(typeof window>"u"||typeof document>"u"||!xf(window.location.host)||Rd[t]===e||Rd[t]||pR)return;Rd[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=V9().prod.length>0;function u(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,b){y.setAttribute("width","24"),y.setAttribute("id",b),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{pR=!0,u()},y}function m(y,b){y.setAttribute("id",b),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=j9(r),b=n("text"),E=document.getElementById(b)||document.createElement("span"),T=n("learnmore"),A=document.getElementById(T)||document.createElement("a"),x=n("preprendIcon"),R=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;c(P),m(A,T);const U=h();f(R,x),P.append(R,E,A,U),document.body.appendChild(P)}a?(E.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function Ey(){var t;const e=(t=CA())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U9(){return typeof window<"u"||AM()}function AM(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function B9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IM(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xM(){return!Ey()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PM(){return!Ey()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Gd(){try{return typeof indexedDB=="object"}catch{return!1}}function q9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9="FirebaseError";class gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=z9,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?F9(a,r):"Error",c=`${this.serviceName}: ${u} (${i}).`;return new gr(i,c,r)}}function F9(t,e){return t.replace($9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function H9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],u=e[i];if(vR(a)&&vR(u)){if(!bo(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function wd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OM(t,e){const n=new K9(t,e);return n.subscribe.bind(n)}class K9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");G9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hb),i.error===void 0&&(i.error=Hb),i.complete===void 0&&(i.complete=Hb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t){return t&&t._delegate?t._delegate:t}class wa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new k9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q9(e))try{this.getOrInitializeService({instanceIdentifier:Iu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Iu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Iu){return this.instances.has(e)}getOptions(e=Iu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&u.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const u=this.instances.get(i);return u&&e(u,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Iu){return this.component?this.component.multipleInstances?e:Iu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Y9(t){return t===Iu?void 0:t}function Q9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=[];var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const CM={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},X9=Ge.INFO,Z9={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},J9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Z9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ty{constructor(e){this.name=e,this._logLevel=X9,this._logHandler=J9,this._userLogHandler=null,NA.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}function eq(t){NA.forEach(e=>{e.setLogLevel(t)})}function tq(t,e){for(const n of NA){let r=null;e&&e.level&&(r=CM[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,a,...u)=>{const c=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");a>=(r??i.logLevel)&&t({level:Ge[a].toLowerCase(),message:c,args:u,type:i.name})}}}const nq=(t,e)=>e.some(n=>t instanceof n);let yR,_R;function rq(){return yR||(yR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iq(){return _R||(_R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DM=new WeakMap,GE=new WeakMap,NM=new WeakMap,Kb=new WeakMap,kA=new WeakMap;function aq(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(ho(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&DM.set(n,t)}).catch(()=>{}),kA.set(e,t),e}function sq(t){if(GE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});GE.set(t,e)}let WE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return GE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oq(t){WE=t(WE)}function uq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gb(this),e,...n);return NM.set(r,e.sort?e.sort():[e]),ho(r)}:iq().includes(t)?function(...e){return t.apply(Gb(this),e),ho(DM.get(this))}:function(...e){return ho(t.apply(Gb(this),e))}}function lq(t){return typeof t=="function"?uq(t):(t instanceof IDBTransaction&&sq(t),nq(t,rq())?new Proxy(t,WE):t)}function ho(t){if(t instanceof IDBRequest)return aq(t);if(Kb.has(t))return Kb.get(t);const e=lq(t);return e!==t&&(Kb.set(t,e),kA.set(e,t)),e}const Gb=t=>kA.get(t);function cq(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(t,e),c=ho(u);return r&&u.addEventListener("upgradeneeded",f=>{r(ho(u.result),f.oldVersion,f.newVersion,ho(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const fq=["get","getKey","getAll","getAllKeys","count"],hq=["put","add","delete","clear"],Wb=new Map;function bR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wb.get(e))return Wb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fq.includes(n)))return;const a=async function(u,...c){const f=this.transaction(u,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&f.done]))[0]};return Wb.set(e,a),a}oq(t=>({...t,get:(e,n,r)=>bR(e,n)||t.get(e,n,r),has:(e,n)=>!!bR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mq(t){const e=t.getComponent();return e?.type==="VERSION"}const yv="@firebase/app",YE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Ty("@firebase/app"),pq="@firebase/app-compat",gq="@firebase/analytics-compat",vq="@firebase/analytics",yq="@firebase/app-check-compat",_q="@firebase/app-check",bq="@firebase/auth",wq="@firebase/auth-compat",Eq="@firebase/database",Tq="@firebase/data-connect",Aq="@firebase/database-compat",Sq="@firebase/functions",Iq="@firebase/functions-compat",xq="@firebase/installations",Pq="@firebase/installations-compat",Oq="@firebase/messaging",Rq="@firebase/messaging-compat",Cq="@firebase/performance",Dq="@firebase/performance-compat",Nq="@firebase/remote-config",kq="@firebase/remote-config-compat",Mq="@firebase/storage",Vq="@firebase/storage-compat",jq="@firebase/firestore",Lq="@firebase/ai",Uq="@firebase/firestore-compat",Bq="firebase",qq="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]",zq={[yv]:"fire-core",[pq]:"fire-core-compat",[vq]:"fire-analytics",[gq]:"fire-analytics-compat",[_q]:"fire-app-check",[yq]:"fire-app-check-compat",[bq]:"fire-auth",[wq]:"fire-auth-compat",[Eq]:"fire-rtdb",[Tq]:"fire-data-connect",[Aq]:"fire-rtdb-compat",[Sq]:"fire-fn",[Iq]:"fire-fn-compat",[xq]:"fire-iid",[Pq]:"fire-iid-compat",[Oq]:"fire-fcm",[Rq]:"fire-fcm-compat",[Cq]:"fire-perf",[Dq]:"fire-perf-compat",[Nq]:"fire-rc",[kq]:"fire-rc-compat",[Mq]:"fire-gcs",[Vq]:"fire-gcs-compat",[jq]:"fire-fst",[Uq]:"fire-fst-compat",[Lq]:"fire-vertex","fire-js":"fire-js",[Bq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Map,Gc=new Map,Wc=new Map;function Wd(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kM(t,e){t.container.addOrOverwriteComponent(e)}function To(t){const e=t.name;if(Wc.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Wc.set(e,t);for(const n of Eo.values())Wd(n,t);for(const n of Gc.values())Wd(n,t);return!0}function MM(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fq(t,e,n=wo){MM(t,e).clearInstance(n)}function VM(t){return t.options!==void 0}function Nt(t){return t==null?!1:t.settings!==void 0}function $q(){Wc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new pl("app","Firebase",Hq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jM=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t,e){const n=OA(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,a=new Date().getTime();i-a<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class Kq extends jM{constructor(e,n,r,i){const a=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,u,i);else{const c=e;super(c.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:a},n),this._serverConfig.authIdToken&&wR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&wR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Li(yv,YE,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){VA(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw bi.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=qq;function MA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wo,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw bi.create("bad-app-name",{appName:String(i)});if(n||(n=wM()),!n)throw bi.create("no-options");const a=Eo.get(i);if(a){if(bo(n,a.options)&&bo(r,a.config))return a;throw bi.create("duplicate-app",{appName:i})}const u=new RM(i);for(const f of Wc.values())u.addComponent(f);const c=new jM(n,r,u);return Eo.set(i,c),c}function Gq(t,e){if(U9()&&!AM())throw bi.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let n;VM(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=h=>[...h].reduce((m,g)=>Math.imul(31,m)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw bi.create("finalization-registry-not-supported",{});const a=""+i(JSON.stringify(r)),u=Gc.get(a);if(u)return u.incRefCount(e.releaseOnDeref),u;const c=new RM(a);for(const h of Wc.values())c.addComponent(h);const f=new Kq(n,e,a,c);return Gc.set(a,f),f}function Wq(t=wo){const e=Eo.get(t);if(!e&&t===wo&&wM())return MA();if(!e)throw bi.create("no-app",{appName:t});return e}function Yq(){return Array.from(Eo.values())}async function VA(t){let e=!1;const n=t.name;Eo.has(n)?(e=!0,Eo.delete(n)):Gc.has(n)&&t.decRefCount()<=0&&(Gc.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Li(t,e,n){var r;let i=(r=zq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(c.join(" "));return}To(new wa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function LM(t,e){if(t!==null&&typeof t!="function")throw bi.create("invalid-log-argument");tq(t,e)}function UM(t){eq(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq="firebase-heartbeat-database",Xq=1,Yd="firebase-heartbeat-store";let Yb=null;function BM(){return Yb||(Yb=cq(Qq,Xq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yd)}catch(n){console.warn(n)}}}}).catch(t=>{throw bi.create("idb-open",{originalErrorMessage:t.message})})),Yb}async function Zq(t){try{const n=(await BM()).transaction(Yd),r=await n.objectStore(Yd).get(qM(t));return await n.done,r}catch(e){if(e instanceof gr)us.warn(e.message);else{const n=bi.create("idb-get",{originalErrorMessage:e?.message});us.warn(n.message)}}}async function ER(t,e){try{const r=(await BM()).transaction(Yd,"readwrite");await r.objectStore(Yd).put(e,qM(t)),await r.done}catch(n){if(n instanceof gr)us.warn(n.message);else{const r=bi.create("idb-set",{originalErrorMessage:n?.message});us.warn(r.message)}}}function qM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jq=1024,ez=30;class tz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=TR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ez){const u=iz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TR(),{heartbeatsToSend:r,unsentEntries:i}=nz(this._heartbeatsCache.heartbeats),a=gv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return us.warn(n),""}}}function TR(){return new Date().toISOString().substring(0,10)}function nz(t,e=Jq){const n=[];let r=t.slice();for(const i of t){const a=n.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),AR(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gd()?q9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ER(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ER(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function AR(t){return gv(JSON.stringify({version:2,heartbeats:t})).length}function iz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(t){To(new wa("platform-logger",e=>new dq(e),"PRIVATE")),To(new wa("heartbeat",e=>new tz(e),"PRIVATE")),Li(yv,YE,t),Li(yv,YE,"esm2017"),Li("fire-js","")}az("");const sz=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:gr,SDK_VERSION:No,_DEFAULT_ENTRY_NAME:wo,_addComponent:Wd,_addOrOverwriteComponent:kM,_apps:Eo,_clearComponents:$q,_components:Wc,_getProvider:MM,_isFirebaseApp:VM,_isFirebaseServerApp:Nt,_registerComponent:To,_removeServiceInstance:Fq,_serverApps:Gc,deleteApp:VA,getApp:Wq,getApps:Yq,initializeApp:MA,initializeServerApp:Gq,onLog:LM,registerVersion:Li,setLogLevel:UM},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,n){this._delegate=e,this.firebase=n,Wd(e,new wa("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),VA(this._delegate)))}_getService(e,n=wo){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=wo){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Wd(this._delegate,e)}_addOrOverwriteComponent(e){kM(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},SR=new pl("app-compat","Firebase",uz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){const e={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:Li,setLogLevel:UM,onLog:LM,apps:null,SDK_VERSION:No,INTERNAL:{registerComponent:c,removeApp:r,useAsService:f,modularAPIs:sz}};n.default=n,Object.defineProperty(n,"apps",{get:u});function r(h){delete e[h]}function i(h){if(h=h||wo,!gR(e,h))throw SR.create("no-app",{appName:h});return e[h]}i.App=t;function a(h,m={}){const g=MA(h,m);if(gR(e,g.name))return e[g.name];const y=new t(g,n);return e[g.name]=y,y}function u(){return Object.keys(e).map(h=>e[h])}function c(h){const m=h.name,g=m.replace("-compat","");if(To(h)&&h.type==="PUBLIC"){const y=(b=i())=>{if(typeof b[g]!="function")throw SR.create("invalid-app-argument",{appName:m});return b[g]()};h.serviceProps!==void 0&&vv(y,h.serviceProps),n[g]=y,t.prototype[g]=function(...b){return this._getService.bind(this,m).apply(this,h.multipleInstances?b:[])}}return h.type==="PUBLIC"?n[g]:null}function f(h,m){return m==="serverAuth"?null:m}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(){const t=lz(oz);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:zM,extendNamespace:e,createSubscribe:OM,ErrorFactory:pl,deepExtend:vv});function e(n){vv(t,n)}return t}const cz=zM();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Ty("@firebase/app-compat"),fz="@firebase/app-compat",hz="0.4.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t){Li(fz,hz,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=RA();if(t.firebase!==void 0){IR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&IR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Ea=cz;dz();var mz="firebase",pz="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ea.registerVersion(mz,pz,"app-compat");var Qe=(t=>(t.Present="present",t.Absent="absent",t.HalfDay="halfday",t))(Qe||{}),Xt=(t=>(t.Dashboard="DASHBOARD",t.Attendance="ATTENDANCE",t.AddMember="ADD_MEMBER",t.MemberDetails="MEMBER_DETAILS",t))(Xt||{}),xR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,FM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,D){function M(){}M.prototype=D.prototype,C.D=D.prototype,C.prototype=new M,C.prototype.constructor=C,C.C=function(q,j,B){for(var V=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)V[Pe-2]=arguments[Pe];return D.prototype[j].apply(q,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,D,M){M||(M=0);var q=Array(16);if(typeof D=="string")for(var j=0;16>j;++j)q[j]=D.charCodeAt(M++)|D.charCodeAt(M++)<<8|D.charCodeAt(M++)<<16|D.charCodeAt(M++)<<24;else for(j=0;16>j;++j)q[j]=D[M++]|D[M++]<<8|D[M++]<<16|D[M++]<<24;D=C.g[0],M=C.g[1],j=C.g[2];var B=C.g[3],V=D+(B^M&(j^B))+q[0]+3614090360&4294967295;D=M+(V<<7&4294967295|V>>>25),V=B+(j^D&(M^j))+q[1]+3905402710&4294967295,B=D+(V<<12&4294967295|V>>>20),V=j+(M^B&(D^M))+q[2]+606105819&4294967295,j=B+(V<<17&4294967295|V>>>15),V=M+(D^j&(B^D))+q[3]+3250441966&4294967295,M=j+(V<<22&4294967295|V>>>10),V=D+(B^M&(j^B))+q[4]+4118548399&4294967295,D=M+(V<<7&4294967295|V>>>25),V=B+(j^D&(M^j))+q[5]+1200080426&4294967295,B=D+(V<<12&4294967295|V>>>20),V=j+(M^B&(D^M))+q[6]+2821735955&4294967295,j=B+(V<<17&4294967295|V>>>15),V=M+(D^j&(B^D))+q[7]+4249261313&4294967295,M=j+(V<<22&4294967295|V>>>10),V=D+(B^M&(j^B))+q[8]+1770035416&4294967295,D=M+(V<<7&4294967295|V>>>25),V=B+(j^D&(M^j))+q[9]+2336552879&4294967295,B=D+(V<<12&4294967295|V>>>20),V=j+(M^B&(D^M))+q[10]+4294925233&4294967295,j=B+(V<<17&4294967295|V>>>15),V=M+(D^j&(B^D))+q[11]+2304563134&4294967295,M=j+(V<<22&4294967295|V>>>10),V=D+(B^M&(j^B))+q[12]+1804603682&4294967295,D=M+(V<<7&4294967295|V>>>25),V=B+(j^D&(M^j))+q[13]+4254626195&4294967295,B=D+(V<<12&4294967295|V>>>20),V=j+(M^B&(D^M))+q[14]+2792965006&4294967295,j=B+(V<<17&4294967295|V>>>15),V=M+(D^j&(B^D))+q[15]+1236535329&4294967295,M=j+(V<<22&4294967295|V>>>10),V=D+(j^B&(M^j))+q[1]+4129170786&4294967295,D=M+(V<<5&4294967295|V>>>27),V=B+(M^j&(D^M))+q[6]+3225465664&4294967295,B=D+(V<<9&4294967295|V>>>23),V=j+(D^M&(B^D))+q[11]+643717713&4294967295,j=B+(V<<14&4294967295|V>>>18),V=M+(B^D&(j^B))+q[0]+3921069994&4294967295,M=j+(V<<20&4294967295|V>>>12),V=D+(j^B&(M^j))+q[5]+3593408605&4294967295,D=M+(V<<5&4294967295|V>>>27),V=B+(M^j&(D^M))+q[10]+38016083&4294967295,B=D+(V<<9&4294967295|V>>>23),V=j+(D^M&(B^D))+q[15]+3634488961&4294967295,j=B+(V<<14&4294967295|V>>>18),V=M+(B^D&(j^B))+q[4]+3889429448&4294967295,M=j+(V<<20&4294967295|V>>>12),V=D+(j^B&(M^j))+q[9]+568446438&4294967295,D=M+(V<<5&4294967295|V>>>27),V=B+(M^j&(D^M))+q[14]+3275163606&4294967295,B=D+(V<<9&4294967295|V>>>23),V=j+(D^M&(B^D))+q[3]+4107603335&4294967295,j=B+(V<<14&4294967295|V>>>18),V=M+(B^D&(j^B))+q[8]+1163531501&4294967295,M=j+(V<<20&4294967295|V>>>12),V=D+(j^B&(M^j))+q[13]+2850285829&4294967295,D=M+(V<<5&4294967295|V>>>27),V=B+(M^j&(D^M))+q[2]+4243563512&4294967295,B=D+(V<<9&4294967295|V>>>23),V=j+(D^M&(B^D))+q[7]+1735328473&4294967295,j=B+(V<<14&4294967295|V>>>18),V=M+(B^D&(j^B))+q[12]+2368359562&4294967295,M=j+(V<<20&4294967295|V>>>12),V=D+(M^j^B)+q[5]+4294588738&4294967295,D=M+(V<<4&4294967295|V>>>28),V=B+(D^M^j)+q[8]+2272392833&4294967295,B=D+(V<<11&4294967295|V>>>21),V=j+(B^D^M)+q[11]+1839030562&4294967295,j=B+(V<<16&4294967295|V>>>16),V=M+(j^B^D)+q[14]+4259657740&4294967295,M=j+(V<<23&4294967295|V>>>9),V=D+(M^j^B)+q[1]+2763975236&4294967295,D=M+(V<<4&4294967295|V>>>28),V=B+(D^M^j)+q[4]+1272893353&4294967295,B=D+(V<<11&4294967295|V>>>21),V=j+(B^D^M)+q[7]+4139469664&4294967295,j=B+(V<<16&4294967295|V>>>16),V=M+(j^B^D)+q[10]+3200236656&4294967295,M=j+(V<<23&4294967295|V>>>9),V=D+(M^j^B)+q[13]+681279174&4294967295,D=M+(V<<4&4294967295|V>>>28),V=B+(D^M^j)+q[0]+3936430074&4294967295,B=D+(V<<11&4294967295|V>>>21),V=j+(B^D^M)+q[3]+3572445317&4294967295,j=B+(V<<16&4294967295|V>>>16),V=M+(j^B^D)+q[6]+76029189&4294967295,M=j+(V<<23&4294967295|V>>>9),V=D+(M^j^B)+q[9]+3654602809&4294967295,D=M+(V<<4&4294967295|V>>>28),V=B+(D^M^j)+q[12]+3873151461&4294967295,B=D+(V<<11&4294967295|V>>>21),V=j+(B^D^M)+q[15]+530742520&4294967295,j=B+(V<<16&4294967295|V>>>16),V=M+(j^B^D)+q[2]+3299628645&4294967295,M=j+(V<<23&4294967295|V>>>9),V=D+(j^(M|~B))+q[0]+4096336452&4294967295,D=M+(V<<6&4294967295|V>>>26),V=B+(M^(D|~j))+q[7]+1126891415&4294967295,B=D+(V<<10&4294967295|V>>>22),V=j+(D^(B|~M))+q[14]+2878612391&4294967295,j=B+(V<<15&4294967295|V>>>17),V=M+(B^(j|~D))+q[5]+4237533241&4294967295,M=j+(V<<21&4294967295|V>>>11),V=D+(j^(M|~B))+q[12]+1700485571&4294967295,D=M+(V<<6&4294967295|V>>>26),V=B+(M^(D|~j))+q[3]+2399980690&4294967295,B=D+(V<<10&4294967295|V>>>22),V=j+(D^(B|~M))+q[10]+4293915773&4294967295,j=B+(V<<15&4294967295|V>>>17),V=M+(B^(j|~D))+q[1]+2240044497&4294967295,M=j+(V<<21&4294967295|V>>>11),V=D+(j^(M|~B))+q[8]+1873313359&4294967295,D=M+(V<<6&4294967295|V>>>26),V=B+(M^(D|~j))+q[15]+4264355552&4294967295,B=D+(V<<10&4294967295|V>>>22),V=j+(D^(B|~M))+q[6]+2734768916&4294967295,j=B+(V<<15&4294967295|V>>>17),V=M+(B^(j|~D))+q[13]+1309151649&4294967295,M=j+(V<<21&4294967295|V>>>11),V=D+(j^(M|~B))+q[4]+4149444226&4294967295,D=M+(V<<6&4294967295|V>>>26),V=B+(M^(D|~j))+q[11]+3174756917&4294967295,B=D+(V<<10&4294967295|V>>>22),V=j+(D^(B|~M))+q[2]+718787259&4294967295,j=B+(V<<15&4294967295|V>>>17),V=M+(B^(j|~D))+q[9]+3951481745&4294967295,C.g[0]=C.g[0]+D&4294967295,C.g[1]=C.g[1]+(j+(V<<21&4294967295|V>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+B&4294967295}r.prototype.u=function(C,D){D===void 0&&(D=C.length);for(var M=D-this.blockSize,q=this.B,j=this.h,B=0;B<D;){if(j==0)for(;B<=M;)i(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<D;)if(q[j++]=C.charCodeAt(B++),j==this.blockSize){i(this,q),j=0;break}}else for(;B<D;)if(q[j++]=C[B++],j==this.blockSize){i(this,q),j=0;break}}this.h=j,this.o+=D},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var D=1;D<C.length-8;++D)C[D]=0;var M=8*this.o;for(D=C.length-8;D<C.length;++D)C[D]=M&255,M/=256;for(this.u(C),C=Array(16),D=M=0;4>D;++D)for(var q=0;32>q;q+=8)C[M++]=this.g[D]>>>q&255;return C};function a(C,D){var M=c;return Object.prototype.hasOwnProperty.call(M,C)?M[C]:M[C]=D(C)}function u(C,D){this.h=D;for(var M=[],q=!0,j=C.length-1;0<=j;j--){var B=C[j]|0;q&&B==D||(M[j]=B,q=!1)}this.g=M}var c={};function f(C){return-128<=C&&128>C?a(C,function(D){return new u([D|0],0>D?-1:0)}):new u([C|0],0>C?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return g;if(0>C)return A(h(-C));for(var D=[],M=1,q=0;C>=M;q++)D[q]=C/M|0,M*=4294967296;return new u(D,0)}function m(C,D){if(C.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C.charAt(0)=="-")return A(m(C.substring(1),D));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(D,8)),q=g,j=0;j<C.length;j+=8){var B=Math.min(8,C.length-j),V=parseInt(C.substring(j,j+B),D);8>B?(B=h(Math.pow(D,B)),q=q.j(B).add(h(V))):(q=q.j(M),q=q.add(h(V)))}return q}var g=f(0),y=f(1),b=f(16777216);t=u.prototype,t.m=function(){if(T(this))return-A(this).m();for(var C=0,D=1,M=0;M<this.g.length;M++){var q=this.i(M);C+=(0<=q?q:4294967296+q)*D,D*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E(this))return"0";if(T(this))return"-"+A(this).toString(C);for(var D=h(Math.pow(C,6)),M=this,q="";;){var j=U(M,D).g;M=x(M,j.j(D));var B=((0<M.g.length?M.g[0]:M.h)>>>0).toString(C);if(M=j,E(M))return B+q;for(;6>B.length;)B="0"+B;q=B+q}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function E(C){if(C.h!=0)return!1;for(var D=0;D<C.g.length;D++)if(C.g[D]!=0)return!1;return!0}function T(C){return C.h==-1}t.l=function(C){return C=x(this,C),T(C)?-1:E(C)?0:1};function A(C){for(var D=C.g.length,M=[],q=0;q<D;q++)M[q]=~C.g[q];return new u(M,~C.h).add(y)}t.abs=function(){return T(this)?A(this):this},t.add=function(C){for(var D=Math.max(this.g.length,C.g.length),M=[],q=0,j=0;j<=D;j++){var B=q+(this.i(j)&65535)+(C.i(j)&65535),V=(B>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);q=V>>>16,B&=65535,V&=65535,M[j]=V<<16|B}return new u(M,M[M.length-1]&-2147483648?-1:0)};function x(C,D){return C.add(A(D))}t.j=function(C){if(E(this)||E(C))return g;if(T(this))return T(C)?A(this).j(A(C)):A(A(this).j(C));if(T(C))return A(this.j(A(C)));if(0>this.l(b)&&0>C.l(b))return h(this.m()*C.m());for(var D=this.g.length+C.g.length,M=[],q=0;q<2*D;q++)M[q]=0;for(q=0;q<this.g.length;q++)for(var j=0;j<C.g.length;j++){var B=this.i(q)>>>16,V=this.i(q)&65535,Pe=C.i(j)>>>16,Me=C.i(j)&65535;M[2*q+2*j]+=V*Me,R(M,2*q+2*j),M[2*q+2*j+1]+=B*Me,R(M,2*q+2*j+1),M[2*q+2*j+1]+=V*Pe,R(M,2*q+2*j+1),M[2*q+2*j+2]+=B*Pe,R(M,2*q+2*j+2)}for(q=0;q<D;q++)M[q]=M[2*q+1]<<16|M[2*q];for(q=D;q<2*D;q++)M[q]=0;return new u(M,0)};function R(C,D){for(;(C[D]&65535)!=C[D];)C[D+1]+=C[D]>>>16,C[D]&=65535,D++}function P(C,D){this.g=C,this.h=D}function U(C,D){if(E(D))throw Error("division by zero");if(E(C))return new P(g,g);if(T(C))return D=U(A(C),D),new P(A(D.g),A(D.h));if(T(D))return D=U(C,A(D)),new P(A(D.g),D.h);if(30<C.g.length){if(T(C)||T(D))throw Error("slowDivide_ only works with positive integers.");for(var M=y,q=D;0>=q.l(C);)M=L(M),q=L(q);var j=$(M,1),B=$(q,1);for(q=$(q,2),M=$(M,2);!E(q);){var V=B.add(q);0>=V.l(C)&&(j=j.add(M),B=V),q=$(q,1),M=$(M,1)}return D=x(C,j.j(D)),new P(j,D)}for(j=g;0<=C.l(D);){for(M=Math.max(1,Math.floor(C.m()/D.m())),q=Math.ceil(Math.log(M)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),B=h(M),V=B.j(D);T(V)||0<V.l(C);)M-=q,B=h(M),V=B.j(D);E(B)&&(B=y),j=j.add(B),C=x(C,V)}return new P(j,C)}t.A=function(C){return U(this,C).h},t.and=function(C){for(var D=Math.max(this.g.length,C.g.length),M=[],q=0;q<D;q++)M[q]=this.i(q)&C.i(q);return new u(M,this.h&C.h)},t.or=function(C){for(var D=Math.max(this.g.length,C.g.length),M=[],q=0;q<D;q++)M[q]=this.i(q)|C.i(q);return new u(M,this.h|C.h)},t.xor=function(C){for(var D=Math.max(this.g.length,C.g.length),M=[],q=0;q<D;q++)M[q]=this.i(q)^C.i(q);return new u(M,this.h^C.h)};function L(C){for(var D=C.g.length+1,M=[],q=0;q<D;q++)M[q]=C.i(q)<<1|C.i(q-1)>>>31;return new u(M,C.h)}function $(C,D){var M=D>>5;D%=32;for(var q=C.g.length-M,j=[],B=0;B<q;B++)j[B]=0<D?C.i(B+M)>>>D|C.i(B+M+1)<<32-D:C.i(B+M);return new u(j,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FM=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=m,mo=u}).apply(typeof xR<"u"?xR:typeof self<"u"?self:typeof window<"u"?window:{});var Cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $M,Ed,HM,ev,QE,KM,GM,WM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,S){return p==Array.prototype||p==Object.prototype||(p[w]=S.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cg=="object"&&Cg];for(var w=0;w<p.length;++w){var S=p[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(p,w){if(w)e:{var S=r;p=p.split(".");for(var k=0;k<p.length-1;k++){var W=p[k];if(!(W in S))break e;S=S[W]}p=p[p.length-1],k=S[p],w=w(k),w!=k&&w!=null&&e(S,p,{configurable:!0,writable:!0,value:w})}}function a(p,w){p instanceof String&&(p+="");var S=0,k=!1,W={next:function(){if(!k&&S<p.length){var ne=S++;return{value:w(ne,p[ne]),done:!1}}return k=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(p){return p||function(){return a(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function h(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function m(p,w,S){return p.call.apply(p.bind,arguments)}function g(p,w,S){if(!p)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,k),p.apply(w,W)}}return function(){return p.apply(w,arguments)}}function y(p,w,S){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,y.apply(null,arguments)}function b(p,w){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function E(p,w){function S(){}S.prototype=w.prototype,p.aa=w.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(k,W,ne){for(var pe=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)pe[Ze-2]=arguments[Ze];return w.prototype[W].apply(k,pe)}}function T(p){const w=p.length;if(0<w){const S=Array(w);for(let k=0;k<w;k++)S[k]=p[k];return S}return[]}function A(p,w){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(f(k)){const W=p.length||0,ne=k.length||0;p.length=W+ne;for(let pe=0;pe<ne;pe++)p[W+pe]=k[pe]}else p.push(k)}}class x{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(p){return/^[\s\xa0]*$/.test(p)}function P(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function U(p){return U[" "](p),p}U[" "]=function(){};var L=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function $(p,w,S){for(const k in p)w.call(S,p[k],k,p)}function C(p,w){for(const S in p)w.call(void 0,p[S],S,p)}function D(p){const w={};for(const S in p)w[S]=p[S];return w}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(p,w){let S,k;for(let W=1;W<arguments.length;W++){k=arguments[W];for(S in k)p[S]=k[S];for(let ne=0;ne<M.length;ne++)S=M[ne],Object.prototype.hasOwnProperty.call(k,S)&&(p[S]=k[S])}}function j(p){var w=1;p=p.split(":");const S=[];for(;0<w&&p.length;)S.push(p.shift()),w--;return p.length&&S.push(p.join(":")),S}function B(p){c.setTimeout(()=>{throw p},0)}function V(){var p=Ne;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class Pe{constructor(){this.h=this.g=null}add(w,S){const k=Me.get();k.set(w,S),this.h?this.h.next=k:this.g=k,this.h=k}}var Me=new x(()=>new te,p=>p.reset());class te{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let he,be=!1,Ne=new Pe,H=()=>{const p=c.Promise.resolve(void 0);he=()=>{p.then(oe)}};var oe=()=>{for(var p;p=V();){try{p.h.call(p.g)}catch(S){B(S)}var w=Me;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}be=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};c.addEventListener("test",S,w),c.removeEventListener("test",S,w)}catch{}return p}();function Ce(p,w){if(ce.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(L){e:{try{U(w.nodeName);var W=!0;break e}catch{}W=!1}W||(w=null)}}else S=="mouseover"?w=p.fromElement:S=="mouseout"&&(w=p.toElement);this.relatedTarget=w,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:je[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ce.aa.h.call(this)}}E(Ce,ce);var je={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var nn="closure_listenable_"+(1e6*Math.random()|0),mt=0;function ye(p,w,S,k,W){this.listener=p,this.proxy=null,this.src=w,this.type=S,this.capture=!!k,this.ha=W,this.key=++mt,this.da=this.fa=!1}function Ue(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Be(p){this.src=p,this.g={},this.h=0}Be.prototype.add=function(p,w,S,k,W){var ne=p.toString();p=this.g[ne],p||(p=this.g[ne]=[],this.h++);var pe=qt(p,w,k,W);return-1<pe?(w=p[pe],S||(w.fa=!1)):(w=new ye(w,this.src,ne,!!k,W),w.fa=S,p.push(w)),w};function de(p,w){var S=w.type;if(S in p.g){var k=p.g[S],W=Array.prototype.indexOf.call(k,w,void 0),ne;(ne=0<=W)&&Array.prototype.splice.call(k,W,1),ne&&(Ue(w),p.g[S].length==0&&(delete p.g[S],p.h--))}}function qt(p,w,S,k){for(var W=0;W<p.length;++W){var ne=p[W];if(!ne.da&&ne.listener==w&&ne.capture==!!S&&ne.ha==k)return W}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),gn={};function In(p,w,S,k,W){if(Array.isArray(w)){for(var ne=0;ne<w.length;ne++)In(p,w[ne],S,k,W);return null}return S=up(S),p&&p[nn]?p.K(w,S,h(k)?!!k.capture:!1,W):rn(p,w,S,!1,k,W)}function rn(p,w,S,k,W,ne){if(!w)throw Error("Invalid event type");var pe=h(W)?!!W.capture:!!W,Ze=Ol(p);if(Ze||(p[Xe]=Ze=new Be(p)),S=Ze.add(w,S,k,pe,ne),S.proxy)return S;if(k=xl(),S.proxy=k,k.src=p,k.listener=S,p.addEventListener)Ae||(W=pe),W===void 0&&(W=!1),p.addEventListener(w.toString(),k,W);else if(p.attachEvent)p.attachEvent(Ho(w.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function xl(){function p(S){return w.call(p.src,p.listener,S)}const w=B_;return p}function Yf(p,w,S,k,W){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)Yf(p,w[ne],S,k,W);else k=h(k)?!!k.capture:!!k,S=up(S),p&&p[nn]?(p=p.i,w=String(w).toString(),w in p.g&&(ne=p.g[w],S=qt(ne,S,k,W),-1<S&&(Ue(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete p.g[w],p.h--)))):p&&(p=Ol(p))&&(w=p.g[w.toString()],p=-1,w&&(p=qt(w,S,k,W)),(S=-1<p?w[p]:null)&&Pl(S))}function Pl(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[nn])de(w.i,p);else{var S=p.type,k=p.proxy;w.removeEventListener?w.removeEventListener(S,k,p.capture):w.detachEvent?w.detachEvent(Ho(S),k):w.addListener&&w.removeListener&&w.removeListener(k),(S=Ol(w))?(de(S,p),S.h==0&&(S.src=null,w[Xe]=null)):Ue(p)}}}function Ho(p){return p in gn?gn[p]:gn[p]="on"+p}function B_(p,w){if(p.da)p=!0;else{w=new Ce(w,this);var S=p.listener,k=p.ha||p.src;p.fa&&Pl(p),p=S.call(k,w)}return p}function Ol(p){return p=p[Xe],p instanceof Be?p:null}var Qf="__closure_events_fn_"+(1e9*Math.random()>>>0);function up(p){return typeof p=="function"?p:(p[Qf]||(p[Qf]=function(w){return p.handleEvent(w)}),p[Qf])}function zt(){ie.call(this),this.i=new Be(this),this.M=this,this.F=null}E(zt,ie),zt.prototype[nn]=!0,zt.prototype.removeEventListener=function(p,w,S,k){Yf(this,p,w,S,k)};function lt(p,w){var S,k=p.F;if(k)for(S=[];k;k=k.F)S.push(k);if(p=p.M,k=w.type||w,typeof w=="string")w=new ce(w,p);else if(w instanceof ce)w.target=w.target||p;else{var W=w;w=new ce(k,p),q(w,W)}if(W=!0,S)for(var ne=S.length-1;0<=ne;ne--){var pe=w.g=S[ne];W=Or(pe,k,!0,w)&&W}if(pe=w.g=p,W=Or(pe,k,!0,w)&&W,W=Or(pe,k,!1,w)&&W,S)for(ne=0;ne<S.length;ne++)pe=w.g=S[ne],W=Or(pe,k,!1,w)&&W}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var S=p.g[w],k=0;k<S.length;k++)Ue(S[k]);delete p.g[w],p.h--}}this.F=null},zt.prototype.K=function(p,w,S,k){return this.i.add(String(p),w,!1,S,k)},zt.prototype.L=function(p,w,S,k){return this.i.add(String(p),w,!0,S,k)};function Or(p,w,S,k){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var W=!0,ne=0;ne<w.length;++ne){var pe=w[ne];if(pe&&!pe.da&&pe.capture==S){var Ze=pe.listener,yn=pe.ha||pe.src;pe.fa&&de(p.i,pe),W=Ze.call(yn,k)!==!1&&W}}return W&&!k.defaultPrevented}function Zn(p,w,S){if(typeof p=="function")S&&(p=y(p,S));else if(p&&typeof p.handleEvent=="function")p=y(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(p,w||0)}function lp(p){p.g=Zn(()=>{p.g=null,p.i&&(p.i=!1,lp(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class q_ extends ie{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:lp(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ko(p){ie.call(this),this.h=p,this.g={}}E(Ko,ie);var Go=[];function Wo(p){$(p.g,function(w,S){this.g.hasOwnProperty(S)&&Pl(w)},p),p.g={}}Ko.prototype.N=function(){Ko.aa.N.call(this),Wo(this)},Ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pi=c.JSON.stringify,Rl=c.JSON.parse,Yo=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Xf(){}Xf.prototype.h=null;function Zf(p){return p.h||(p.h=p.i())}function Jf(){}var Pa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oa(){ce.call(this,"d")}E(Oa,ce);function eh(){ce.call(this,"c")}E(eh,ce);var Hi={},th=null;function Ss(){return th=th||new zt}Hi.La="serverreachability";function Cl(p){ce.call(this,Hi.La,p)}E(Cl,ce);function Is(p){const w=Ss();lt(w,new Cl(w))}Hi.STAT_EVENT="statevent";function cp(p,w){ce.call(this,Hi.STAT_EVENT,p),this.stat=w}E(cp,ce);function Rt(p){const w=Ss();lt(w,new cp(w,p))}Hi.Ma="timingevent";function vn(p,w){ce.call(this,Hi.Ma,p),this.size=w}E(vn,ce);function an(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},w)}function ti(){this.g=!0}ti.prototype.xa=function(){this.g=!1};function nh(p,w,S,k,W,ne){p.info(function(){if(p.g)if(ne)for(var pe="",Ze=ne.split("&"),yn=0;yn<Ze.length;yn++){var Je=Ze[yn].split("=");if(1<Je.length){var Pn=Je[0];Je=Je[1];var _n=Pn.split("_");pe=2<=_n.length&&_n[1]=="type"?pe+(Pn+"="+Je+"&"):pe+(Pn+"=redacted&")}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+k+") [attempt "+W+"]: "+w+`
`+S+`
`+pe})}function z_(p,w,S,k,W,ne,pe){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+W+"]: "+w+`
`+S+`
`+ne+" "+pe})}function xs(p,w,S,k){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+Qo(p,S)+(k?" "+k:"")})}function fp(p,w){p.info(function(){return"TIMEOUT: "+w})}ti.prototype.info=function(){};function Qo(p,w){if(!p.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var k=S[p];if(!(2>k.length)){var W=k[1];if(Array.isArray(W)&&!(1>W.length)){var ne=W[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var pe=1;pe<W.length;pe++)W[pe]=""}}}}return Pi(S)}catch{return w}}var Ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ra={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ki;function Gi(){}E(Gi,Xf),Gi.prototype.g=function(){return new XMLHttpRequest},Gi.prototype.i=function(){return{}},Ki=new Gi;function lr(p,w,S,k){this.j=p,this.i=w,this.l=S,this.R=k||1,this.U=new Ko(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wt}function Wt(){this.i=null,this.g="",this.h=!1}var rh={},Dl={};function Oi(p,w,S){p.L=1,p.v=tu(Rr(w)),p.m=S,p.P=!0,Ca(p,null)}function Ca(p,w){p.F=Date.now(),Xo(p),p.A=Rr(p.v);var S=p.A,k=p.R;Array.isArray(k)||(k=[String(k)]),lh(S.i,"t",k),p.C=0,S=p.j.J,p.h=new Wt,p.g=xp(p.j,S?w:null,!p.m),0<p.O&&(p.M=new q_(y(p.Y,p,p.g),p.O)),w=p.U,S=p.g,k=p.ca;var W="readystatechange";Array.isArray(W)||(W&&(Go[0]=W.toString()),W=Go);for(var ne=0;ne<W.length;ne++){var pe=In(S,W[ne],k||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=p.H?D(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),Is(),nh(p.i,p.u,p.A,p.l,p.R,p.m)}lr.prototype.ca=function(p){p=p.target;const w=this.M;w&&ai(p)==3?w.j():this.Y(p)},lr.prototype.Y=function(p){try{if(p==this.g)e:{const _n=ai(this.g);var w=this.g.Ba();const Ua=this.g.Z();if(!(3>_n)&&(_n!=3||this.g&&(this.h.h||this.g.oa()||_p(this.g)))){this.J||_n!=4||w==7||(w==8||0>=Ua?Is(3):Is(2)),Os(this);var S=this.g.Z();this.X=S;t:if(hp(this)){var k=_p(this.g);p="";var W=k.length,ne=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),Wi(this);var pe="";break t}this.h.i=new c.TextDecoder}for(w=0;w<W;w++)this.h.h=!0,p+=this.h.i.decode(k[w],{stream:!(ne&&w==W-1)});k.length=0,this.h.g+=p,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=S==200,z_(this.i,this.u,this.A,this.l,this.R,_n,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,yn=this.g;if((Ze=yn.g?yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Ze)){var Je=Ze;break t}}Je=null}if(S=Je)xs(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zo(this,S);else{this.o=!1,this.s=3,Rt(12),Un(this),Wi(this);break e}}if(this.P){S=!0;let Bn;for(;!this.J&&this.C<pe.length;)if(Bn=dp(this,pe),Bn==Dl){_n==4&&(this.s=4,Rt(14),S=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==rh){this.s=4,Rt(15),xs(this.i,this.l,pe,"[Invalid Chunk]"),S=!1;break}else xs(this.i,this.l,Bn,null),Zo(this,Bn);if(hp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_n!=4||pe.length!=0||this.h.h||(this.s=1,Rt(16),S=!1),this.o=this.o&&S,!S)xs(this.i,this.l,pe,"[Invalid Chunked Response]"),Un(this),Wi(this);else if(0<pe.length&&!this.W){this.W=!0;var Pn=this.j;Pn.g==this&&Pn.ba&&!Pn.M&&(Pn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),lu(Pn),Pn.M=!0,Rt(11))}}else xs(this.i,this.l,pe,null),Zo(this,pe);_n==4&&Un(this),this.o&&!this.J&&(_n==4?Ap(this.j,this):(this.o=!1,Xo(this)))}else G_(this.g),S==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Un(this),Wi(this)}}}catch{}finally{}};function hp(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function dp(p,w){var S=p.C,k=w.indexOf(`
`,S);return k==-1?Dl:(S=Number(w.substring(S,k)),isNaN(S)?rh:(k+=1,k+S>w.length?Dl:(w=w.slice(k,k+S),p.C=k+S,w)))}lr.prototype.cancel=function(){this.J=!0,Un(this)};function Xo(p){p.S=Date.now()+p.I,mp(p,p.I)}function mp(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=an(y(p.ba,p),w)}function Os(p){p.B&&(c.clearTimeout(p.B),p.B=null)}lr.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(fp(this.i,this.A),this.L!=2&&(Is(),Rt(17)),Un(this),this.s=2,Wi(this)):mp(this,this.S-p)};function Wi(p){p.j.G==0||p.J||Ap(p.j,p)}function Un(p){Os(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,Wo(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function Zo(p,w){try{var S=p.j;if(S.G!=0&&(S.g==p||ih(S.h,p))){if(!p.K&&ih(S.h,p)&&S.G==3){try{var k=S.Da.g.parse(w)}catch{k=null}if(Array.isArray(k)&&k.length==3){var W=k;if(W[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)$l(S),zl(S);else break e;mh(S),Rt(18)}}else S.za=W[1],0<S.za-S.T&&37500>W[2]&&S.F&&S.v==0&&!S.C&&(S.C=an(y(S.Za,S),6e3));if(1>=kl(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else La(S,11)}else if((p.K||S.g==p)&&$l(S),!R(w))for(W=S.Da.g.parse(w),w=0;w<W.length;w++){let Je=W[w];if(S.T=Je[0],Je=Je[1],S.G==2)if(Je[0]=="c"){S.K=Je[1],S.ia=Je[2];const Pn=Je[3];Pn!=null&&(S.la=Pn,S.j.info("VER="+S.la));const _n=Je[4];_n!=null&&(S.Aa=_n,S.j.info("SVER="+S.Aa));const Ua=Je[5];Ua!=null&&typeof Ua=="number"&&0<Ua&&(k=1.5*Ua,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const Bn=p.g;if(Bn){const ta=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var ne=k.h;ne.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ml(ne,ne.h),ne.h=null))}if(k.D){const gh=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;gh&&(k.ya=gh,pt(k.I,k.D,gh))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var pe=p;if(k.qa=Ip(k,k.J?k.ia:null,k.W),pe.K){cr(k.h,pe);var Ze=pe,yn=k.L;yn&&(Ze.I=yn),Ze.B&&(Os(Ze),Xo(Ze)),k.g=pe}else Ep(k);0<S.i.length&&Fl(S)}else Je[0]!="stop"&&Je[0]!="close"||La(S,7);else S.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?La(S,7):hh(S):Je[0]!="noop"&&S.l&&S.l.ta(Je),S.v=0)}}Is(4)}catch{}}var pp=class{constructor(p,w){this.g=p,this.map=w}};function Da(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nl(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function kl(p){return p.h?1:p.g?p.g.size:0}function ih(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function Ml(p,w){p.g?p.g.add(w):p.h=w}function cr(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}Da.prototype.cancel=function(){if(this.i=ah(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function ah(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const S of p.g.values())w=w.concat(S.D);return w}return T(p.i)}function F_(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var w=[],S=p.length,k=0;k<S;k++)w.push(p[k]);return w}w=[],S=0;for(k in p)w[S++]=p[k];return w}function Vl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var w=[];p=p.length;for(var S=0;S<p;S++)w.push(S);return w}w=[],S=0;for(const k in p)w[S++]=k;return w}}}function sh(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var S=Vl(p),k=F_(p),W=k.length,ne=0;ne<W;ne++)w.call(void 0,k[ne],S&&S[ne],p)}var Jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $_(p,w){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var k=p[S].indexOf("="),W=null;if(0<=k){var ne=p[S].substring(0,k);W=p[S].substring(k+1)}else ne=p[S];w(ne,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function sn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof sn){this.h=p.h,eu(this,p.j),this.o=p.o,this.g=p.g,Rs(this,p.s),this.l=p.l;var w=p.i,S=new ka;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),Na(this,S),this.m=p.m}else p&&(w=String(p).match(Jo))?(this.h=!1,eu(this,w[1]||"",!0),this.o=ni(w[2]||""),this.g=ni(w[3]||"",!0),Rs(this,w[4]),this.l=ni(w[5]||"",!0),Na(this,w[6]||"",!0),this.m=ni(w[7]||"")):(this.h=!1,this.i=new ka(null,this.h))}sn.prototype.toString=function(){var p=[],w=this.j;w&&p.push(nu(w,oh,!0),":");var S=this.g;return(S||w=="file")&&(p.push("//"),(w=this.o)&&p.push(nu(w,oh,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(nu(S,S.charAt(0)=="/"?H_:uh,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",nu(S,jl)),p.join("")};function Rr(p){return new sn(p)}function eu(p,w,S){p.j=S?ni(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Rs(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function Na(p,w,S){w instanceof ka?(p.i=w,vp(p.i,p.h)):(S||(w=nu(w,K_)),p.i=new ka(w,p.h))}function pt(p,w,S){p.i.set(w,S)}function tu(p){return pt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function ni(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function nu(p,w,S){return typeof p=="string"?(p=encodeURI(p).replace(w,gp),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function gp(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var oh=/[#\/\?@]/g,uh=/[#\?:]/g,H_=/[#\?]/g,K_=/[#\?@]/g,jl=/#/g;function ka(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function ri(p){p.g||(p.g=new Map,p.h=0,p.i&&$_(p.i,function(w,S){p.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}t=ka.prototype,t.add=function(p,w){ri(this),this.i=null,p=Yi(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(w),this.h+=1,this};function Ma(p,w){ri(p),w=Yi(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function Va(p,w){return ri(p),w=Yi(p,w),p.g.has(w)}t.forEach=function(p,w){ri(this),this.g.forEach(function(S,k){S.forEach(function(W){p.call(w,W,k,this)},this)},this)},t.na=function(){ri(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let k=0;k<w.length;k++){const W=p[k];for(let ne=0;ne<W.length;ne++)S.push(w[k])}return S},t.V=function(p){ri(this);let w=[];if(typeof p=="string")Va(this,p)&&(w=w.concat(this.g.get(Yi(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)w=w.concat(p[S])}return w},t.set=function(p,w){return ri(this),this.i=null,p=Yi(this,p),Va(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},t.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function lh(p,w,S){Ma(p,w),0<S.length&&(p.i=null,p.g.set(Yi(p,w),T(S)),p.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var k=w[S];const ne=encodeURIComponent(String(k)),pe=this.V(k);for(k=0;k<pe.length;k++){var W=ne;pe[k]!==""&&(W+="="+encodeURIComponent(String(pe[k]))),p.push(W)}}return this.i=p.join("&")};function Yi(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function vp(p,w){w&&!p.j&&(ri(p),p.i=null,p.g.forEach(function(S,k){var W=k.toLowerCase();k!=W&&(Ma(this,k),lh(this,W,S))},p)),p.j=w}function ru(p,w){const S=new ti;if(c.Image){const k=new Image;k.onload=b(ii,S,"TestLoadImage: loaded",!0,w,k),k.onerror=b(ii,S,"TestLoadImage: error",!1,w,k),k.onabort=b(ii,S,"TestLoadImage: abort",!1,w,k),k.ontimeout=b(ii,S,"TestLoadImage: timeout",!1,w,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else w(!1)}function Ri(p,w){const S=new ti,k=new AbortController,W=setTimeout(()=>{k.abort(),ii(S,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:k.signal}).then(ne=>{clearTimeout(W),ne.ok?ii(S,"TestPingServer: ok",!0,w):ii(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),ii(S,"TestPingServer: error",!1,w)})}function ii(p,w,S,k,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),k(S)}catch{}}function iu(){this.g=new Yo}function Qi(p,w,S){const k=S||"";try{sh(p,function(W,ne){let pe=W;h(W)&&(pe=Pi(W)),w.push(k+ne+"="+encodeURIComponent(pe))})}catch(W){throw w.push(k+"type="+encodeURIComponent("_badmap")),W}}function Cs(p){this.l=p.Ub||null,this.j=p.eb||!1}E(Cs,Xf),Cs.prototype.g=function(){return new ja(this.l,this.j)},Cs.prototype.i=function(p){return function(){return p}}({});function ja(p,w){zt.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ja,zt),t=ja.prototype,t.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,Zi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Zi(this)),this.g&&(this.readyState=3,Zi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ch(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function ch(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?Xi(this):Zi(this),this.readyState==3&&ch(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Xi(this))},t.Qa=function(p){this.g&&(this.response=p,Xi(this))},t.ga=function(){this.g&&Xi(this)};function Xi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Zi(p)}t.setRequestHeader=function(p,w){this.u.append(p,w)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=w.next();return p.join(`\r
`)};function Zi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function fh(p){let w="";return $(p,function(S,k){w+=k,w+=":",w+=S,w+=`\r
`}),w}function xn(p,w,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=fh(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):pt(p,w,S))}function st(p){zt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(st,zt);var Ll=/^https?$/i,au=["POST","PUT"];t=st.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,w,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ki.g(),this.v=this.o?Zf(this.o):Zf(Ki),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(ne){yp(this,ne);return}if(p=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var W in k)S.set(W,k[W]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ne of k.keys())S.set(ne,k.get(ne));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),W=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(au,w,void 0))||k||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of S)this.g.setRequestHeader(ne,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{su(this),this.u=!0,this.g.send(p),this.u=!1}catch(ne){yp(this,ne)}};function yp(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,Ul(p),Ji(p)}function Ul(p){p.A||(p.A=!0,lt(p,"complete"),lt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,lt(this,"complete"),lt(this,"abort"),Ji(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bl(this):this.bb())},t.bb=function(){Bl(this)};function Bl(p){if(p.h&&typeof u<"u"&&(!p.v[1]||ai(p)!=4||p.Z()!=2)){if(p.u&&ai(p)==4)Zn(p.Ea,0,p);else if(lt(p,"readystatechange"),ai(p)==4){p.h=!1;try{const pe=p.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var k;if(k=pe===0){var W=String(p.D).match(Jo)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),k=!Ll.test(W?W.toLowerCase():"")}S=k}if(S)lt(p,"complete"),lt(p,"success");else{p.m=6;try{var ne=2<ai(p)?p.g.statusText:""}catch{ne=""}p.l=ne+" ["+p.Z()+"]",Ul(p)}}finally{Ji(p)}}}}function Ji(p,w){if(p.g){su(p);const S=p.g,k=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||lt(p,"ready");try{S.onreadystatechange=k}catch{}}}function su(p){p.I&&(c.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function ai(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),Rl(w)}};function _p(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function G_(p){const w={};p=(p.g&&2<=ai(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(R(p[k]))continue;var S=j(p[k]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=w[W]||[];w[W]=ne,ne.push(S)}C(w,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ou(p,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||w}function ql(p){this.Aa=0,this.i=[],this.j=new ti,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ou("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ou("baseRetryDelayMs",5e3,p),this.cb=ou("retryDelaySeedMs",1e4,p),this.Wa=ou("forwardChannelMaxRetries",2,p),this.wa=ou("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Da(p&&p.concurrentRequestLimit),this.Da=new iu,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ql.prototype,t.la=8,t.G=1,t.connect=function(p,w,S,k){Rt(0),this.W=p,this.H=w||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=Ip(this,null,this.W),Fl(this)};function hh(p){if(bp(p),p.G==3){var w=p.U++,S=Rr(p.I);if(pt(S,"SID",p.K),pt(S,"RID",w),pt(S,"TYPE","terminate"),uu(p,S),w=new lr(p,p.j,w),w.L=2,w.v=tu(Rr(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=w.v,S=!0),S||(w.g=xp(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Xo(w)}Sp(p)}function zl(p){p.g&&(lu(p),p.g.cancel(),p.g=null)}function bp(p){zl(p),p.u&&(c.clearTimeout(p.u),p.u=null),$l(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function Fl(p){if(!Nl(p.h)&&!p.s){p.s=!0;var w=p.Ga;he||H(),be||(he(),be=!0),Ne.add(w,p),p.B=0}}function W_(p,w){return kl(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=an(y(p.Ga,p,w),ph(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const W=new lr(this,this.j,p);let ne=this.o;if(this.S&&(ne?(ne=D(ne),q(ne,this.S)):ne=this.S),this.m!==null||this.O||(W.H=ne,ne=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(w+=k,4096<w){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=wp(this,W,w),S=Rr(this.I),pt(S,"RID",p),pt(S,"CVER",22),this.D&&pt(S,"X-HTTP-Session-Id",this.D),uu(this,S),ne&&(this.O?w="headers="+encodeURIComponent(String(fh(ne)))+"&"+w:this.m&&xn(S,this.m,ne)),Ml(this.h,W),this.Ua&&pt(S,"TYPE","init"),this.P?(pt(S,"$req",w),pt(S,"SID","null"),W.T=!0,Oi(W,S,null)):Oi(W,S,w),this.G=2}}else this.G==3&&(p?dh(this,p):this.i.length==0||Nl(this.h)||dh(this))};function dh(p,w){var S;w?S=w.l:S=p.U++;const k=Rr(p.I);pt(k,"SID",p.K),pt(k,"RID",S),pt(k,"AID",p.T),uu(p,k),p.m&&p.o&&xn(k,p.m,p.o),S=new lr(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),w&&(p.i=w.D.concat(p.i)),w=wp(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ml(p.h,S),Oi(S,k,w)}function uu(p,w){p.H&&$(p.H,function(S,k){pt(w,k,S)}),p.l&&sh({},function(S,k){pt(w,k,S)})}function wp(p,w,S){S=Math.min(p.i.length,S);var k=p.l?y(p.l.Na,p.l,p):null;e:{var W=p.i;let ne=-1;for(;;){const pe=["count="+S];ne==-1?0<S?(ne=W[0].g,pe.push("ofs="+ne)):ne=0:pe.push("ofs="+ne);let Ze=!0;for(let yn=0;yn<S;yn++){let Je=W[yn].g;const Pn=W[yn].map;if(Je-=ne,0>Je)ne=Math.max(0,W[yn].g-100),Ze=!1;else try{Qi(Pn,pe,"req"+Je+"_")}catch{k&&k(Pn)}}if(Ze){k=pe.join("&");break e}}}return p=p.i.splice(0,S),w.D=p,k}function Ep(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;he||H(),be||(he(),be=!0),Ne.add(w,p),p.v=0}}function mh(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=an(y(p.Fa,p),ph(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Tp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=an(y(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),zl(this),Tp(this))};function lu(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Tp(p){p.g=new lr(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=Rr(p.qa);pt(w,"RID","rpc"),pt(w,"SID",p.K),pt(w,"AID",p.T),pt(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&pt(w,"TO",p.ja),pt(w,"TYPE","xmlhttp"),uu(p,w),p.m&&p.o&&xn(w,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=tu(Rr(w)),S.m=null,S.P=!0,Ca(S,p)}t.Za=function(){this.C!=null&&(this.C=null,zl(this),mh(this),Rt(19))};function $l(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Ap(p,w){var S=null;if(p.g==w){$l(p),lu(p),p.g=null;var k=2}else if(ih(p.h,w))S=w.D,cr(p.h,w),k=1;else return;if(p.G!=0){if(w.o)if(k==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var W=p.B;k=Ss(),lt(k,new vn(k,S)),Fl(p)}else Ep(p);else if(W=w.s,W==3||W==0&&0<w.X||!(k==1&&W_(p,w)||k==2&&mh(p)))switch(S&&0<S.length&&(w=p.h,w.i=w.i.concat(S)),W){case 1:La(p,5);break;case 4:La(p,10);break;case 3:La(p,6);break;default:La(p,2)}}}function ph(p,w){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*w}function La(p,w){if(p.j.info("Error code "+w),w==2){var S=y(p.fb,p),k=p.Xa;const W=!k;k=new sn(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||eu(k,"https"),tu(k),W?ru(k.toString(),S):Ri(k.toString(),S)}else Rt(2);p.G=0,p.l&&p.l.sa(w),Sp(p),bp(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Sp(p){if(p.G=0,p.ka=[],p.l){const w=ah(p.h);(w.length!=0||p.i.length!=0)&&(A(p.ka,w),A(p.ka,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.ra()}}function Ip(p,w,S){var k=S instanceof sn?Rr(S):new sn(S);if(k.g!="")w&&(k.g=w+"."+k.g),Rs(k,k.s);else{var W=c.location;k=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;var ne=new sn(null);k&&eu(ne,k),w&&(ne.g=w),W&&Rs(ne,W),S&&(ne.l=S),k=ne}return S=p.D,w=p.ya,S&&w&&pt(k,S,w),pt(k,"VER",p.la),uu(p,k),k}function xp(p,w,S){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new st(new Cs({eb:S})):new st(p.pa),w.Ha(p.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pp(){}t=Pp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hl(){}Hl.prototype.g=function(p,w){return new fr(p,w)};function fr(p,w){zt.call(this),this.g=new ql(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!R(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!R(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new ea(this)}E(fr,zt),fr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){hh(this.g)},fr.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=Pi(p),p=S);w.i.push(new pp(w.Ya++,p)),w.G==3&&Fl(w)},fr.prototype.N=function(){this.g.l=null,delete this.j,hh(this.g),delete this.g,fr.aa.N.call(this)};function Op(p){Oa.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const S in w){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}E(Op,Oa);function Rp(){eh.call(this),this.status=1}E(Rp,eh);function ea(p){this.g=p}E(ea,Pp),ea.prototype.ua=function(){lt(this.g,"a")},ea.prototype.ta=function(p){lt(this.g,new Op(p))},ea.prototype.sa=function(p){lt(this.g,new Rp)},ea.prototype.ra=function(){lt(this.g,"b")},Hl.prototype.createWebChannel=Hl.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,WM=function(){return new Hl},GM=function(){return Ss()},KM=Hi,QE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,ev=Ps,Ra.COMPLETE="complete",HM=Ra,Jf.EventType=Pa,Pa.OPEN="a",Pa.CLOSE="b",Pa.ERROR="c",Pa.MESSAGE="d",zt.prototype.listen=zt.prototype.K,Ed=Jf,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,$M=st}).apply(typeof Cg<"u"?Cg:typeof self<"u"?self:typeof window<"u"?window:{});const PR="@firebase/firestore",OR="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Of="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new Ty("@firebase/firestore");function Cc(){return Ao.logLevel}function gz(t){Ao.setLogLevel(t)}function fe(t,...e){if(Ao.logLevel<=Ge.DEBUG){const n=e.map(jA);Ao.debug(`Firestore (${Of}): ${t}`,...n)}}function Zt(t,...e){if(Ao.logLevel<=Ge.ERROR){const n=e.map(jA);Ao.error(`Firestore (${Of}): ${t}`,...n)}}function Yr(t,...e){if(Ao.logLevel<=Ge.WARN){const n=e.map(jA);Ao.warn(`Firestore (${Of}): ${t}`,...n)}}function jA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,YM(t,r,n)}function YM(t,e,n){let r=`FIRESTORE (${Of}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zt(r),new Error(r)}function Te(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||YM(e,i,r)}function vz(t,e){t||_e(57014,e)}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kn.UNAUTHENTICATED))}shutdown(){}}class _z{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bz{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yn)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new QM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class wz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ez{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new RR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new RR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Az(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function XE(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ve(r,i);{const a=LA(),u=Sz(a.encode(CR(t,n)),a.encode(CR(e,n)));return u!==0?u:Ve(r,i)}}n+=r>65535?2:1}return Ve(t.length,e.length)}function CR(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Sz(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ve(t[n],e[n]);return Ve(t.length,e.length)}function Yc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function XM(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="__name__";class oa{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=oa.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ve(e.length,n.length)}static compareSegments(e,n){const r=oa.isNumericId(e),i=oa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?oa.extractNumericId(e).compare(oa.extractNumericId(n)):XE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class We extends oa{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new We(n)}static emptyPath(){return new We([])}}const Iz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends oa{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return Iz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DR}static keyField(){return new kt([DR])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new le(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(u=!u,i++):c!=="."||u?(r+=c,i++):(a(),i++)}if(a(),u)throw new le(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(We.fromString(e))}static fromName(e){return new ge(We.fromString(e).popFirst(5))}static empty(){return new ge(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e,n){if(!n)throw new le(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZM(t,e,n,r){if(e===!0&&r===!0)throw new le(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NR(t){if(!ge.isDocumentKey(t))throw new le(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kR(t){if(ge.isDocumentKey(t))throw new le(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ay(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function rt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ay(t);throw new le(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function eV(t,e){if(e<=0)throw new le(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Om(t,e){if(!JM(t))throw new le(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(i&&typeof u!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new le(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=-62135596800,VR=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*VR);return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<MR)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VR}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Om(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-MR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:dn("string",ut._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ut(0,0))}static max(){return new Se(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=-1;class _v{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function ZE(t){return t.fields.find(e=>e.kind===2)}function xu(t){return t.fields.filter(e=>e.kind!==2)}_v.UNKNOWN_ID=-1;class tv{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qd(0,Qr.min())}}function tV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new Qr(i,ge.empty(),e)}function nV(t){return new Qr(t.readTime,t.key,Qc)}class Qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qr(Se.min(),ge.empty(),Qc)}static max(){return new Qr(Se.max(),ge.empty(),Qc)}}function qA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==rV)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let i=0,a=0,u=!1;e.forEach(c=>{++i,c.next(()=>{++a,u&&a===i&&n()},f=>r(f))}),u=!0,a===i&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(i=>i?Y.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,i)=>{const a=e.length,u=new Array(a);let c=0;for(let f=0;f<a;f++){const h=f;n(e[h]).next(m=>{u[h]=m,++c,c===a&&r(u)},m=>i(m))}})}static doWhile(e,n){return new Y((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="SimpleDb";class Sy{static open(e,n,r,i){try{return new Sy(n,e.transaction(i,r))}catch(a){throw new Cd(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Yn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Cd(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=zA(r.target.error);this.S.reject(new Cd(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(fe(Br,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Pz(n)}}class va{static delete(e){return fe(Br,"Removing database:",e),Du(RA().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Gd())return!1;if(va.F())return!0;const e=Ut(),n=va.M(e),r=0<n&&n<10,i=aV(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.B=r,this.L=null,va.M(Ut())===12.2&&Zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(fe(Br,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const u=a.target.result;n(u)},i.onblocked=()=>{r(new Cd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const u=a.target.error;u.name==="VersionError"?r(new le(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new le(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Cd(e,u))},i.onupgradeneeded=a=>{fe(Br,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const u=a.target.result;if(this.L!==null&&this.L!==a.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${a.oldVersion}, event.newVersion=${a.newVersion}, db.version=${u.version}`);this.B.q(u,i.transaction,a.oldVersion,this.version).next(()=>{fe(Br,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const r=n.target;this.L=r.version},{passive:!0})),this.db.addEventListener("versionchange",n=>{var r;n.newVersion===null&&(Yr('Received "versionchange" event with newVersion===null; notifying the registered DatabaseDeletedListener, if any'),(r=this.databaseDeletedListener)===null||r===void 0||r.call(this))},{passive:!0}),this.db}setDatabaseDeletedListener(e){if(this.databaseDeletedListener)throw new Error("setDatabaseDeletedListener() may only be called once, and it has already been called");this.databaseDeletedListener=e}async runTransaction(e,n,r,i){const a=n==="readonly";let u=0;for(;;){++u;try{this.db=await this.k(e);const c=Sy.open(this.db,e,a?"readonly":"readwrite",r),f=i(c).next(h=>(c.v(),h)).catch(h=>(c.abort(h),Y.reject(h))).toPromise();return f.catch(()=>{}),await c.D,f}catch(c){const f=c,h=f.name!=="FirebaseError"&&u<3;if(fe(Br,"Transaction failed with error:",f.message,"Retrying:",h),this.close(),!h)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function aV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class xz{constructor(e){this.$=e,this.U=!1,this.K=null}get isDone(){return this.U}get W(){return this.K}set cursor(e){this.$=e}done(){this.U=!0}G(e){this.K=e}delete(){return Du(this.$.delete())}}class Cd extends le{constructor(e,n){super(ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Mo(t){return t.name==="IndexedDbTransactionError"}class Pz{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(fe(Br,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(fe(Br,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Du(r)}add(e){return fe(Br,"ADD",this.store.name,e,e),Du(this.store.add(e))}get(e){return Du(this.store.get(e)).next(n=>(n===void 0&&(n=null),fe(Br,"GET",this.store.name,e,n),n))}delete(e){return fe(Br,"DELETE",this.store.name,e),Du(this.store.delete(e))}count(){return fe(Br,"COUNT",this.store.name),Du(this.store.count())}j(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new Y((u,c)=>{a.onerror=f=>{c(f.target.error)},a.onsuccess=f=>{u(f.target.result)}})}{const a=this.cursor(r),u=[];return this.J(a,(c,f)=>{u.push(f)}).next(()=>u)}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Y((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,n){fe(Br,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Z=!1;const i=this.cursor(r);return this.J(i,(a,u,c)=>c.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}ee(e){const n=this.cursor({});return new Y((r,i)=>{n.onerror=a=>{const u=zA(a.target.error);i(u)},n.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(c=>{c?u.continue():r()}):r()}})}J(e,n){const r=[];return new Y((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const c=u.target.result;if(!c)return void i();const f=new xz(c),h=n(c.primaryKey,c.value,f);if(h instanceof Y){const m=h.catch(g=>(f.done(),Y.reject(g)));r.push(m)}f.isDone?i():f.W===null?c.continue():c.continue(f.W)}}).next(()=>Y.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Du(t){return new Y((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=zA(r.target.error);n(i)}})}let jR=!1;function zA(t){const e=va.M(Ut());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jR||(jR=!0,setTimeout(()=>{throw r},0)),r}}return t}const Dd="IndexBackfiller";class Oz{constructor(e,n){this.asyncQueue=e,this.te=n,this.task=null}start(){this.ne(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ne(e){fe(Dd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.te.re();fe(Dd,`Documents written: ${n}`)}catch(n){Mo(n)?fe(Dd,"Ignoring IndexedDB error during index backfill: ",n):await ko(n)}await this.ne(6e4)})}}class Rz{constructor(e,n){this.localStore=e,this.persistence=n}async re(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ie(n,e))}ie(e,n){const r=new Set;let i=n,a=!0;return Y.doWhile(()=>a===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return fe(Dd,`Processing collection: ${u}`),this.se(e,u,i).next(c=>{i-=c,r.add(u)});a=!1})).next(()=>n-i)}se(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.oe(i,a)).next(c=>(fe(Dd,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c))).next(()=>u.size)}))}oe(e,n){let r=e;return n.changes.forEach((i,a)=>{const u=nV(a);qA(u,r)>0&&(r=u)}),new Qr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Ar.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=-1;function Rm(t){return t==null}function Xd(t){return t===0&&1/t==-1/0}function sV(t){return typeof t=="number"&&Number.isInteger(t)&&!Xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="";function sr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LR(e)),e=Cz(t.get(n),e);return LR(e)}function Cz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case bv:n+="";break;default:n+=a}}return n}function LR(t){return t+bv+""}function da(t){const e=t.length;if(Te(e>=2,64408,{path:t}),e===2)return Te(t.charAt(0)===bv&&t.charAt(1)==="",56145,{path:t}),We.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const u=t.indexOf(bv,a);switch((u<0||u>n)&&_e(50515,{path:t}),t.charAt(u+1)){case"":const c=t.substring(a,u);let f;i.length===0?f=c:(i+=c,f=i,i=""),r.push(f);break;case"":i+=t.substring(a,u),i+="\0";break;case"":i+=t.substring(a,u+1);break;default:_e(61167,{path:t})}a=u+2}return new We(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu="remoteDocuments",Cm="owner",bc="owner",Zd="mutationQueues",Dz="userId",ki="mutations",UR="batchId",ju="userMutationsIndex",BR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t,e){return[t,sr(e)]}function oV(t,e,n){return[t,sr(e),n]}const Nz={},Xc="documentMutations",wv="remoteDocumentsV14",kz=["prefixPath","collectionGroup","readTime","documentId"],rv="documentKeyIndex",Mz=["prefixPath","collectionGroup","documentId"],uV="collectionGroupIndex",Vz=["collectionGroup","readTime","prefixPath","documentId"],Jd="remoteDocumentGlobal",JE="remoteDocumentGlobalKey",Zc="targets",lV="queryTargetsIndex",jz=["canonicalId","targetId"],Jc="targetDocuments",Lz=["targetId","path"],FA="documentTargetsIndex",Uz=["path","targetId"],Ev="targetGlobalKey",Hu="targetGlobal",em="collectionParents",Bz=["collectionId","parent"],ef="clientMetadata",qz="clientId",Iy="bundles",zz="bundleId",xy="namedQueries",Fz="name",$A="indexConfiguration",$z="indexId",eT="collectionGroupIndex",Hz="collectionGroup",Nd="indexState",Kz=["indexId","uid"],cV="sequenceNumberIndex",Gz=["uid","sequenceNumber"],kd="indexEntries",Wz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fV="documentKeyIndex",Yz=["indexId","uid","orderedDocumentKey"],Py="documentOverlays",Qz=["userId","collectionPath","documentId"],tT="collectionPathOverlayIndex",Xz=["userId","collectionPath","largestBatchId"],hV="collectionGroupOverlayIndex",Zz=["userId","collectionGroup","largestBatchId"],HA="globals",Jz="name",dV=[Zd,ki,Xc,Pu,Zc,Cm,Hu,Jc,ef,Jd,em,Iy,xy],eF=[...dV,Py],mV=[Zd,ki,Xc,wv,Zc,Cm,Hu,Jc,ef,Jd,em,Iy,xy,Py],pV=mV,KA=[...pV,$A,Nd,kd],tF=KA,gV=[...KA,HA],nF=gV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends iV{constructor(e,n){super(),this.ce=e,this.currentSequenceNumber=n}}function An(t,e){const n=ve(t);return va.N(n.ce,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||Hn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dg(this.root,e,this.comparator,!0)}}class Dg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Hn.RED,this.left=i??Hn.EMPTY,this.right=a??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Hn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Hn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zR(this.data.getIterator())}getIteratorFrom(e){return new zR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class zR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new dt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new yV("Invalid base64 string: "+a):a}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const iF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=iF.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cs(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="server_timestamp",bV="__type__",wV="__previous_value__",EV="__local_write_time__";function Oy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[bV])===null||n===void 0?void 0:n.stringValue)===_V}function Ry(t){const e=t.mapValue.fields[wV];return Oy(e)?Ry(e):e}function tm(t){const e=ls(t.mapValue.fields[EV].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n,r,i,a,u,c,f,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=m}}const rT="(default)";class So{constructor(e,n){this.projectId=e,this.database=n||rT}static empty(){return new So("","")}get isDefaultDatabase(){return this.database===rT}isEqual(e){return e instanceof So&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="__type__",TV="__max__",lo={mapValue:{fields:{__type__:{stringValue:TV}}}},WA="__vector__",tf="value",iv={nullValue:"NULL_VALUE"};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oy(t)?4:AV(t)?9007199254740991:Cy(t)?10:11:_e(28295,{value:t})}function Ta(t,e){if(t===e)return!0;const n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tm(t).isEqual(tm(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=ls(i.timestampValue),c=ls(a.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return cs(i.bytesValue).isEqual(cs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Dt(i.geoPointValue.latitude)===Dt(a.geoPointValue.latitude)&&Dt(i.geoPointValue.longitude)===Dt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Dt(i.integerValue)===Dt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=Dt(i.doubleValue),c=Dt(a.doubleValue);return u===c?Xd(u)===Xd(c):isNaN(u)&&isNaN(c)}return!1}(t,e);case 9:return Yc(t.arrayValue.values||[],e.arrayValue.values||[],Ta);case 10:case 11:return function(i,a){const u=i.mapValue.fields||{},c=a.mapValue.fields||{};if(qR(u)!==qR(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!Ta(u[f],c[f])))return!1;return!0}(t,e);default:return _e(52216,{left:t})}}function nm(t,e){return(t.values||[]).find(n=>Ta(n,e))!==void 0}function xo(t,e){if(t===e)return 0;const n=Io(t),r=Io(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(a,u){const c=Dt(a.integerValue||a.doubleValue),f=Dt(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return FR(t.timestampValue,e.timestampValue);case 4:return FR(tm(t),tm(e));case 5:return XE(t.stringValue,e.stringValue);case 6:return function(a,u){const c=cs(a),f=cs(u);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const c=a.split("/"),f=u.split("/");for(let h=0;h<c.length&&h<f.length;h++){const m=Ve(c[h],f[h]);if(m!==0)return m}return Ve(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const c=Ve(Dt(a.latitude),Dt(u.latitude));return c!==0?c:Ve(Dt(a.longitude),Dt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $R(t.arrayValue,e.arrayValue);case 10:return function(a,u){var c,f,h,m;const g=a.fields||{},y=u.fields||{},b=(c=g[tf])===null||c===void 0?void 0:c.arrayValue,E=(f=y[tf])===null||f===void 0?void 0:f.arrayValue,T=Ve(((h=b?.values)===null||h===void 0?void 0:h.length)||0,((m=E?.values)===null||m===void 0?void 0:m.length)||0);return T!==0?T:$R(b,E)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===lo.mapValue&&u===lo.mapValue)return 0;if(a===lo.mapValue)return 1;if(u===lo.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),h=u.fields||{},m=Object.keys(h);f.sort(),m.sort();for(let g=0;g<f.length&&g<m.length;++g){const y=XE(f[g],m[g]);if(y!==0)return y;const b=xo(c[f[g]],h[m[g]]);if(b!==0)return b}return Ve(f.length,m.length)}(t.mapValue,e.mapValue);default:throw _e(23264,{le:n})}}function FR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=ls(t),r=ls(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function $R(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=xo(n[i],r[i]);if(a)return a}return Ve(n.length,r.length)}function nf(t){return iT(t)}function iT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ls(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=iT(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${iT(n.fields[u])}`;return i+"}"}(t.mapValue):_e(61005,{value:t})}function av(t){switch(Io(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ry(t);return e?16+av(e):16;case 5:return 2*t.stringValue.length;case 6:return cs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+av(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Vo(r.fields,(a,u)=>{i+=a.length+av(u)}),i}(t.mapValue);default:throw _e(13486,{value:t})}}function Ju(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function aT(t){return!!t&&"integerValue"in t}function rm(t){return!!t&&"arrayValue"in t}function HR(t){return!!t&&"nullValue"in t}function KR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sv(t){return!!t&&"mapValue"in t}function Cy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[GA])===null||n===void 0?void 0:n.stringValue)===WA}function Md(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Md(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Md(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TV}const SV={mapValue:{fields:{[GA]:{stringValue:WA},[tf]:{arrayValue:{}}}}};function sF(t){return"nullValue"in t?iv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ju(So.empty(),ge.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Cy(t)?SV:{mapValue:{}}:_e(35942,{value:t})}function oF(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ju(So.empty(),ge.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?SV:"mapValue"in t?Cy(t)?{mapValue:{}}:lo:_e(61959,{value:t})}function GR(t,e){const n=xo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function WR(t,e){const n=xo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Md(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((u,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}u?r[c.lastSegment()]=Md(u):i.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());sv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ta(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Gn(Md(this.value))}}function IV(t){const e=[];return Vo(t.fields,(n,r)=>{const i=new kt([n]);if(sv(r)){const a=IV(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r,i,a,u,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Ot(e,0,Se.min(),Se.min(),Se.min(),Gn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ot(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new Ot(e,2,n,Se.min(),Se.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,Se.min(),Se.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this.position=e,this.inclusive=n}}function YR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],u=t.position[i];if(a.field.isKeyField()?r=ge.comparator(ge.fromName(u.referenceValue),n.key):r=xo(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function QR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ta(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n="asc"){this.field=e,this.dir=n}}function uF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{}class Ye extends xV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lF(e,n,r):n==="array-contains"?new hF(e,r):n==="in"?new NV(e,r):n==="not-in"?new dF(e,r):n==="array-contains-any"?new mF(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cF(e,r):new fF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xo(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ht extends xV{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ht(e,n)}matches(e){return rf(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function rf(t){return t.op==="and"}function sT(t){return t.op==="or"}function YA(t){return PV(t)&&rf(t)}function PV(t){for(const e of t.filters)if(e instanceof ht)return!1;return!0}function oT(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+nf(t.value);if(YA(t))return t.filters.map(e=>oT(e)).join(",");{const e=t.filters.map(n=>oT(n)).join(",");return`${t.op}(${e})`}}function OV(t,e){return t instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&Ta(r.value,i.value)}(t,e):t instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,u,c)=>a&&OV(u,i.filters[c]),!0):!1}(t,e):void _e(19439)}function RV(t,e){const n=t.filters.concat(e);return ht.create(n,t.op)}function CV(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${nf(n.value)}`}(t):t instanceof ht?function(n){return n.op.toString()+" {"+n.getFilters().map(CV).join(" ,")+"}"}(t):"Filter"}class lF extends Ye{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class cF extends Ye{constructor(e,n){super(e,"in",n),this.keys=DV("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fF extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=DV("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DV(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class hF extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rm(n)&&nm(n.arrayValue,this.value)}}class NV extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nm(this.value.arrayValue,n)}}class dF extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(nm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nm(this.value.arrayValue,n)}}class mF extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n=null,r=[],i=[],a=null,u=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=c,this.Pe=null}}function uT(t,e=null,n=[],r=[],i=null,a=null,u=null){return new pF(t,e,n,r,i,a,u)}function el(t){const e=ve(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>oT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Rm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nf(r)).join(",")),e.Pe=n}return e.Pe}function Dm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QR(t.startAt,e.startAt)&&QR(t.endAt,e.endAt)}function Tv(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Av(t,e){return t.filters.filter(n=>n instanceof Ye&&n.field.isEqual(e))}function XR(t,e,n){let r=iv,i=!0;for(const a of Av(t,e)){let u=iv,c=!0;switch(a.op){case"<":case"<=":u=sF(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,c=!1;break;case"!=":case"not-in":u=iv}GR({value:r,inclusive:i},{value:u,inclusive:c})<0&&(r=u,i=c)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const u=n.position[a];GR({value:r,inclusive:i},{value:u,inclusive:n.inclusive})<0&&(r=u,i=n.inclusive);break}}return{value:r,inclusive:i}}function ZR(t,e,n){let r=lo,i=!0;for(const a of Av(t,e)){let u=lo,c=!0;switch(a.op){case">=":case">":u=oF(a.value),c=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,c=!1;break;case"!=":case"not-in":u=lo}WR({value:r,inclusive:i},{value:u,inclusive:c})>0&&(r=u,i=c)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const u=n.position[a];WR({value:r,inclusive:i},{value:u,inclusive:n.inclusive})>0&&(r=u,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n=null,r=[],i=[],a=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=c,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function kV(t,e,n,r,i,a,u,c){return new gs(t,e,n,r,i,a,u,c)}function Rf(t){return new gs(t)}function JR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QA(t){return t.collectionGroup!==null}function Uc(t){const e=ve(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new dt(kt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new im(a,r))}),n.has(kt.keyField().canonicalString())||e.Te.push(new im(kt.keyField(),r))}return e.Te}function vr(t){const e=ve(t);return e.Ie||(e.Ie=gF(e,Uc(t))),e.Ie}function gF(t,e){if(t.limitType==="F")return uT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new im(i.field,a)});const n=t.endAt?new Po(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Po(t.startAt.position,t.startAt.inclusive):null;return uT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lT(t,e){const n=t.filters.concat([e]);return new gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sv(t,e,n){return new gs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nm(t,e){return Dm(vr(t),vr(e))&&t.limitType===e.limitType}function MV(t){return`${el(vr(t))}|lt:${t.limitType}`}function Dc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CV(i)).join(", ")}]`),Rm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nf(i)).join(",")),`Target(${r})`}(vr(t))}; limitType=${t.limitType})`}function km(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Uc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(u,c,f){const h=YR(u,c,f);return u.inclusive?h<=0:h<0}(r.startAt,Uc(r),i)||r.endAt&&!function(u,c,f){const h=YR(u,c,f);return u.inclusive?h>=0:h>0}(r.endAt,Uc(r),i))}(t,e)}function VV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jV(t){return(e,n)=>{let r=!1;for(const i of Uc(t)){const a=vF(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function vF(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(a,u,c){const f=u.data.field(a),h=c.data.field(a);return f!==null&&h!==null?xo(f,h):_e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return vV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=new xt(ge.comparator);function Ir(){return yF}const LV=new xt(ge.comparator);function Td(...t){let e=LV;for(const n of t)e=e.insert(n.key,n);return e}function UV(t){let e=LV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ma(){return Vd()}function BV(){return Vd()}function Vd(){return new vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const _F=new xt(ge.comparator),bF=new dt(ge.comparator);function qe(...t){let e=bF;for(const n of t)e=e.add(n);return e}const wF=new dt(Ve);function XA(){return wF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function qV(t){return{integerValue:""+t}}function zV(t,e){return sV(e)?qV(e):ZA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this._=void 0}}function EF(t,e,n){return t instanceof af?function(i,a){const u={fields:{[bV]:{stringValue:_V},[EV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Oy(a)&&(a=Ry(a)),a&&(u.fields[wV]=a),{mapValue:u}}(n,e):t instanceof tl?$V(t,e):t instanceof nl?HV(t,e):function(i,a){const u=FV(i,a),c=eC(u)+eC(i.Ee);return aT(u)&&aT(i.Ee)?qV(c):ZA(i.serializer,c)}(t,e)}function TF(t,e,n){return t instanceof tl?$V(t,e):t instanceof nl?HV(t,e):n}function FV(t,e){return t instanceof sf?function(r){return aT(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class af extends Dy{}class tl extends Dy{constructor(e){super(),this.elements=e}}function $V(t,e){const n=KV(e);for(const r of t.elements)n.some(i=>Ta(i,r))||n.push(r);return{arrayValue:{values:n}}}class nl extends Dy{constructor(e){super(),this.elements=e}}function HV(t,e){let n=KV(e);for(const r of t.elements)n=n.filter(i=>!Ta(i,r));return{arrayValue:{values:n}}}class sf extends Dy{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function eC(t){return Dt(t.integerValue||t.doubleValue)}function KV(t){return rm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.field=e,this.transform=n}}function AF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tl&&i instanceof tl||r instanceof nl&&i instanceof nl?Yc(r.elements,i.elements,Ta):r instanceof sf&&i instanceof sf?Ta(r.Ee,i.Ee):r instanceof af&&i instanceof af}(t.transform,e.transform)}class SF{constructor(e,n){this.version=e,this.transformResults=n}}class Mt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mt}static exists(e){return new Mt(void 0,e)}static updateTime(e){return new Mt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ov(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ny{}function GV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Df(t.key,Mt.none()):new Cf(t.key,t.data,Mt.none());{const n=t.data,r=Gn.empty();let i=new dt(kt.comparator);for(let a of e.fields)if(!i.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new ys(t.key,r,new Sr(i.toArray()),Mt.none())}}function IF(t,e,n){t instanceof Cf?function(i,a,u){const c=i.value.clone(),f=nC(i.fieldTransforms,a,u.transformResults);c.setAll(f),a.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ys?function(i,a,u){if(!ov(i.precondition,a))return void a.convertToUnknownDocument(u.version);const c=nC(i.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(WV(i)),f.setAll(c),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function jd(t,e,n,r){return t instanceof Cf?function(a,u,c,f){if(!ov(a.precondition,u))return c;const h=a.value.clone(),m=rC(a.fieldTransforms,f,u);return h.setAll(m),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ys?function(a,u,c,f){if(!ov(a.precondition,u))return c;const h=rC(a.fieldTransforms,f,u),m=u.data;return m.setAll(WV(a)),m.setAll(h),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(a,u,c){return ov(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(t,e,n)}function xF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=FV(r.transform,i||null);a!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,a))}return n||null}function tC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yc(r,i,(a,u)=>AF(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cf extends Ny{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ys extends Ny{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function WV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nC(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const a=t[i],u=a.transform,c=e.data.field(a.field);r.set(a.field,TF(u,c,n[i]))}return r}function rC(t,e,n){const r=new Map;for(const i of t){const a=i.transform,u=n.data.field(i.field);r.set(i.field,EF(a,u,e))}return r}class Df extends Ny{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JA extends Ny{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&IF(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BV();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let c=this.applyToLocalView(u,a.mutatedFields);c=n.has(i.key)?null:c;const f=GV(u,c);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),qe())}isEqual(e){return this.batchId===e.batchId&&Yc(this.mutations,e.mutations,(n,r)=>tC(n,r))&&Yc(this.baseMutations,e.baseMutations,(n,r)=>tC(n,r))}}class tS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return _F}();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new tS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn,tt;function YV(t){switch(t){case ee.OK:return _e(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function QV(t){if(t===void 0)return Zt("GRPC error has no .code"),ee.UNKNOWN;switch(t){case cn.OK:return ee.OK;case cn.CANCELLED:return ee.CANCELLED;case cn.UNKNOWN:return ee.UNKNOWN;case cn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case cn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case cn.INTERNAL:return ee.INTERNAL;case cn.UNAVAILABLE:return ee.UNAVAILABLE;case cn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case cn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case cn.NOT_FOUND:return ee.NOT_FOUND;case cn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case cn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case cn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case cn.ABORTED:return ee.ABORTED;case cn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case cn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case cn.DATA_LOSS:return ee.DATA_LOSS;default:return _e(39323,{code:t})}}(tt=cn||(cn={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=new mo([4294967295,4294967295],0);function iC(t){const e=LA().encode(t),n=new FM;return n.update(e),new Uint8Array(n.digest())}function aC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,a],0)]}class rS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ad(`Invalid padding: ${n}`);if(r<0)throw new Ad(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ad(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ad(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=mo.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(OF)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=iC(e),[r,i]=aC(n);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,i,a);if(!this.ye(u))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new rS(a,i,n);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.fe===0)return;const n=iC(e),[r,i]=aC(n);for(let a=0;a<this.hashCount;a++){const u=this.pe(r,i,a);this.we(u)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vm(Se.min(),i,new xt(Ve),Ir(),qe())}}class jm{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jm(r,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class XV{constructor(e,n){this.targetId=e,this.De=n}}class ZV{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sC{constructor(){this.ve=0,this.Ce=oC(),this.Fe=Ht.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=qe(),n=qe(),r=qe();return this.Ce.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:a})}}),new jm(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=oC()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class RF{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ir(),this.je=Ng(),this.Je=Ng(),this.He=new xt(Ve)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const a=i.target;if(Tv(a))if(r===0){const u=new ge(a.path);this.Xe(n,u,Ot.newNoDocument(u,Se.min()))}else Te(r===1,20013,{expectedCount:r});else{const u=this.ot(n);if(u!==r){const c=this._t(e),f=c?this.ut(c,e,u):1;if(f!==0){this.rt(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,h)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let u,c;try{u=cs(r).toUint8Array()}catch(f){if(f instanceof yV)return Yr("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new rS(u,i,a)}catch(f){return Yr(f instanceof Ad?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const u=this.We.lt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,a,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((a,u)=>{const c=this.st(u);if(c){if(a.current&&Tv(c.target)){const f=new ge(c.target.path);this.Tt(f).has(u)||this.It(u,f)||this.Xe(u,f,Ot.newNoDocument(f,e))}a.Ne&&(n.set(u,a.Le()),a.ke())}});let r=qe();this.Je.forEach((a,u)=>{let c=!0;u.forEachWhile(f=>{const h=this.st(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ze.forEach((a,u)=>u.setReadTime(e));const i=new Vm(e,n,this.He,this.ze,r);return this.ze=Ir(),this.je=Ng(),this.Je=Ng(),this.He=new xt(Ve),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new sC,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new dt(Ve),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new dt(Ve),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new sC),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Ng(){return new xt(ge.comparator)}function oC(){return new xt(ge.comparator)}const CF={asc:"ASCENDING",desc:"DESCENDING"},DF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NF={and:"AND",or:"OR"};class kF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cT(t,e){return t.useProto3Json||Rm(e)?e:{value:e}}function of(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MF(t,e){return of(t,e.toTimestamp())}function Jt(t){return Te(!!t,49232),Se.fromTimestamp(function(n){const r=ls(n);return new ut(r.seconds,r.nanos)}(t))}function iS(t,e){return fT(t,e).canonicalString()}function fT(t,e){const n=function(i){return new We(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ej(t){const e=We.fromString(t);return Te(cj(e),10190,{key:e.toString()}),e}function am(t,e){return iS(t.databaseId,e.path)}function ya(t,e){const n=ej(e);if(n.get(1)!==t.databaseId.projectId)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(rj(n))}function tj(t,e){return iS(t.databaseId,e)}function nj(t){const e=ej(t);return e.length===4?We.emptyPath():rj(e)}function hT(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rj(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uC(t,e,n){return{name:am(t,e),fields:n.value.mapValue.fields}}function ij(t,e,n){const r=ya(t,e.name),i=Jt(e.updateTime),a=e.createTime?Jt(e.createTime):Se.min(),u=new Gn({mapValue:{fields:e.fields}}),c=Ot.newFoundDocument(r,i,a,u);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function VF(t,e){return"found"in e?function(r,i){Te(!!i.found,43571),i.found.name,i.found.updateTime;const a=ya(r,i.found.name),u=Jt(i.found.updateTime),c=i.found.createTime?Jt(i.found.createTime):Se.min(),f=new Gn({mapValue:{fields:i.found.fields}});return Ot.newFoundDocument(a,u,c,f)}(t,e):"missing"in e?function(r,i){Te(!!i.missing,3894),Te(!!i.readTime,22933);const a=ya(r,i.missing),u=Jt(i.readTime);return Ot.newNoDocument(a,u)}(t,e):_e(7234,{result:e})}function jF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:_e(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,m){return h.useProto3Json?(Te(m===void 0||typeof m=="string",58123),Ht.fromBase64String(m||"")):(Te(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Ht.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(h){const m=h.code===void 0?ee.UNKNOWN:QV(h.code);return new le(m,h.message||"")}(u);n=new ZV(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ya(t,r.document.name),a=Jt(r.document.updateTime),u=r.document.createTime?Jt(r.document.createTime):Se.min(),c=new Gn({mapValue:{fields:r.document.fields}}),f=Ot.newFoundDocument(i,a,u,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new uv(h,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ya(t,r.document),a=r.readTime?Jt(r.readTime):Se.min(),u=Ot.newNoDocument(i,a),c=r.removedTargetIds||[];n=new uv([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ya(t,r.document),a=r.removedTargetIds||[];n=new uv([],a,i,null)}else{if(!("filter"in e))return _e(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new PF(i,a),c=r.targetId;n=new XV(c,u)}}return n}function sm(t,e){let n;if(e instanceof Cf)n={update:uC(t,e.key,e.value)};else if(e instanceof Df)n={delete:am(t,e.key)};else if(e instanceof ys)n={update:uC(t,e.key,e.data),updateMask:FF(e.fieldMask)};else{if(!(e instanceof JA))return _e(16599,{Rt:e.type});n={verify:am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const c=u.transform;if(c instanceof af)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof tl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof nl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof sf)return{fieldPath:u.field.canonicalString(),increment:c.Ee};throw _e(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:MF(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:_e(27497)}(t,e.precondition)),n}function dT(t,e){const n=e.currentDocument?function(a){return a.updateTime!==void 0?Mt.updateTime(Jt(a.updateTime)):a.exists!==void 0?Mt.exists(a.exists):Mt.none()}(e.currentDocument):Mt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let f=null;if("setToServerValue"in c)Te(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),f=new af;else if("appendMissingElements"in c){const m=c.appendMissingElements.values||[];f=new tl(m)}else if("removeAllFromArray"in c){const m=c.removeAllFromArray.values||[];f=new nl(m)}else"increment"in c?f=new sf(u,c.increment):_e(16584,{proto:c});const h=kt.fromServerFormat(c.fieldPath);return new Mm(h,f)}(t,i)):[];if(e.update){e.update.name;const i=ya(t,e.update.name),a=new Gn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(f){const h=f.fieldPaths||[];return new Sr(h.map(m=>kt.fromServerFormat(m)))}(e.updateMask);return new ys(i,a,u,n,r)}return new Cf(i,a,n,r)}if(e.delete){const i=ya(t,e.delete);return new Df(i,n)}if(e.verify){const i=ya(t,e.verify);return new JA(i,n)}return _e(1463,{proto:e})}function LF(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(i,a){let u=i.updateTime?Jt(i.updateTime):Jt(a);return u.isEqual(Se.min())&&(u=Jt(a)),new SF(u,i.transformResults||[])}(n,e))):[]}function aj(t,e){return{documents:[tj(t,e.path)]}}function sj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tj(t,i);const a=function(h){if(h.length!==0)return lj(ht.create(h,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(h){if(h.length!==0)return h.map(m=>function(y){return{field:Nc(y.field),direction:BF(y.dir)}}(m))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const c=cT(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{Vt:n,parent:i}}function oj(t){let e=nj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(g){const y=uj(g);return y instanceof ht&&YA(y)?y.getFilters():[y]}(n.where));let u=[];n.orderBy&&(u=function(g){return g.map(y=>function(E){return new im(kc(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,Rm(y)?null:y}(n.limit));let f=null;n.startAt&&(f=function(g){const y=!!g.before,b=g.values||[];return new Po(b,y)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const y=!g.before,b=g.values||[];return new Po(b,y)}(n.endAt)),kV(e,i,u,a,c,"F",f,h)}function UF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=kc(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=kc(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=kc(n.unaryFilter.field);return Ye.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=kc(n.unaryFilter.field);return Ye.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(kc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ht.create(n.compositeFilter.filters.map(r=>uj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(t):_e(30097,{filter:t})}function BF(t){return CF[t]}function qF(t){return DF[t]}function zF(t){return NF[t]}function Nc(t){return{fieldPath:t.canonicalString()}}function kc(t){return kt.fromServerFormat(t.fieldPath)}function lj(t){return t instanceof Ye?function(n){if(n.op==="=="){if(KR(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NAN"}};if(HR(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KR(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NOT_NAN"}};if(HR(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nc(n.field),op:qF(n.op),value:n.value}}}(t):t instanceof ht?function(n){const r=n.getFilters().map(i=>lj(i));return r.length===1?r[0]:{compositeFilter:{op:zF(n.op),filters:r}}}(t):_e(54877,{filter:t})}function FF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r,i,a=Se.min(),u=Se.min(),c=Ht.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.gt=e}}function $F(t,e){let n;if(e.document)n=ij(t.gt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ge.fromSegments(e.noDocument.path),i=il(e.noDocument.readTime);n=Ot.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e(56709);{const r=ge.fromSegments(e.unknownDocument.path),i=il(e.unknownDocument.version);n=Ot.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const a=new ut(i[0],i[1]);return Se.fromTimestamp(a)}(e.readTime)),n}function lC(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Iv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(a,u){return{name:am(a,u.key),fields:u.data.value.mapValue.fields,updateTime:of(a,u.version.toTimestamp()),createTime:of(a,u.createTime.toTimestamp())}}(t.gt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:rl(e.version)};else{if(!e.isUnknownDocument())return _e(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:rl(e.version)}}return r}function Iv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function rl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function il(t){const e=new ut(t.seconds,t.nanoseconds);return Se.fromTimestamp(e)}function Nu(t,e){const n=(e.baseMutations||[]).map(a=>dT(t.gt,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const c=e.mutations[a+1];u.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map(a=>dT(t.gt,a)),i=ut.fromMillis(e.localWriteTimeMs);return new eS(e.batchId,i,n,r)}function Sd(t){const e=il(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?il(t.lastLimboFreeSnapshotVersion):Se.min();let r;return r=function(a){return a.documents!==void 0}(t.query)?function(a){const u=a.documents.length;return Te(u===1,1966,{count:u}),vr(Rf(nj(a.documents[0])))}(t.query):function(a){return vr(oj(a))}(t.query),new ts(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ht.fromBase64String(t.resumeToken))}function hj(t,e){const n=rl(e.snapshotVersion),r=rl(e.lastLimboFreeSnapshotVersion);let i;i=Tv(e.target)?aj(t.gt,e.target):sj(t.gt,e.target).Vt;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:el(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function aS(t){const e=oj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sv(e,e.limit,"L"):e}function Qb(t,e){return new nS(e.largestBatchId,dT(t.gt,e.overlayMutation))}function cC(t,e){const n=e.path.lastSegment();return[t,sr(e.path.popLast()),n]}function fC(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:rl(r.readTime),documentKey:sr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{getBundleMetadata(e,n){return hC(e).get(n).next(r=>{if(r)return function(a){return{id:a.bundleId,createTime:il(a.createTime),version:a.version}}(r)})}saveBundleMetadata(e,n){return hC(e).put(function(i){return{bundleId:i.id,createTime:rl(Jt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return dC(e).get(n).next(r=>{if(r)return function(a){return{name:a.name,query:aS(a.bundledQuery),readTime:il(a.readTime)}}(r)})}saveNamedQuery(e,n){return dC(e).put(function(i){return{name:i.name,readTime:rl(Jt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function hC(t){return An(t,Iy)}function dC(t){return An(t,xy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.serializer=e,this.userId=n}static yt(e,n){const r=n.uid||"";return new ky(e,r)}getOverlay(e,n){return id(e).get(cC(this.userId,n)).next(r=>r?Qb(this.serializer,r):null)}getOverlays(e,n){const r=ma();return Y.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((a,u)=>{const c=new nS(n,u);i.push(this.wt(e,c))}),Y.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(u=>i.add(sr(u.getCollectionPath())));const a=[];return i.forEach(u=>{const c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(id(e).Y(tT,c))}),Y.waitFor(a)}getOverlaysForCollection(e,n,r){const i=ma(),a=sr(n),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return id(e).j(tT,u).next(c=>{for(const f of c){const h=Qb(this.serializer,f);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const a=ma();let u;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return id(e).X({index:hV,range:c},(f,h,m)=>{const g=Qb(this.serializer,h);a.size()<i||g.largestBatchId===u?(a.set(g.getKey(),g),u=g.largestBatchId):m.done()}).next(()=>a)}wt(e,n){return id(e).put(function(i,a,u){const[c,f,h]=cC(a,u.mutation.key);return{userId:a,collectionPath:f,documentId:h,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:sm(i.gt,u.mutation)}}(this.serializer,this.userId,n))}}function id(t){return An(t,Py)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{St(e){return An(e,HA)}getSessionToken(e){return this.St(e).get("sessionToken").next(n=>{const r=n?.value;return r?Ht.fromUint8Array(r):Ht.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Dt(e.integerValue));else if("doubleValue"in e){const r=Dt(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Xd(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=ls(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(cs(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?AV(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):Cy(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):_e(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){const r=e.fields||{};this.Ct(n,55);for(const i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;const a=e.fields||{};this.Ct(n,53);const u=tf,c=((i=(r=a[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Dt(c)),this.xt(u,n),this.Dt(a[u],n)}qt(e,n){const r=e.values||[];this.Ct(n,50);for(const i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),ge.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}}ku.Ut=new ku;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=255;function GF(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function mC(t){const e=64-function(r){let i=0;for(let a=0;a<8;++a){const u=GF(255&r[a]);if(i+=u,u!==8)break}return i}(t);return Math.ceil(e/8)}class WF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Kt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Wt(r.value),r=n.next();this.Gt()}zt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.jt(r.value),r=n.next();this.Jt()}Ht(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Wt(r);else if(r<2048)this.Wt(960|r>>>6),this.Wt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Wt(480|r>>>12),this.Wt(128|63&r>>>6),this.Wt(128|63&r);else{const i=n.codePointAt(0);this.Wt(240|i>>>18),this.Wt(128|63&i>>>12),this.Wt(128|63&i>>>6),this.Wt(128|63&i)}}this.Gt()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.jt(r);else if(r<2048)this.jt(960|r>>>6),this.jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.jt(480|r>>>12),this.jt(128|63&r>>>6),this.jt(128|63&r);else{const i=n.codePointAt(0);this.jt(240|i>>>18),this.jt(128|63&i>>>12),this.jt(128|63&i>>>6),this.jt(128|63&i)}}this.Jt()}Zt(e){const n=this.Xt(e),r=mC(n);this.en(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}tn(e){const n=this.Xt(e),r=mC(n);this.en(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}nn(){this.rn(Ec),this.rn(255)}sn(){this._n(Ec),this._n(255)}reset(){this.position=0}seed(e){this.en(e.length),this.buffer.set(e,this.position),this.position+=e.length}an(){return this.buffer.slice(0,this.position)}Xt(e){const n=function(a){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,a,!1),new Uint8Array(u.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Wt(e){const n=255&e;n===0?(this.rn(0),this.rn(255)):n===Ec?(this.rn(Ec),this.rn(0)):this.rn(n)}jt(e){const n=255&e;n===0?(this._n(0),this._n(255)):n===Ec?(this._n(Ec),this._n(0)):this._n(e)}Gt(){this.rn(0),this.rn(1)}Jt(){this._n(0),this._n(1)}rn(e){this.en(1),this.buffer[this.position++]=e}_n(e){this.en(1),this.buffer[this.position++]=~e}en(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class YF{constructor(e){this.un=e}Nt(e){this.un.Kt(e)}Mt(e){this.un.Ht(e)}Ft(e){this.un.Zt(e)}vt(){this.un.nn()}}class QF{constructor(e){this.un=e}Nt(e){this.un.zt(e)}Mt(e){this.un.Yt(e)}Ft(e){this.un.tn(e)}vt(){this.un.sn()}}class ad{constructor(){this.un=new WF,this.cn=new YF(this.un),this.ln=new QF(this.un)}seed(e){this.un.seed(e)}hn(e){return e===0?this.cn:this.ln}an(){return this.un.an()}reset(){this.un.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r,i){this.Pn=e,this.Tn=n,this.In=r,this.dn=i}En(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Mu(this.Pn,this.Tn,this.In,r)}An(e,n,r){return{indexId:this.Pn,uid:e,arrayValue:lv(this.In),directionalValue:lv(this.dn),orderedDocumentKey:lv(n),documentKey:r.path.toArray()}}Rn(e,n,r){const i=this.An(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Js(t,e){let n=t.Pn-e.Pn;return n!==0?n:(n=pC(t.In,e.In),n!==0?n:(n=pC(t.dn,e.dn),n!==0?n:ge.comparator(t.Tn,e.Tn)))}function pC(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function lv(t){return PM()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function gC(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class vC{constructor(e){this.Vn=new dt((n,r)=>kt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.mn=e.orderBy,this.fn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.fn.push(r)}}get gn(){return this.Vn.size>1}pn(e){if(Te(e.collectionGroup===this.collectionId,49279),this.gn)return!1;const n=ZE(e);if(n!==void 0&&!this.yn(n))return!1;const r=xu(e);let i=new Set,a=0,u=0;for(;a<r.length&&this.yn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.Vn.size>0){const c=this.Vn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const f=r[a];if(!this.wn(c,f)||!this.Sn(this.mn[u++],f))return!1}++a}for(;a<r.length;++a){const c=r[a];if(u>=this.mn.length||!this.Sn(this.mn[u++],c))return!1}return!0}bn(){if(this.gn)return null;let e=new dt(kt.comparator);const n=[];for(const r of this.fn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new tv(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new tv(r.field,0))}for(const r of this.mn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new tv(r.field,r.dir==="asc"?0:1)));return new _v(_v.UNKNOWN_ID,this.collectionId,n,Qd.empty())}yn(e){for(const n of this.fn)if(this.wn(n,e))return!0;return!1}wn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){var e,n;if(Te(t instanceof Ye||t instanceof ht,20012),t instanceof Ye){if(t instanceof NV){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(a=>Ye.create(t.field,"==",a)))||[];return ht.create(i,"or")}return t}const r=t.filters.map(i=>dj(i));return ht.create(r,t.op)}function XF(t){if(t.getFilters().length===0)return[];const e=gT(dj(t));return Te(mj(e),7391),mT(e)||pT(e)?[e]:e.getFilters()}function mT(t){return t instanceof Ye}function pT(t){return t instanceof ht&&YA(t)}function mj(t){return mT(t)||pT(t)||function(n){if(n instanceof ht&&sT(n)){for(const r of n.getFilters())if(!mT(r)&&!pT(r))return!1;return!0}return!1}(t)}function gT(t){if(Te(t instanceof Ye||t instanceof ht,34018),t instanceof Ye)return t;if(t.filters.length===1)return gT(t.filters[0]);const e=t.filters.map(r=>gT(r));let n=ht.create(e,t.op);return n=xv(n),mj(n)?n:(Te(n instanceof ht,64498),Te(rf(n),40251),Te(n.filters.length>1,57927),n.filters.reduce((r,i)=>sS(r,i)))}function sS(t,e){let n;return Te(t instanceof Ye||t instanceof ht,38388),Te(e instanceof Ye||e instanceof ht,25473),n=t instanceof Ye?e instanceof Ye?function(i,a){return ht.create([i,a],"and")}(t,e):yC(t,e):e instanceof Ye?yC(e,t):function(i,a){if(Te(i.filters.length>0&&a.filters.length>0,48005),rf(i)&&rf(a))return RV(i,a.getFilters());const u=sT(i)?i:a,c=sT(i)?a:i,f=u.filters.map(h=>sS(h,c));return ht.create(f,"or")}(t,e),xv(n)}function yC(t,e){if(rf(e))return RV(e,t.getFilters());{const n=e.filters.map(r=>sS(t,r));return ht.create(n,"or")}}function xv(t){if(Te(t instanceof Ye||t instanceof ht,11850),t instanceof Ye)return t;const e=t.getFilters();if(e.length===1)return xv(e[0]);if(PV(t))return t;const n=e.map(i=>xv(i)),r=[];return n.forEach(i=>{i instanceof Ye?r.push(i):i instanceof ht&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ht.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(){this.Dn=new oS}addToCollectionParentIndex(e,n){return this.Dn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Qr.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class oS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(We.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="IndexedDbIndexManager",kg=new Uint8Array(0);class JF{constructor(e,n){this.databaseId=n,this.vn=new oS,this.Cn=new vs(r=>el(r),(r,i)=>Dm(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const a={collectionId:r,parent:sr(i)};return bC(e).put(a)}return Y.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[XM(n),""],!1,!0);return bC(e).j(i).next(a=>{for(const u of a){if(u.collectionId!==n)break;r.push(da(u.parent))}return r})}addFieldIndex(e,n){const r=sd(e),i=function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])}}(n);delete i.indexId;const a=r.add(i);if(n.indexState){const u=Ac(e);return a.next(c=>{u.put(fC(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const r=sd(e),i=Ac(e),a=Tc(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=sd(e),r=Tc(e),i=Ac(e);return n.Y().next(()=>r.Y()).next(()=>i.Y())}createTargetIndexes(e,n){return Y.forEach(this.Fn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const a=new vC(r).bn();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,n){const r=Tc(e);let i=!0;const a=new Map;return Y.forEach(this.Fn(n),u=>this.Mn(e,u).next(c=>{i&&(i=!!c),a.set(u,c)})).next(()=>{if(i){let u=qe();const c=[];return Y.forEach(a,(f,h)=>{fe(_C,`Using index ${function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(U=>`${U.fieldPath}:${U.kind}`).join(",")}`}(f)} to execute ${el(n)}`);const m=function(P,U){const L=ZE(U);if(L===void 0)return null;for(const $ of Av(P,L.fieldPath))switch($.op){case"array-contains-any":return $.value.arrayValue.values||[];case"array-contains":return[$.value]}return null}(h,f),g=function(P,U){const L=new Map;for(const $ of xu(U))for(const C of Av(P,$.fieldPath))switch(C.op){case"==":case"in":L.set($.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return L.set($.fieldPath.canonicalString(),C.value),Array.from(L.values())}return null}(h,f),y=function(P,U){const L=[];let $=!0;for(const C of xu(U)){const D=C.kind===0?XR(P,C.fieldPath,P.startAt):ZR(P,C.fieldPath,P.startAt);L.push(D.value),$&&($=D.inclusive)}return new Po(L,$)}(h,f),b=function(P,U){const L=[];let $=!0;for(const C of xu(U)){const D=C.kind===0?ZR(P,C.fieldPath,P.endAt):XR(P,C.fieldPath,P.endAt);L.push(D.value),$&&($=D.inclusive)}return new Po(L,$)}(h,f),E=this.xn(f,h,y),T=this.xn(f,h,b),A=this.On(f,h,g),x=this.Nn(f.indexId,m,E,y.inclusive,T,b.inclusive,A);return Y.forEach(x,R=>r.H(R,n.limit).next(P=>{P.forEach(U=>{const L=ge.fromSegments(U.documentKey);u.has(L)||(u=u.add(L),c.push(L))})}))}).next(()=>c)}return Y.resolve(null)})}Fn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=XF(ht.create(e.filters,"and")).map(r=>uT(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,n),n)}Nn(e,n,r,i,a,u,c){const f=(n!=null?n.length:1)*Math.max(r.length,a.length),h=f/(n!=null?n.length:1),m=[];for(let g=0;g<f;++g){const y=n?this.Bn(n[g/h]):kg,b=this.Ln(e,y,r[g%h],i),E=this.kn(e,y,a[g%h],u),T=c.map(A=>this.Ln(e,y,A,!0));m.push(...this.createRange(b,E,T))}return m}Ln(e,n,r,i){const a=new Mu(e,ge.empty(),n,r);return i?a:a.En()}kn(e,n,r,i){const a=new Mu(e,ge.empty(),n,r);return i?a.En():a}Mn(e,n){const r=new vC(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const c of a)r.pn(c)&&(!u||c.fields.length>u.fields.length)&&(u=c);return u})}getIndexType(e,n){let r=2;const i=this.Fn(n);return Y.forEach(i,a=>this.Mn(e,a).next(u=>{u?r!==0&&u.fields.length<function(f){let h=new dt(kt.comparator),m=!1;for(const g of f.filters)for(const y of g.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?m=!0:h=h.add(y.field));for(const g of f.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(m?1:0)}(a)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(n)&&i.length>1&&r===2?1:r)}qn(e,n){const r=new ad;for(const i of xu(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const u=r.hn(i.kind);ku.Ut.bt(a,u)}return r.an()}Bn(e){const n=new ad;return ku.Ut.bt(e,n.hn(0)),n.an()}Qn(e,n){const r=new ad;return ku.Ut.bt(Ju(this.databaseId,n),r.hn(function(a){const u=xu(a);return u.length===0?0:u[u.length-1].kind}(e))),r.an()}On(e,n,r){if(r===null)return[];let i=[];i.push(new ad);let a=0;for(const u of xu(e)){const c=r[a++];for(const f of i)if(this.$n(n,u.fieldPath)&&rm(c))i=this.Un(i,u,c);else{const h=f.hn(u.kind);ku.Ut.bt(c,h)}}return this.Kn(i)}xn(e,n,r){return this.On(e,n,r.position)}Kn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].an();return n}Un(e,n,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const c of i){const f=new ad;f.seed(c.an()),ku.Ut.bt(u,f.hn(n.kind)),a.push(f)}return a}$n(e,n){return!!e.filters.find(r=>r instanceof Ye&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=sd(e),i=Ac(e);return(n?r.j(eT,IDBKeyRange.bound(n,n)):r.j()).next(a=>{const u=[];return Y.forEach(a,c=>i.get([c.indexId,this.uid]).next(f=>{u.push(function(m,g){const y=g?new Qd(g.sequenceNumber,new Qr(il(g.readTime),new ge(da(g.documentKey)),g.largestBatchId)):Qd.empty(),b=m.fields.map(([E,T])=>new tv(kt.fromServerFormat(E),T));return new _v(m.indexId,m.collectionGroup,b,y)}(c,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Ve(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=sd(e),a=Ac(e);return this.Wn(e).next(u=>i.j(eT,IDBKeyRange.bound(n,n)).next(c=>Y.forEach(c,f=>a.put(fC(f.indexId,this.uid,u,r)))))}updateIndexEntries(e,n){const r=new Map;return Y.forEach(n,(i,a)=>{const u=r.get(i.collectionGroup);return(u?Y.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(c=>(r.set(i.collectionGroup,c),Y.forEach(c,f=>this.Gn(e,i,f).next(h=>{const m=this.zn(a,f);return h.isEqual(m)?Y.resolve():this.jn(e,a,f,h,m)}))))})}Jn(e,n,r,i){return Tc(e).put(i.An(this.uid,this.Qn(r,n.key),n.key))}Hn(e,n,r,i){return Tc(e).delete(i.Rn(this.uid,this.Qn(r,n.key),n.key))}Gn(e,n,r){const i=Tc(e);let a=new dt(Js);return i.X({index:fV,range:IDBKeyRange.only([r.indexId,this.uid,lv(this.Qn(r,n))])},(u,c)=>{a=a.add(new Mu(r.indexId,n,gC(c.arrayValue),gC(c.directionalValue)))}).next(()=>a)}zn(e,n){let r=new dt(Js);const i=this.qn(n,e);if(i==null)return r;const a=ZE(n);if(a!=null){const u=e.data.field(a.fieldPath);if(rm(u))for(const c of u.arrayValue.values||[])r=r.add(new Mu(n.indexId,e.key,this.Bn(c),i))}else r=r.add(new Mu(n.indexId,e.key,kg,i));return r}jn(e,n,r,i,a){fe(_C,"Updating index entries for document '%s'",n.key);const u=[];return function(f,h,m,g,y){const b=f.getIterator(),E=h.getIterator();let T=wc(b),A=wc(E);for(;T||A;){let x=!1,R=!1;if(T&&A){const P=m(T,A);P<0?R=!0:P>0&&(x=!0)}else T!=null?R=!0:x=!0;x?(g(A),A=wc(E)):R?(y(T),T=wc(b)):(T=wc(b),A=wc(E))}}(i,a,Js,c=>{u.push(this.Jn(e,n,r,c))},c=>{u.push(this.Hn(e,n,r,c))}),Y.waitFor(u)}Wn(e){let n=1;return Ac(e).X({index:cV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((u,c)=>Js(u,c)).filter((u,c,f)=>!c||Js(u,f[c-1])!==0);const i=[];i.push(e);for(const u of r){const c=Js(u,e),f=Js(u,n);if(c===0)i[0]=e.En();else if(c>0&&f<0)i.push(u),i.push(u.En());else if(f>0)break}i.push(n);const a=[];for(let u=0;u<i.length;u+=2){if(this.Yn(i[u],i[u+1]))return[];const c=i[u].Rn(this.uid,kg,ge.empty()),f=i[u+1].Rn(this.uid,kg,ge.empty());a.push(IDBKeyRange.bound(c,f))}return a}Yn(e,n){return Js(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(wC)}getMinOffset(e,n){return Y.mapArray(this.Fn(n),r=>this.Mn(e,r).next(i=>i||_e(44426))).next(wC)}}function bC(t){return An(t,em)}function Tc(t){return An(t,kd)}function sd(t){return An(t,$A)}function Ac(t){return An(t,Nd)}function wC(t){Te(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;qA(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Qr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pj=41943040;class rr{static withCacheSize(e){return new rr(e,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t,e,n){const r=t.store(ki),i=t.store(Xc),a=[],u=IDBKeyRange.only(n.batchId);let c=0;const f=r.X({range:u},(m,g,y)=>(c++,y.delete()));a.push(f.next(()=>{Te(c===1,47070,{batchId:n.batchId})}));const h=[];for(const m of n.mutations){const g=oV(e,m.key.path,n.batchId);a.push(i.delete(g)),h.push(m.key)}return Y.waitFor(a).next(()=>h)}function Pv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _e(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.DEFAULT_COLLECTION_PERCENTILE=10,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rr.DEFAULT=new rr(pj,rr.DEFAULT_COLLECTION_PERCENTILE,rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rr.DISABLED=new rr(-1,0,0);class My{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static yt(e,n,r,i){Te(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new My(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return eo(e).X({index:ju,range:r},(i,a,u)=>{n=!1,u.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const a=Mc(e),u=eo(e);return u.add({}).next(c=>{Te(typeof c=="number",49019);const f=new eS(c,n,r,i),h=function(b,E,T){const A=T.baseMutations.map(R=>sm(b.gt,R)),x=T.mutations.map(R=>sm(b.gt,R));return{userId:E,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:A,mutations:x}}(this.serializer,this.userId,f),m=[];let g=new dt((y,b)=>Ve(y.canonicalString(),b.canonicalString()));for(const y of i){const b=oV(this.userId,y.key.path,c);g=g.add(y.key.path.popLast()),m.push(u.put(h)),m.push(a.put(b,Nz))}return g.forEach(y=>{m.push(this.indexManager.addToCollectionParentIndex(e,y))}),e.addOnCommittedListener(()=>{this.Zn[c]=f.keys()}),Y.waitFor(m).next(()=>f)})}lookupMutationBatch(e,n){return eo(e).get(n).next(r=>r?(Te(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Nu(this.serializer,r)):null)}Xn(e,n){return this.Zn[n]?Y.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return eo(e).X({index:ju,range:i},(u,c,f)=>{c.userId===this.userId&&(Te(c.batchId>=r,47524,{er:r}),a=Nu(this.serializer,c)),f.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=po;return eo(e).X({index:ju,range:n,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,po],[this.userId,Number.POSITIVE_INFINITY]);return eo(e).j(ju,n).next(r=>r.map(i=>Nu(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=nv(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return Mc(e).X({range:i},(u,c,f)=>{const[h,m,g]=u,y=da(m);if(h===this.userId&&n.path.isEqual(y))return eo(e).get(g).next(b=>{if(!b)throw _e(61480,{tr:u,batchId:g});Te(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:g}),a.push(Nu(this.serializer,b))});f.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(Ve);const i=[];return n.forEach(a=>{const u=nv(this.userId,a.path),c=IDBKeyRange.lowerBound(u),f=Mc(e).X({range:c},(h,m,g)=>{const[y,b,E]=h,T=da(b);y===this.userId&&a.path.isEqual(T)?r=r.add(E):g.done()});i.push(f)}),Y.waitFor(i).next(()=>this.nr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=nv(this.userId,r),u=IDBKeyRange.lowerBound(a);let c=new dt(Ve);return Mc(e).X({range:u},(f,h,m)=>{const[g,y,b]=f,E=da(y);g===this.userId&&r.isPrefixOf(E)?E.length===i&&(c=c.add(b)):m.done()}).next(()=>this.nr(e,c))}nr(e,n){const r=[],i=[];return n.forEach(a=>{i.push(eo(e).get(a).next(u=>{if(u===null)throw _e(35274,{batchId:a});Te(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:a}),r.push(Nu(this.serializer,u))}))}),Y.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return gj(e.ce,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.rr(n.batchId)}),Y.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}rr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Y.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return Mc(e).X({range:r},(a,u,c)=>{if(a[0]===this.userId){const f=da(a[1]);i.push(f)}else c.done()}).next(()=>{Te(i.length===0,56720,{ir:i.map(a=>a.canonicalString())})})})}containsKey(e,n){return vj(e,this.userId,n)}sr(e){return yj(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:po,lastStreamToken:""})}}function vj(t,e,n){const r=nv(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return Mc(t).X({range:a,Z:!0},(c,f,h)=>{const[m,g,y]=c;m===e&&g===i&&(u=!0),h.done()}).next(()=>u)}function eo(t){return An(t,ki)}function Mc(t){return An(t,Xc)}function yj(t){return An(t,Zd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new al(0)}static ur(){return new al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.cr(e).next(n=>{const r=new al(n.highestTargetId);return n.highestTargetId=r.next(),this.lr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.cr(e).next(n=>Se.fromTimestamp(new ut(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.cr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.cr(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.lr(e,i)))}addTargetData(e,n){return this.hr(e,n).next(()=>this.cr(e).next(r=>(r.targetCount+=1,this.Pr(n,r),this.lr(e,r))))}updateTargetData(e,n){return this.hr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Sc(e).delete(n.targetId)).next(()=>this.cr(e)).next(r=>(Te(r.targetCount>0,8065),r.targetCount-=1,this.lr(e,r)))}removeTargets(e,n,r){let i=0;const a=[];return Sc(e).X((u,c)=>{const f=Sd(c);f.sequenceNumber<=n&&r.get(f.targetId)===null&&(i++,a.push(this.removeTargetData(e,f)))}).next(()=>Y.waitFor(a)).next(()=>i)}forEachTarget(e,n){return Sc(e).X((r,i)=>{const a=Sd(i);n(a)})}cr(e){return TC(e).get(Ev).next(n=>(Te(n!==null,2888),n))}lr(e,n){return TC(e).put(Ev,n)}hr(e,n){return Sc(e).put(hj(this.serializer,n))}Pr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.cr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=el(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Sc(e).X({range:i,index:lV},(u,c,f)=>{const h=Sd(c);Dm(n,h.target)&&(a=h,f.done())}).next(()=>a)}addMatchingKeys(e,n,r){const i=[],a=oo(e);return n.forEach(u=>{const c=sr(u.path);i.push(a.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,u))}),Y.waitFor(i)}removeMatchingKeys(e,n,r){const i=oo(e);return Y.forEach(n,a=>{const u=sr(a.path);return Y.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,n){const r=oo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=oo(e);let a=qe();return i.X({range:r,Z:!0},(u,c,f)=>{const h=da(u[1]),m=new ge(h);a=a.add(m)}).next(()=>a)}containsKey(e,n){const r=sr(n.path),i=IDBKeyRange.bound([r],[XM(r)],!1,!0);let a=0;return oo(e).X({index:FA,Z:!0,range:i},([u,c],f,h)=>{u!==0&&(a++,h.done())}).next(()=>a>0)}Et(e,n){return Sc(e).get(n).next(r=>r?Sd(r):null)}}function Sc(t){return An(t,Zc)}function TC(t){return An(t,Hu)}function oo(t){return An(t,Jc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="LruGarbageCollector",t8=1048576;function SC([t,e],[n,r]){const i=Ve(t,n);return i===0?Ve(e,r):i}class n8{constructor(e){this.Tr=e,this.buffer=new dt(SC),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();SC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _j{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(AC,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?fe(AC,"Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Rr(3e5)})}}class r8{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(Ar.ue);const r=new n8(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(EC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EC):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,a,u,c,f,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,u=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,n))).next(g=>(a=g,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Cc()<=Ge.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${i} in `+(c-u)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${g} documents in `+(h-f)+`ms
Total Duration: ${h-m}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function bj(t,e){return new r8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e,n){this.db=e,this.garbageCollector=bj(this,n)}mr(e){const n=this.yr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}gr(e,n){return this.wr(e,(r,i)=>n(i))}addReference(e,n,r){return Mg(e,r)}removeReference(e,n,r){return Mg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Mg(e,n)}Sr(e,n){return function(i,a){let u=!1;return yj(i).ee(c=>vj(i,c,a).next(f=>(f&&(u=!0),Y.resolve(!f)))).next(()=>u)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.wr(e,(u,c)=>{if(c<=n){const f=this.Sr(e,u).next(h=>{if(!h)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Se.min()),oo(e).delete(function(g){return[0,sr(g.path)]}(u))))});i.push(f)}}).next(()=>Y.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Mg(e,n)}wr(e,n){const r=oo(e);let i,a=Ar.ue;return r.X({index:FA},([u,c],{path:f,sequenceNumber:h})=>{u===0?(a!==Ar.ue&&n(new ge(da(i)),a),a=h,i=f):a=Ar.ue}).next(()=>{a!==Ar.ue&&n(new ge(da(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mg(t,e){return oo(t).put(function(r,i){return{targetId:0,path:sr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.changes=new vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Su(e).put(r)}removeEntry(e,n,r){return Su(e).delete(function(a,u){const c=a.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Iv(u),c[c.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.br(e,r)))}getEntry(e,n){let r=Ot.newInvalidDocument(n);return Su(e).X({index:rv,range:IDBKeyRange.only(od(n))},(i,a)=>{r=this.Dr(n,a)}).next(()=>r)}vr(e,n){let r={size:0,document:Ot.newInvalidDocument(n)};return Su(e).X({index:rv,range:IDBKeyRange.only(od(n))},(i,a)=>{r={document:this.Dr(n,a),size:Pv(a)}}).next(()=>r)}getEntries(e,n){let r=Ir();return this.Cr(e,n,(i,a)=>{const u=this.Dr(i,a);r=r.insert(i,u)}).next(()=>r)}Fr(e,n){let r=Ir(),i=new xt(ge.comparator);return this.Cr(e,n,(a,u)=>{const c=this.Dr(a,u);r=r.insert(a,c),i=i.insert(a,Pv(u))}).next(()=>({documents:r,Mr:i}))}Cr(e,n,r){if(n.isEmpty())return Y.resolve();let i=new dt(PC);n.forEach(f=>i=i.add(f));const a=IDBKeyRange.bound(od(i.first()),od(i.last())),u=i.getIterator();let c=u.getNext();return Su(e).X({index:rv,range:a},(f,h,m)=>{const g=ge.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;c&&PC(c,g)<0;)r(c,null),c=u.getNext();c&&c.isEqual(g)&&(r(c,h),c=u.hasNext()?u.getNext():null),c?m.G(od(c)):m.done()}).next(()=>{for(;c;)r(c,null),c=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,a){const u=n.path,c=[u.popLast().toArray(),u.lastSegment(),Iv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Su(e).j(IDBKeyRange.bound(c,f,!0)).next(h=>{a?.incrementDocumentReadCount(h.length);let m=Ir();for(const g of h){const y=this.Dr(ge.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);y.isFoundDocument()&&(km(n,y)||i.has(y.key))&&(m=m.insert(y.key,y))}return m})}getAllFromCollectionGroup(e,n,r,i){let a=Ir();const u=xC(n,r),c=xC(n,Qr.max());return Su(e).X({index:uV,range:IDBKeyRange.bound(u,c,!0)},(f,h,m)=>{const g=this.Dr(ge.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);a=a.insert(g.key,g),a.size===i&&m.done()}).next(()=>a)}newChangeBuffer(e){return new s8(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return IC(e).get(JE).next(n=>(Te(!!n,20021),n))}br(e,n){return IC(e).put(JE,n)}Dr(e,n){if(n){const r=$F(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Se.min())))return r}return Ot.newInvalidDocument(e)}}function Ej(t){return new a8(t)}class s8 extends wj{constructor(e,n){super(),this.Or=e,this.trackRemovals=n,this.Nr=new vs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new dt((a,u)=>Ve(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const c=this.Nr.get(a);if(n.push(this.Or.removeEntry(e,a,c.readTime)),u.isValidDocument()){const f=lC(this.Or.serializer,u);i=i.add(a.path.popLast());const h=Pv(f);r+=h-c.size,n.push(this.Or.addEntry(e,a,f))}else if(r-=c.size,this.trackRemovals){const f=lC(this.Or.serializer,u.convertToNoDocument(Se.min()));n.push(this.Or.addEntry(e,a,f))}}),i.forEach(a=>{n.push(this.Or.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.Or.updateMetadata(e,r)),Y.waitFor(n)}getFromCache(e,n){return this.Or.vr(e,n).next(r=>(this.Nr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Or.Fr(e,n).next(({documents:r,Mr:i})=>(i.forEach((a,u)=>{this.Nr.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function IC(t){return An(t,Jd)}function Su(t){return An(t,wv)}function od(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xC(t,e){const n=e.documentKey.path.toArray();return[t,Iv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function PC(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ve(n[a],r[a]),i)return i;return i=Ve(n.length,r.length),i||(i=Ve(n[n.length-2],r[r.length-2]),i||Ve(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&jd(r.mutation,i,Sr.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=qe()){const i=ma();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let u=Td();return a.forEach((c,f)=>{u=u.insert(c,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=ma();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,c)=>{n.set(u,c)})})}computeViews(e,n,r,i){let a=Ir();const u=Vd(),c=function(){return Vd()}();return n.forEach((f,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof ys)?a=a.insert(h.key,h):m!==void 0?(u.set(h.key,m.mutation.getFieldMask()),jd(m.mutation,h,m.mutation.getFieldMask(),ut.now())):u.set(h.key,Sr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((h,m)=>u.set(h,m)),n.forEach((h,m)=>{var g;return c.set(h,new o8(m,(g=u.get(h))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Vd();let i=new xt((u,c)=>u-c),a=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const c of u)c.keys().forEach(f=>{const h=n.get(f);if(h===null)return;let m=r.get(f)||Sr.empty();m=c.applyToLocalView(h,m),r.set(f,m);const g=(i.get(c.batchId)||qe()).add(f);i=i.insert(c.batchId,g)})}).next(()=>{const u=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,m=f.value,g=BV();m.forEach(y=>{if(!a.has(y)){const b=GV(n.get(y),r.get(y));b!==null&&g.set(y,b),a=a.add(y)}}),u.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Y.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(u){return ge.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Y.resolve(ma());let c=Qc,f=a;return u.next(h=>Y.forEach(h,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(m)?Y.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{f=f.insert(m,y)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,f,h,qe())).next(m=>({batchId:c,changes:UV(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=Td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let u=Td();return this.indexManager.getCollectionParents(e,a).next(c=>Y.forEach(c,f=>{const h=function(g,y){return new gs(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((g,y)=>{u=u.insert(g,y)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(u=>{a.forEach((f,h)=>{const m=h.getKey();u.get(m)===null&&(u=u.insert(m,Ot.newInvalidDocument(m)))});let c=Td();return u.forEach((f,h)=>{const m=a.get(f);m!==void 0&&jd(m.mutation,h,Sr.empty(),ut.now()),km(n,h)&&(c=c.insert(f,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jt(i.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:aS(i.bundledQuery),readTime:Jt(i.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(){this.overlays=new xt(ge.comparator),this.kr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ma();return Y.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.wt(e,n,a)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const i=ma(),a=n.length+1,u=new ge(n.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new xt((h,m)=>h-m);const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=ma(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=ma(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,m)=>c.set(h,m)),!(c.size()>=i)););return Y.resolve(c)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new nS(n,r));let a=this.kr.get(n);a===void 0&&(a=qe(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.qr=new dt(Dn.Qr),this.$r=new dt(Dn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Dn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Dn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ge(new We([])),r=new Dn(n,e),i=new Dn(n,e+1),a=[];return this.$r.forEachInRange([r,i],u=>{this.Wr(u),a.push(u.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ge(new We([])),r=new Dn(n,e),i=new Dn(n,e+1);let a=qe();return this.$r.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new Dn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ge.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new dt(Dn.Qr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new eS(a,n,r,i);this.mutationQueue.push(u);for(const c of i)this.Yr=this.Yr.add(new Dn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,n){return Y.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?po:this.er-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dn(n,0),i=new Dn(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],u=>{const c=this.Zr(u.Hr);a.push(c)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(Ve);return n.forEach(i=>{const a=new Dn(i,0),u=new Dn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,u],c=>{r=r.add(c.Hr)})}),Y.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ge.isDocumentKey(a)||(a=a.child(""));const u=new Dn(new ge(a),0);let c=new dt(Ve);return this.Yr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Hr)),!0)},u),Y.resolve(this.ei(c))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Y.forEach(n.mutations,i=>{const a=new Dn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Dn(n,0),i=this.Yr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.ni=e,this.docs=function(){return new xt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,u=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=Ir();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ot.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ir();const u=n.path,c=new ge(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:m}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||qA(nV(m),r)<=0||(i.has(m.key)||km(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}ri(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new d8(this)}getSize(e){return Y.resolve(this.size)}}class d8 extends wj{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){this.persistence=e,this.ii=new vs(n=>el(n),Dm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.si=0,this.oi=new uS,this.targetCount=0,this._i=al.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Y.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new al(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.hr(n),Y.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ii.forEach((u,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(u),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Y.waitFor(a).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.ai={},this.overlays={},this.ui=new Ar(0),this.ci=!1,this.ci=!0,this.li=new c8,this.referenceDelegate=e(this),this.hi=new m8(this),this.indexManager=new ZF,this.remoteDocumentCache=function(i){return new h8(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new fj(n),this.Ti=new u8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new l8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new f8(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new p8(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return Y.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class p8 extends iV{constructor(e){super(),this.currentSequenceNumber=e}}class Vy{constructor(e){this.persistence=e,this.Ai=new uS,this.Ri=null}static Vi(e){return new Vy(e)}get mi(){if(this.Ri)return this.Ri;throw _e(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,r=>{const i=ge.fromPath(r);return this.fi(e,i).next(a=>{a||n.removeEntry(i,Se.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Y.or([()=>Y.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ov{constructor(e,n){this.persistence=e,this.gi=new vs(r=>sr(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=bj(this,n)}static Vi(e,n){return new Ov(e,n)}Ii(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Y.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(a=>a?Y.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,u=>this.Sr(e,u,n).next(c=>{c||(r++,a.removeEntry(u,Se.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Y.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=av(e.data.value)),n}Sr(e,n,r){return Y.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Y.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.serializer=e}q(e,n,r,i){const a=new Sy("createOrUpgrade",n);r<1&&i>=1&&(function(f){f.createObjectStore(Cm)}(e),function(f){f.createObjectStore(Zd,{keyPath:Dz}),f.createObjectStore(ki,{keyPath:UR,autoIncrement:!0}).createIndex(ju,BR,{unique:!0}),f.createObjectStore(Xc)}(e),OC(e),function(f){f.createObjectStore(Pu)}(e));let u=Y.resolve();return r<3&&i>=3&&(r!==0&&(function(f){f.deleteObjectStore(Jc),f.deleteObjectStore(Zc),f.deleteObjectStore(Hu)}(e),OC(e)),u=u.next(()=>function(f){const h=f.store(Hu),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Se.min().toTimestamp(),targetCount:0};return h.put(Ev,m)}(a))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(f,h){return h.store(ki).j().next(g=>{f.deleteObjectStore(ki),f.createObjectStore(ki,{keyPath:UR,autoIncrement:!0}).createIndex(ju,BR,{unique:!0});const y=h.store(ki),b=g.map(E=>y.put(E));return Y.waitFor(b)})}(e,a))),u=u.next(()=>{(function(f){f.createObjectStore(ef,{keyPath:qz})})(e)})),r<5&&i>=5&&(u=u.next(()=>this.pi(a))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore(Jd)}(e),this.yi(a)))),r<7&&i>=7&&(u=u.next(()=>this.wi(a))),r<8&&i>=8&&(u=u.next(()=>this.Si(e,a))),r<9&&i>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.bi(a))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(Iy,{keyPath:zz})})(e),function(f){f.createObjectStore(xy,{keyPath:Fz})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(f){const h=f.createObjectStore(Py,{keyPath:Qz});h.createIndex(tT,Xz,{unique:!1}),h.createIndex(hV,Zz,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const h=f.createObjectStore(wv,{keyPath:kz});h.createIndex(rv,Mz),h.createIndex(uV,Vz)}(e)).next(()=>this.Di(e,a)).next(()=>e.deleteObjectStore(Pu))),r<14&&i>=14&&(u=u.next(()=>this.Ci(e,a))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore($A,{keyPath:$z,autoIncrement:!0}).createIndex(eT,Hz,{unique:!1}),f.createObjectStore(Nd,{keyPath:Kz}).createIndex(cV,Gz,{unique:!1}),f.createObjectStore(kd,{keyPath:Wz}).createIndex(fV,Yz,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{n.objectStore(Nd).clear()}).next(()=>{n.objectStore(kd).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(f){f.createObjectStore(HA,{keyPath:Jz})})(e)})),r<18&&i>=18&&PM()&&(u=u.next(()=>{n.objectStore(Nd).clear()}).next(()=>{n.objectStore(kd).clear()})),u}yi(e){let n=0;return e.store(Pu).X((r,i)=>{n+=Pv(i)}).next(()=>{const r={byteSize:n};return e.store(Jd).put(JE,r)})}pi(e){const n=e.store(Zd),r=e.store(ki);return n.j().next(i=>Y.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,po],[a.userId,a.lastAcknowledgedBatchId]);return r.j(ju,u).next(c=>Y.forEach(c,f=>{Te(f.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const h=Nu(this.serializer,f);return gj(e,a.userId,h).next(()=>{})}))}))}wi(e){const n=e.store(Jc),r=e.store(Pu);return e.store(Hu).get(Ev).next(i=>{const a=[];return r.X((u,c)=>{const f=new We(u),h=function(g){return[0,sr(g)]}(f);a.push(n.get(h).next(m=>m?Y.resolve():(g=>n.put({targetId:0,path:sr(g),sequenceNumber:i.highestListenSequenceNumber}))(f)))}).next(()=>Y.waitFor(a))})}Si(e,n){e.createObjectStore(em,{keyPath:Bz});const r=n.store(em),i=new oS,a=u=>{if(i.add(u)){const c=u.lastSegment(),f=u.popLast();return r.put({collectionId:c,parent:sr(f)})}};return n.store(Pu).X({Z:!0},(u,c)=>{const f=new We(u);return a(f.popLast())}).next(()=>n.store(Xc).X({Z:!0},([u,c,f],h)=>{const m=da(c);return a(m.popLast())}))}bi(e){const n=e.store(Zc);return n.X((r,i)=>{const a=Sd(i),u=hj(this.serializer,a);return n.put(u)})}Di(e,n){const r=n.store(Pu),i=[];return r.X((a,u)=>{const c=n.store(wv),f=function(g){return g.document?new ge(We.fromString(g.document.name).popFirst(5)):g.noDocument?ge.fromSegments(g.noDocument.path):g.unknownDocument?ge.fromSegments(g.unknownDocument.path):_e(36783)}(u).path.toArray(),h={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(c.put(h))}).next(()=>Y.waitFor(i))}Ci(e,n){const r=n.store(ki),i=Ej(this.serializer),a=new lS(Vy.Vi,this.serializer.gt);return r.j().next(u=>{const c=new Map;return u.forEach(f=>{var h;let m=(h=c.get(f.userId))!==null&&h!==void 0?h:qe();Nu(this.serializer,f).keys().forEach(g=>m=m.add(g)),c.set(f.userId,m)}),Y.forEach(c,(f,h)=>{const m=new kn(h),g=ky.yt(this.serializer,m),y=a.getIndexManager(m),b=My.yt(m,this.serializer,y,a.referenceDelegate);return new Tj(i,b,g,y).recalculateAndSaveOverlaysForDocumentKeys(new nT(n,Ar.ue),f).next()})})}}function OC(t){t.createObjectStore(Jc,{keyPath:Lz}).createIndex(FA,Uz,{unique:!0}),t.createObjectStore(Zc,{keyPath:"targetId"}).createIndex(lV,jz,{unique:!0}),t.createObjectStore(Hu)}const to="IndexedDbPersistence",Xb=18e5,Zb=5e3,Jb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Aj="main";class cS{constructor(e,n,r,i,a,u,c,f,h,m,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fi=a,this.window=u,this.document=c,this.Mi=h,this.xi=m,this.Oi=g,this.ui=null,this.ci=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ni=null,this.inForeground=!1,this.Bi=null,this.Li=null,this.ki=Number.NEGATIVE_INFINITY,this.qi=y=>Promise.resolve(),!cS.C())throw new le(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new i8(this,i),this.Qi=n+Aj,this.serializer=new fj(f),this.$i=new va(this.Qi,this.Oi,new g8(this.serializer)),this.li=new KF,this.hi=new e8(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ej(this.serializer),this.Ti=new HF,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,m===!1&&Zt(to,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ki().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(ee.FAILED_PRECONDITION,Jb);return this.Wi(),this.Gi(),this.zi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.hi.getHighestSequenceNumber(e))}).then(e=>{this.ui=new Ar(e,this.Mi)}).then(()=>{this.ci=!0}).catch(e=>(this.$i&&this.$i.close(),Promise.reject(e)))}ji(e){return this.qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.$i.setDatabaseDeletedListener(e)}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Fi.enqueueAndForget(async()=>{this.started&&await this.Ki()}))}Ki(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Vg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ji(e).next(n=>{n||(this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)))})}).next(()=>this.Hi(e)).next(n=>this.isPrimary&&!n?this.Yi(e).next(()=>!1):!!n&&this.Zi(e).next(()=>!0))).catch(e=>{if(Mo(e))return fe(to,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fe(to,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Fi.enqueueRetryable(()=>this.qi(e)),this.isPrimary=e})}Ji(e){return ud(e).get(bc).next(n=>Y.resolve(this.Xi(n)))}es(e){return Vg(e).delete(this.clientId)}async ts(){if(this.isPrimary&&!this.ns(this.ki,Xb)){this.ki=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=An(n,ef);return r.j().next(i=>{const a=this.rs(i,Xb),u=i.filter(c=>a.indexOf(c)===-1);return Y.forEach(u,c=>r.delete(c.clientId)).next(()=>u)})}).catch(()=>[]);if(this.Ui)for(const n of e)this.Ui.removeItem(this.ss(n.clientId))}}zi(){this.Li=this.Fi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ki().then(()=>this.ts()).then(()=>this.zi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.xi?Y.resolve(!0):ud(e).get(bc).next(n=>{if(n!==null&&this.ns(n.leaseTimestampMs,Zb)&&!this._s(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new le(ee.FAILED_PRECONDITION,Jb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vg(e).j().next(r=>this.rs(r,Zb).find(i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(a||u&&c)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&fe(to,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.ci=!1,this.us(),this.Li&&(this.Li.cancel(),this.Li=null),this.cs(),this.ls(),await this.$i.runTransaction("shutdown","readwrite",[Cm,ef],e=>{const n=new nT(e,Ar.ue);return this.Yi(n).next(()=>this.es(n))}),this.$i.close(),this.hs()}rs(e,n){return e.filter(r=>this.ns(r.updateTimeMs,n)&&!this._s(r.clientId))}Ps(){return this.runTransaction("getActiveClients","readonly",e=>Vg(e).j().next(n=>this.rs(n,Xb).map(r=>r.clientId)))}get started(){return this.ci}getGlobalsCache(){return this.li}getMutationQueue(e,n){return My.yt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new JF(e,this.serializer.gt.databaseId)}getDocumentOverlayCache(e){return ky.yt(this.serializer,e)}getBundleCache(){return this.Ti}runTransaction(e,n,r){fe(to,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=function(f){return f===18?nF:f===17?gV:f===16?tF:f===15?KA:f===14?pV:f===13?mV:f===12?eF:f===11?dV:void _e(60245)}(this.Oi);let u;return this.$i.runTransaction(e,i,a,c=>(u=new nT(c,this.ui?this.ui.next():Ar.ue),n==="readwrite-primary"?this.Ji(u).next(f=>!!f||this.Hi(u)).next(f=>{if(!f)throw Zt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)),new le(ee.FAILED_PRECONDITION,rV);return r(u)}).next(f=>this.Zi(u).next(()=>f)):this.Ts(u).next(()=>r(u)))).then(c=>(u.raiseOnCommittedEvent(),c))}Ts(e){return ud(e).get(bc).next(n=>{if(n!==null&&this.ns(n.leaseTimestampMs,Zb)&&!this._s(n.ownerId)&&!this.Xi(n)&&!(this.xi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new le(ee.FAILED_PRECONDITION,Jb)})}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ud(e).put(bc,n)}static C(){return va.C()}Yi(e){const n=ud(e);return n.get(bc).next(r=>this.Xi(r)?(fe(to,"Releasing primary lease."),n.delete(bc)):Y.resolve())}ns(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Zt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Bi=()=>{this.Fi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ki()))},this.document.addEventListener("visibilitychange",this.Bi),this.inForeground=this.document.visibilityState==="visible")}cs(){this.Bi&&(this.document.removeEventListener("visibilitychange",this.Bi),this.Bi=null)}Gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ni=()=>{this.us();const n=/(?:Version|Mobile)\/1[456]/;xM()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Fi.enterRestrictedMode(!0),this.Fi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ni))}ls(){this.Ni&&(this.window.removeEventListener("pagehide",this.Ni),this.Ni=null)}_s(e){var n;try{const r=((n=this.Ui)===null||n===void 0?void 0:n.getItem(this.ss(e)))!==null;return fe(to,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Zt(to,"Failed to get zombied client id.",r),!1}}us(){if(this.Ui)try{this.Ui.setItem(this.ss(this.clientId),String(Date.now()))}catch(e){Zt("Failed to set zombie client id.",e)}}hs(){if(this.Ui)try{this.Ui.removeItem(this.ss(this.clientId))}catch{}}ss(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ud(t){return An(t,Cm)}function Vg(t){return An(t,ef)}function fS(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=qe(),i=qe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new hS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return xM()?8:aV(Ut())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ps(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ys(e,n,i,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new v8;return this.ws(e,n,u).next(c=>{if(a.result=c,this.Rs)return this.Ss(e,n,u,c.size)})}).next(()=>a.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Cc()<=Ge.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Dc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Cc()<=Ge.DEBUG&&fe("QueryEngine","Query:",Dc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Cc()<=Ge.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Dc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):Y.resolve())}ps(e,n){if(JR(n))return Y.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sv(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=qe(...a);return this.gs.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.bs(n,c);return this.Ds(n,h,u,f.readTime)?this.ps(e,Sv(n,null,"F")):this.vs(e,h,n,f)}))})))}ys(e,n,r,i){return JR(n)||i.isEqual(Se.min())?Y.resolve(null):this.gs.getDocuments(e,r).next(a=>{const u=this.bs(n,a);return this.Ds(n,u,r,i)?Y.resolve(null):(Cc()<=Ge.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dc(n)),this.vs(e,u,n,tV(i,Qc)).next(c=>c))})}bs(e,n){let r=new dt(jV(e));return n.forEach((i,a)=>{km(e,a)&&(r=r.add(a))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,n,r){return Cc()<=Ge.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Dc(n)),this.gs.getDocumentsMatchingQuery(e,n,Qr.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="LocalStore",y8=3e8;class _8{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new xt(Ve),this.Ms=new vs(a=>el(a),Dm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tj(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Ij(t,e,n,r){return new _8(t,e,n,r)}async function xj(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],c=[];let f=qe();for(const h of i){u.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of a){c.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next(h=>({Bs:h,removedBatchIds:u,addedBatchIds:c}))})})}function b8(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,f,h,m){const g=h.batch,y=g.keys();let b=Y.resolve();return y.forEach(E=>{b=b.next(()=>m.getEntry(f,E)).next(T=>{const A=h.docVersions.get(E);Te(A!==null,48541),T.version.compareTo(A)<0&&(g.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),m.addEntry(T)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(f,g))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=qe();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Pj(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function w8(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const c=[];e.targetChanges.forEach((m,g)=>{const y=i.get(g);if(!y)return;c.push(n.hi.removeMatchingKeys(a,m.removedDocuments,g).next(()=>n.hi.addMatchingKeys(a,m.addedDocuments,g)));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(Ht.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(g,b),function(T,A,x){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=y8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(y,b,m)&&c.push(n.hi.updateTargetData(a,b))});let f=Ir(),h=qe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(Oj(a,u,e.documentUpdates).next(m=>{f=m.Ls,h=m.ks})),!r.isEqual(Se.min())){const m=n.hi.getLastRemoteSnapshotVersion(a).next(g=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return Y.waitFor(c).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,h)).next(()=>f)}).then(a=>(n.Fs=i,a))}function Oj(t,e,n){let r=qe(),i=qe();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=Ir();return n.forEach((c,f)=>{const h=a.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):fe(dS,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)}),{Ls:u,ks:i}})}function E8(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=po),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uf(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(a=>a?(i=a,Y.resolve(i)):n.hi.allocateTargetId(r).next(u=>(i=new ts(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function lf(t,e,n){const r=ve(t),i=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!Mo(u))throw u;fe(dS,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function Rv(t,e,n){const r=ve(t);let i=Se.min(),a=qe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,h,m){const g=ve(f),y=g.Ms.get(m);return y!==void 0?Y.resolve(g.Fs.get(y)):g.hi.getTargetData(h,m)}(r,u,vr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,c.targetId).next(f=>{a=f})}).next(()=>r.Cs.getDocumentsMatchingQuery(u,e,n?i:Se.min(),n?a:qe())).next(c=>(Dj(r,VV(e),c),{documents:c,qs:a})))}function Rj(t,e){const n=ve(t),r=ve(n.hi),i=n.Fs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(u=>u?u.target:null))}function Cj(t,e){const n=ve(t),r=n.xs.get(e)||Se.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Os.getAllFromCollectionGroup(i,e,tV(r,Qc),Number.MAX_SAFE_INTEGER)).then(i=>(Dj(n,e,i),i))}function Dj(t,e,n){let r=t.xs.get(e)||Se.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.xs.set(e,r)}async function T8(t,e,n,r){const i=ve(t);let a=qe(),u=Ir();for(const h of n){const m=e.Qs(h.metadata.name);h.document&&(a=a.add(m));const g=e.$s(h);g.setReadTime(e.Us(h.metadata.readTime)),u=u.insert(m,g)}const c=i.Os.newChangeBuffer({trackRemovals:!0}),f=await uf(i,function(m){return vr(Rf(We.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>Oj(h,c,u).next(m=>(c.apply(h),m)).next(m=>i.hi.removeMatchingKeysForTargetId(h,f.targetId).next(()=>i.hi.addMatchingKeys(h,a,f.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,m.Ls,m.ks)).next(()=>m.Ls)))}async function A8(t,e,n=qe()){const r=await uf(t,vr(aS(e.bundledQuery))),i=ve(t);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=Jt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ti.saveNamedQuery(a,e);const c=r.withResumeToken(Ht.EMPTY_BYTE_STRING,u);return i.Fs=i.Fs.insert(c.targetId,c),i.hi.updateTargetData(a,c).next(()=>i.hi.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.hi.addMatchingKeys(a,n,r.targetId)).next(()=>i.Ti.saveNamedQuery(a,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="firestore_clients";function RC(t,e){return`${Nj}_${t}_${e}`}const kj="firestore_mutations";function CC(t,e,n){let r=`${kj}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Mj="firestore_targets";function ew(t,e){return`${Mj}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="SharedClientState";class Cv{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ks(e,n,r){const i=JSON.parse(r);let a,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(a=new le(i.error.code,i.error.message))),u?new Cv(e,n,i.state,a):(Zt(ua,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ld{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ks(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new le(r.error.code,r.error.message))),a?new Ld(e,r.state,i):(Zt(ua,`Failed to parse target state for ID '${e}': ${n}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dv{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ks(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=XA();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=sV(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new Dv(e,a):(Zt(ua,`Failed to parse client data for instance '${e}': ${n}`),null)}}class mS{constructor(e,n){this.clientId=e,this.onlineState=n}static Ks(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new mS(n.clientId,n.onlineState):(Zt(ua,`Failed to parse online state: ${e}`),null)}}class vT{constructor(){this.activeTargetIds=XA()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tw{constructor(e,n,r,i,a){this.window=e,this.Fi=n,this.persistenceKey=r,this.js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Js=this.Hs.bind(this),this.Ys=new xt(Ve),this.started=!1,this.Zs=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Xs=RC(this.persistenceKey,this.js),this.eo=function(f){return`firestore_sequence_number_${f}`}(this.persistenceKey),this.Ys=this.Ys.insert(this.js,new vT),this.no=new RegExp(`^${Nj}_${u}_([^_]*)$`),this.ro=new RegExp(`^${kj}_${u}_(\\d+)(?:_(.*))?$`),this.io=new RegExp(`^${Mj}_${u}_(\\d+)$`),this.so=function(f){return`firestore_online_state_${f}`}(this.persistenceKey),this.oo=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Js)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ps();for(const r of e){if(r===this.js)continue;const i=this.getItem(RC(this.persistenceKey,r));if(i){const a=Dv.Ks(r,i);a&&(this.Ys=this.Ys.insert(a.clientId,a))}}this._o();const n=this.storage.getItem(this.so);if(n){const r=this.ao(n);r&&this.uo(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.eo,JSON.stringify(e))}getAllActiveQueryTargets(){return this.co(this.Ys)}isActiveQueryTarget(e){let n=!1;return this.Ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.lo(e,"pending")}updateMutationState(e,n,r){this.lo(e,n,r),this.ho(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ew(this.persistenceKey,e));if(i){const a=Ld.Ks(e,i);a&&(r=a.state)}}return n&&this.Po.Gs(e),this._o(),r}removeLocalQueryTarget(e){this.Po.zs(e),this._o()}isLocalQueryTarget(e){return this.Po.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ew(this.persistenceKey,e))}updateQueryState(e,n,r){this.To(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.ho(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Io(e)}notifyBundleLoaded(e){this.Eo(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return fe(ua,"READ",e,n),n}setItem(e,n){fe(ua,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){fe(ua,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const n=e;if(n.storageArea===this.storage){if(fe(ua,"EVENT",n.key,n.newValue),n.key===this.Xs)return void Zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.no.test(n.key)){if(n.newValue==null){const r=this.Ao(n.key);return this.Ro(r,null)}{const r=this.Vo(n.key,n.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.ro.test(n.key)){if(n.newValue!==null){const r=this.mo(n.key,n.newValue);if(r)return this.fo(r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.po(n.key,n.newValue);if(r)return this.yo(r)}}else if(n.key===this.so){if(n.newValue!==null){const r=this.ao(n.newValue);if(r)return this.uo(r)}}else if(n.key===this.eo){const r=function(a){let u=Ar.ue;if(a!=null)try{const c=JSON.parse(a);Te(typeof c=="number",30636,{wo:a}),u=c}catch(c){Zt(ua,"Failed to read sequence number from WebStorage",c)}return u}(n.newValue);r!==Ar.ue&&this.sequenceNumberHandler(r)}else if(n.key===this.oo){const r=this.So(n.newValue);await Promise.all(r.map(i=>this.syncEngine.bo(i)))}}}else this.Zs.push(n)})}}get Po(){return this.Ys.get(this.js)}_o(){this.setItem(this.Xs,this.Po.Ws())}lo(e,n,r){const i=new Cv(this.currentUser,e,n,r),a=CC(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Ws())}ho(e){const n=CC(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Io(e){const n={clientId:this.js,onlineState:e};this.storage.setItem(this.so,JSON.stringify(n))}To(e,n,r){const i=ew(this.persistenceKey,e),a=new Ld(e,n,r);this.setItem(i,a.Ws())}Eo(e){const n=JSON.stringify(Array.from(e));this.setItem(this.oo,n)}Ao(e){const n=this.no.exec(e);return n?n[1]:null}Vo(e,n){const r=this.Ao(e);return Dv.Ks(r,n)}mo(e,n){const r=this.ro.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return Cv.Ks(new kn(a),i,n)}po(e,n){const r=this.io.exec(e),i=Number(r[1]);return Ld.Ks(i,n)}ao(e){return mS.Ks(e)}So(e){return JSON.parse(e)}async fo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Do(e.batchId,e.state,e.error);fe(ua,`Ignoring mutation for non-active user ${e.user.uid}`)}yo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Ro(e,n){const r=n?this.Ys.insert(e,n):this.Ys.remove(e),i=this.co(this.Ys),a=this.co(r),u=[],c=[];return a.forEach(f=>{i.has(f)||u.push(f)}),i.forEach(f=>{a.has(f)||c.push(f)}),this.syncEngine.Co(u,c).then(()=>{this.Ys=r})}uo(e){this.Ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}co(e){let n=XA();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class Vj{constructor(){this.Fo=new vT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new vT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="ConnectivityMonitor";class NC{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(DC,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(DC,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg=null;function yT(){return jg===null?jg=function(){return 268435456+Math.round(2147483648*Math.random())}():jg++,"0x"+jg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="RestConnection",I8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x8{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===rT?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const u=yT(),c=this.Go(e,n.toUriEncodedString());fe(nw,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,i,a);const{host:h}=new URL(c),m=xf(h);return this.jo(e,c,f,r,m).then(g=>(fe(nw,`Received RPC '${e}' ${u}: `,g),g),g=>{throw Yr(nw,`RPC '${e}' ${u} failed with error: `,g,"url: ",c,"request:",r),g})}Jo(e,n,r,i,a,u){return this.Wo(e,n,r,i,a)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Of}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Go(e,n){const r=I8[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class O8 extends x8{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,a){const u=yT();return new Promise((c,f)=>{const h=new $M;h.setWithCredentials(!0),h.listenOnce(HM.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ev.NO_ERROR:const g=h.getResponseJson();fe(tr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(g)),c(g);break;case ev.TIMEOUT:fe(tr,`RPC '${e}' ${u} timed out`),f(new le(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ev.HTTP_ERROR:const y=h.getStatus();if(fe(tr,`RPC '${e}' ${u} failed with status:`,y,"response text:",h.getResponseText()),y>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b?.error;if(E&&E.status&&E.message){const T=function(x){const R=x.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(R)>=0?R:ee.UNKNOWN}(E.status);f(new le(T,E.message))}else f(new le(ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new le(ee.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{c_:e,streamId:u,l_:h.getLastErrorCode(),h_:h.getLastError()})}}finally{fe(tr,`RPC '${e}' ${u} completed.`)}});const m=JSON.stringify(i);fe(tr,`RPC '${e}' ${u} sending request:`,i),h.send(n,"POST",m,r,15)})}P_(e,n,r){const i=yT(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=WM(),c=GM(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=a.join("");fe(tr,`Creating RPC '${e}' stream ${i}: ${m}`,f);const g=u.createWebChannel(m,f);this.T_(g);let y=!1,b=!1;const E=new P8({Ho:A=>{b?fe(tr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(y||(fe(tr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),fe(tr,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Yo:()=>g.close()}),T=(A,x,R)=>{A.listen(x,P=>{try{R(P)}catch(U){setTimeout(()=>{throw U},0)}})};return T(g,Ed.EventType.OPEN,()=>{b||(fe(tr,`RPC '${e}' stream ${i} transport opened.`),E.s_())}),T(g,Ed.EventType.CLOSE,()=>{b||(b=!0,fe(tr,`RPC '${e}' stream ${i} transport closed`),E.__(),this.I_(g))}),T(g,Ed.EventType.ERROR,A=>{b||(b=!0,Yr(tr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),E.__(new le(ee.UNAVAILABLE,"The operation could not be completed")))}),T(g,Ed.EventType.MESSAGE,A=>{var x;if(!b){const R=A.data[0];Te(!!R,16349);const P=R,U=P?.error||((x=P[0])===null||x===void 0?void 0:x.error);if(U){fe(tr,`RPC '${e}' stream ${i} received error:`,U);const L=U.status;let $=function(M){const q=cn[M];if(q!==void 0)return QV(q)}(L),C=U.message;$===void 0&&($=ee.INTERNAL,C="Unknown error status: "+L+" with message "+U.message),b=!0,E.__(new le($,C)),g.close()}else fe(tr,`RPC '${e}' stream ${i} received:`,R),E.a_(R)}}),T(c,KM.STAT_EVENT,A=>{A.stat===QE.PROXY?fe(tr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===QE.NOPROXY&&fe(tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(){return typeof window<"u"?window:null}function cv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t){return new kF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="PersistentStream";class Lj{constructor(e,n,r,i,a,u,c,f){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new pS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Zt(n.toString()),Zt("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new le(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(kC,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(fe(kC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R8 extends Lj{constructor(e,n,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=jF(this.serializer,e),r=function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?Jt(u.readTime):Se.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=hT(this.serializer),n.addTarget=function(a,u){let c;const f=u.target;if(c=Tv(f)?{documents:aj(a,f)}:{query:sj(a,f).Vt},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=JV(a,u.resumeToken);const h=cT(a,u.expectedCount);h!==null&&(c.expectedCount=h)}else if(u.snapshotVersion.compareTo(Se.min())>0){c.readTime=of(a,u.snapshotVersion.toTimestamp());const h=cT(a,u.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=UF(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=hT(this.serializer),n.removeTarget=e,this.k_(n)}}class C8 extends Lj{constructor(e,n,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=LF(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=hT(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sm(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{}class N8 extends D8{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Wo(e,fT(n,r),i,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(ee.UNKNOWN,a.toString())})}Jo(e,n,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Jo(e,fT(n,r),i,u,c,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(ee.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class k8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Zt(n),this._a=!1):fe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="RemoteStore";class M8{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(u=>{r.enqueueAndForget(async()=>{jo(this)&&(fe(sl,"Restarting streams for network reachability change."),await async function(f){const h=ve(f);h.Ia.add(4),await Nf(h),h.Aa.set("Unknown"),h.Ia.delete(4),await Um(h)}(this))})}),this.Aa=new k8(r,i)}}async function Um(t){if(jo(t))for(const e of t.da)await e(!0)}async function Nf(t){for(const e of t.da)await e(!1)}function jy(t,e){const n=ve(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),yS(n)?vS(n):Mf(n).x_()&&gS(n,e))}function cf(t,e){const n=ve(t),r=Mf(n);n.Ta.delete(e),r.x_()&&Uj(n,e),n.Ta.size===0&&(r.x_()?r.B_():jo(n)&&n.Aa.set("Unknown"))}function gS(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mf(t).H_(e)}function Uj(t,e){t.Ra.$e(e),Mf(t).Y_(e)}function vS(t){t.Ra=new RF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Mf(t).start(),t.Aa.aa()}function yS(t){return jo(t)&&!Mf(t).M_()&&t.Ta.size>0}function jo(t){return ve(t).Ia.size===0}function Bj(t){t.Ra=void 0}async function V8(t){t.Aa.set("Online")}async function j8(t){t.Ta.forEach((e,n)=>{gS(t,e)})}async function L8(t,e){Bj(t),yS(t)?(t.Aa.la(e),vS(t)):t.Aa.set("Unknown")}async function U8(t,e,n){if(t.Aa.set("Online"),e instanceof ZV&&e.state===2&&e.cause)try{await async function(i,a){const u=a.cause;for(const c of a.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,u),i.Ta.delete(c),i.Ra.removeTarget(c))}(t,e)}catch(r){fe(sl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nv(t,r)}else if(e instanceof uv?t.Ra.Ye(e):e instanceof XV?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Se.min()))try{const r=await Pj(t.localStore);n.compareTo(r)>=0&&await function(a,u){const c=a.Ra.Pt(u);return c.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ta.get(h);m&&a.Ta.set(h,m.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach((f,h)=>{const m=a.Ta.get(f);if(!m)return;a.Ta.set(f,m.withResumeToken(Ht.EMPTY_BYTE_STRING,m.snapshotVersion)),Uj(a,f);const g=new ts(m.target,f,h,m.sequenceNumber);gS(a,g)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){fe(sl,"Failed to raise snapshot:",r),await Nv(t,r)}}async function Nv(t,e,n){if(!Mo(e))throw e;t.Ia.add(1),await Nf(t),t.Aa.set("Offline"),n||(n=()=>Pj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(sl,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Um(t)})}function qj(t,e){return e().catch(n=>Nv(t,n,e))}async function kf(t){const e=ve(t),n=Oo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:po;for(;B8(e);)try{const i=await E8(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,q8(e,i)}catch(i){await Nv(e,i)}zj(e)&&Fj(e)}function B8(t){return jo(t)&&t.Pa.length<10}function q8(t,e){t.Pa.push(e);const n=Oo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function zj(t){return jo(t)&&!Oo(t).M_()&&t.Pa.length>0}function Fj(t){Oo(t).start()}async function z8(t){Oo(t).na()}async function F8(t){const e=Oo(t);for(const n of t.Pa)e.X_(n.mutations)}async function $8(t,e,n){const r=t.Pa.shift(),i=tS.from(r,e,n);await qj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await kf(t)}async function H8(t,e){e&&Oo(t).Z_&&await async function(r,i){if(function(u){return YV(u)&&u!==ee.ABORTED}(i.code)){const a=r.Pa.shift();Oo(r).N_(),await qj(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await kf(r)}}(t,e),zj(t)&&Fj(t)}async function MC(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),fe(sl,"RemoteStore received new credentials");const r=jo(n);n.Ia.add(3),await Nf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Um(n)}async function _T(t,e){const n=ve(t);e?(n.Ia.delete(2),await Um(n)):e||(n.Ia.add(2),await Nf(n),n.Aa.set("Unknown"))}function Mf(t){return t.Va||(t.Va=function(n,r,i){const a=ve(n);return a.ia(),new R8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:V8.bind(null,t),e_:j8.bind(null,t),n_:L8.bind(null,t),J_:U8.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),yS(t)?vS(t):t.Aa.set("Unknown")):(await t.Va.stop(),Bj(t))})),t.Va}function Oo(t){return t.ma||(t.ma=function(n,r,i){const a=ve(n);return a.ia(),new C8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:z8.bind(null,t),n_:H8.bind(null,t),ea:F8.bind(null,t),ta:$8.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await kf(t)):(await t.ma.stop(),t.Pa.length>0&&(fe(sl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const u=Date.now()+r,c=new _S(e,n,u,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vf(t,e){if(Zt("AsyncQueue",`${e}: ${t}`),Mo(t))return new le(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{static emptySet(e){return new Bc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Td(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.fa=new xt(ge.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):_e(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ff{constructor(e,n,r,i,a,u,c,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const u=[];return n.forEach(c=>{u.push({type:0,doc:c})}),new ff(e,n,Bc.emptySet(n),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class G8{constructor(){this.queries=jC(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=ve(n),a=i.queries;i.queries=jC(),a.forEach((u,c)=>{for(const f of c.wa)f.onError(r)})})(this,new le(ee.ABORTED,"Firestore shutting down"))}}function jC(){return new vs(t=>MV(t),Nm)}async function bS(t,e){const n=ve(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new K8,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const c=Vf(u,`Initialization of query '${Dc(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&ES(n)}async function wS(t,e){const n=ve(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const u=a.wa.indexOf(e);u>=0&&(a.wa.splice(u,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function W8(t,e){const n=ve(t);let r=!1;for(const i of e){const a=i.query,u=n.queries.get(a);if(u){for(const c of u.wa)c.Ca(i)&&(r=!0);u.ya=i}}r&&ES(n)}function Y8(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(e)}function ES(t){t.Da.forEach(e=>{e.next()})}var bT,LC;(LC=bT||(bT={})).Fa="default",LC.Cache="cache";class TS{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ff(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ff.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==bT.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n){this.qa=e,this.byteLength=n}Qa(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.serializer=e}Qs(e){return ya(this.serializer,e)}$s(e){return e.metadata.exists?ij(this.serializer,e.document,!1):Ot.newNoDocument(this.Qs(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return Jt(e)}}class X8{constructor(e,n){this.$a=e,this.serializer=n,this.Ua=[],this.Ka=[],this.collectionGroups=new Set,this.progress=$j(e)}get queries(){return this.Ua}get documents(){return this.Ka}Wa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Ua.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Ka.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++n;const r=We.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Ka[this.Ka.length-1].document=e.qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Ga(e){const n=new Map,r=new UC(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.Qs(i.metadata.name);for(const u of i.metadata.queries){const c=(n.get(u)||qe()).add(a);n.set(u,c)}}return n}async za(e){const n=await T8(e,new UC(this.serializer),this.Ka,this.$a.id),r=this.Ga(this.documents);for(const i of this.Ua)await A8(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,ja:this.collectionGroups,Ja:n}}}function $j(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.key=e}}class Kj{constructor(e){this.key=e}}class Gj{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=qe(),this.mutatedKeys=qe(),this.Xa=jV(e),this.eu=new Bc(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new VC,i=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,u=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const y=i.get(m),b=km(this.query,g)?g:null,E=!!y&&this.mutatedKeys.has(y.key),T=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let A=!1;y&&b?y.data.isEqual(b.data)?E!==T&&(r.track({type:3,doc:b}),A=!0):this.iu(y,b)||(r.track({type:2,doc:b}),A=!0,(f&&this.Xa(b,f)>0||h&&this.Xa(b,h)<0)&&(c=!0)):!y&&b?(r.track({type:0,doc:b}),A=!0):y&&!b&&(r.track({type:1,doc:y}),A=!0,(f||h)&&(c=!0)),A&&(b?(u=u.add(b),a=T?a.add(m):a.delete(m)):(u=u.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{eu:u,ru:r,Ds:c,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort((m,g)=>function(b,E){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{At:A})}};return T(b)-T(E)}(m.type,g.type)||this.Xa(m.doc,g.doc)),this.su(r),i=i!=null&&i;const c=n&&!i?this.ou():[],f=this.Za.size===0&&this.current&&!i?1:0,h=f!==this.Ya;return this.Ya=f,u.length!==0||h?{snapshot:new ff(this.query,e.eu,a,u,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new VC,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=qe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Kj(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Hj(r))}),n}uu(e){this.Ha=e.qs,this.Za=qe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ff.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Lo="SyncEngine";class Z8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class J8{constructor(e){this.key=e,this.lu=!1}}class e7{constructor(e,n,r,i,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new vs(c=>MV(c),Nm),this.Tu=new Map,this.Iu=new Set,this.du=new xt(ge.comparator),this.Eu=new Map,this.Au=new uS,this.Ru={},this.Vu=new Map,this.mu=al.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function t7(t,e,n=!0){const r=Ly(t);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await Wj(r,e,n,!0),i}async function n7(t,e){const n=Ly(t);await Wj(n,e,!0,!1)}async function Wj(t,e,n,r){const i=await uf(t.localStore,vr(e)),a=i.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await AS(t,e,a,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&jy(t.remoteStore,i),c}async function AS(t,e,n,r,i){t.gu=(g,y,b)=>async function(T,A,x,R){let P=A.view.nu(x);P.Ds&&(P=await Rv(T.localStore,A.query,!1).then(({documents:C})=>A.view.nu(C,P)));const U=R&&R.targetChanges.get(A.targetId),L=R&&R.targetMismatches.get(A.targetId)!=null,$=A.view.applyChanges(P,T.isPrimaryClient,U,L);return wT(T,A.targetId,$._u),$.snapshot}(t,g,y,b);const a=await Rv(t.localStore,e,!0),u=new Gj(e,a.qs),c=u.nu(a.documents),f=jm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=u.applyChanges(c,t.isPrimaryClient,f);wT(t,n,h._u);const m=new Z8(e,n,u);return t.Pu.set(e,m),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),h.snapshot}async function r7(t,e,n){const r=ve(t),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter(u=>!Nm(u,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&cf(r.remoteStore,i.targetId),hf(r,i.targetId)}).catch(ko)):(hf(r,i.targetId),await lf(r.localStore,i.targetId,!0))}async function i7(t,e){const n=ve(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cf(n.remoteStore,r.targetId))}async function a7(t,e,n){const r=PS(t);try{const i=await function(u,c){const f=ve(u),h=ut.now(),m=c.reduce((b,E)=>b.add(E.key),qe());let g,y;return f.persistence.runTransaction("Locally write mutations","readwrite",b=>{let E=Ir(),T=qe();return f.Os.getEntries(b,m).next(A=>{E=A,E.forEach((x,R)=>{R.isValidDocument()||(T=T.add(x))})}).next(()=>f.localDocuments.getOverlayedDocuments(b,E)).next(A=>{g=A;const x=[];for(const R of c){const P=xF(R,g.get(R.key).overlayedDocument);P!=null&&x.push(new ys(R.key,P,IV(P.value.mapValue),Mt.exists(!0)))}return f.mutationQueue.addMutationBatch(b,h,x,c)}).next(A=>{y=A;const x=A.applyToLocalDocumentSet(g,T);return f.documentOverlayCache.saveOverlays(b,A.batchId,x)})}).then(()=>({batchId:y.batchId,changes:UV(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,f){let h=u.Ru[u.currentUser.toKey()];h||(h=new xt(Ve)),h=h.insert(c,f),u.Ru[u.currentUser.toKey()]=h}(r,i.batchId,n),await _s(r,i.changes),await kf(r.remoteStore)}catch(i){const a=Vf(i,"Failed to persist write");n.reject(a)}}async function Yj(t,e){const n=ve(t);try{const r=await w8(n.localStore,e);e.targetChanges.forEach((i,a)=>{const u=n.Eu.get(a);u&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.lu=!0:i.modifiedDocuments.size>0?Te(u.lu,14607):i.removedDocuments.size>0&&(Te(u.lu,42227),u.lu=!1))}),await _s(n,r,e)}catch(r){await ko(r)}}function BC(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((a,u)=>{const c=u.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(u,c){const f=ve(u);f.onlineState=c;let h=!1;f.queries.forEach((m,g)=>{for(const y of g.wa)y.va(c)&&(h=!0)}),h&&ES(f)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function s7(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let u=new xt(ge.comparator);u=u.insert(a,Ot.newNoDocument(a,Se.min()));const c=qe().add(a),f=new Vm(Se.min(),new Map,new xt(Ve),u,c);await Yj(r,f),r.du=r.du.remove(a),r.Eu.delete(e),xS(r)}else await lf(r.localStore,e,!1).then(()=>hf(r,e,n)).catch(ko)}async function o7(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await b8(n.localStore,e);IS(n,r,null),SS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _s(n,i)}catch(i){await ko(i)}}async function u7(t,e,n){const r=ve(t);try{const i=await function(u,c){const f=ve(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return f.mutationQueue.lookupMutationBatch(h,c).next(g=>(Te(g!==null,37113),m=g.keys(),f.mutationQueue.removeMutationBatch(h,g))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,m,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>f.localDocuments.getDocuments(h,m))})}(r.localStore,e);IS(r,e,n),SS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _s(r,i)}catch(i){await ko(i)}}async function l7(t,e){const n=ve(t);jo(n.remoteStore)||fe(Lo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const c=ve(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(n.localStore);if(r===po)return void e.resolve();const i=n.Vu.get(r)||[];i.push(e),n.Vu.set(r,i)}catch(r){const i=Vf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function SS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function IS(t,e,n){const r=ve(t);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function hf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||Qj(t,r)})}function Qj(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(cf(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),xS(t))}function wT(t,e,n){for(const r of n)r instanceof Hj?(t.Au.addReference(r.key,e),c7(t,r)):r instanceof Kj?(fe(Lo,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||Qj(t,r.key)):_e(19791,{yu:r})}function c7(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(fe(Lo,"New document in limbo: "+n),t.Iu.add(r),xS(t))}function xS(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ge(We.fromString(e)),r=t.mu.next();t.Eu.set(r,new J8(n)),t.du=t.du.insert(n,r),jy(t.remoteStore,new ts(vr(Rf(n.path)),r,"TargetPurposeLimboResolution",Ar.ue))}}async function _s(t,e,n){const r=ve(t),i=[],a=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach((c,f)=>{u.push(r.gu(f,e,n).then(h=>{var m;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=n?.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(h){i.push(h);const g=hS.Es(f.targetId,h);a.push(g)}}))}),await Promise.all(u),r.hu.J_(i),await async function(f,h){const m=ve(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Y.forEach(h,y=>Y.forEach(y.Is,b=>m.persistence.referenceDelegate.addReference(g,y.targetId,b)).next(()=>Y.forEach(y.ds,b=>m.persistence.referenceDelegate.removeReference(g,y.targetId,b)))))}catch(g){if(!Mo(g))throw g;fe(dS,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const b=m.Fs.get(y),E=b.snapshotVersion,T=b.withLastLimboFreeSnapshotVersion(E);m.Fs=m.Fs.insert(y,T)}}}(r.localStore,a))}async function f7(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){fe(Lo,"User change. New user:",e.toKey());const r=await xj(n.localStore,e);n.currentUser=e,function(a,u){a.Vu.forEach(c=>{c.forEach(f=>{f.reject(new le(ee.CANCELLED,u))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _s(n,r.Bs)}}function h7(t,e){const n=ve(t),r=n.Eu.get(e);if(r&&r.lu)return qe().add(r.key);{let i=qe();const a=n.Tu.get(e);if(!a)return i;for(const u of a){const c=n.Pu.get(u);i=i.unionWith(c.view.tu)}return i}}async function d7(t,e){const n=ve(t),r=await Rv(n.localStore,e.query,!0),i=e.view.uu(r);return n.isPrimaryClient&&wT(n,e.targetId,i._u),i}async function m7(t,e){const n=ve(t);return Cj(n.localStore,e).then(r=>_s(n,r))}async function p7(t,e,n,r){const i=ve(t),a=await function(c,f){const h=ve(c),m=ve(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",g=>m.Xn(g,f).next(y=>y?h.localDocuments.getDocuments(g,y):Y.resolve(null)))}(i.localStore,e);a!==null?(n==="pending"?await kf(i.remoteStore):n==="acknowledged"||n==="rejected"?(IS(i,e,r||null),SS(i,e),function(c,f){ve(ve(c).mutationQueue).rr(f)}(i.localStore,e)):_e(6720,"Unknown batchState",{wu:n}),await _s(i,a)):fe(Lo,"Cannot apply mutation batch with id: "+e)}async function g7(t,e){const n=ve(t);if(Ly(n),PS(n),e===!0&&n.fu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await qC(n,r.toArray());n.fu=!0,await _T(n.remoteStore,!0);for(const a of i)jy(n.remoteStore,a)}else if(e===!1&&n.fu!==!1){const r=[];let i=Promise.resolve();n.Tu.forEach((a,u)=>{n.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(hf(n,u),lf(n.localStore,u,!0))),cf(n.remoteStore,u)}),await i,await qC(n,r),function(u){const c=ve(u);c.Eu.forEach((f,h)=>{cf(c.remoteStore,h)}),c.Au.jr(),c.Eu=new Map,c.du=new xt(ge.comparator)}(n),n.fu=!1,await _T(n.remoteStore,!1)}}async function qC(t,e,n){const r=ve(t),i=[],a=[];for(const u of e){let c;const f=r.Tu.get(u);if(f&&f.length!==0){c=await uf(r.localStore,vr(f[0]));for(const h of f){const m=r.Pu.get(h),g=await d7(r,m);g.snapshot&&a.push(g.snapshot)}}else{const h=await Rj(r.localStore,u);c=await uf(r.localStore,h),await AS(r,Xj(h),u,!1,c.resumeToken)}i.push(c)}return r.hu.J_(a),i}function Xj(t){return kV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function v7(t){return function(n){return ve(ve(n).persistence).Ps()}(ve(t).localStore)}async function y7(t,e,n,r){const i=ve(t);if(i.fu)return void fe(Lo,"Ignoring unexpected query state notification.");const a=i.Tu.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const u=await Cj(i.localStore,VV(a[0])),c=Vm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Ht.EMPTY_BYTE_STRING);await _s(i,u,c);break}case"rejected":await lf(i.localStore,e,!0),hf(i,e,r);break;default:_e(64155,n)}}async function _7(t,e,n){const r=Ly(t);if(r.fu){for(const i of e){if(r.Tu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){fe(Lo,"Adding an already active target "+i);continue}const a=await Rj(r.localStore,i),u=await uf(r.localStore,a);await AS(r,Xj(a),u.targetId,!1,u.resumeToken),jy(r.remoteStore,u)}for(const i of n)r.Tu.has(i)&&await lf(r.localStore,i,!1).then(()=>{cf(r.remoteStore,i),hf(r,i)}).catch(ko)}}function Ly(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s7.bind(null,e),e.hu.J_=W8.bind(null,e.eventManager),e.hu.pu=Y8.bind(null,e.eventManager),e}function PS(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u7.bind(null,e),e}function b7(t,e,n){const r=ve(t);(async function(a,u,c){try{const f=await u.getMetadata();if(await function(b,E){const T=ve(b),A=Jt(E.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",x=>T.Ti.getBundleMetadata(x,E.id)).then(x=>!!x&&x.createTime.compareTo(A)>=0)}(a.localStore,f))return await u.close(),c._completeWith(function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}}(f)),Promise.resolve(new Set);c._updateProgress($j(f));const h=new X8(f,u.serializer);let m=await u.Su();for(;m;){const y=await h.Wa(m);y&&c._updateProgress(y),m=await u.Su()}const g=await h.za(a.localStore);return await _s(a,g.Ja,void 0),await function(b,E){const T=ve(b);return T.persistence.runTransaction("Save bundle","readwrite",A=>T.Ti.saveBundleMetadata(A,E))}(a.localStore,f),c._completeWith(g.progress),Promise.resolve(g.ja)}catch(f){return Yr(Lo,`Loading bundle failed with ${f}`),c._failWith(f),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Ij(this.persistence,new Sj,e.initialUser,this.serializer)}Du(e){return new lS(Vy.Vi,this.serializer)}bu(e){return new Vj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}om.provider={build:()=>new om};class w7 extends om{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Te(this.persistence.referenceDelegate instanceof Ov,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _j(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new lS(r=>Ov.Vi(r,n),this.serializer)}}class Zj extends om{constructor(e,n,r){super(),this.Mu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Mu.initialize(this,e),await PS(this.Mu.syncEngine),await kf(this.Mu.remoteStore),await this.persistence.ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return Ij(this.persistence,new Sj,e.initialUser,this.serializer)}Cu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new _j(r,e.asyncQueue,n)}Fu(e,n){const r=new Rz(n,this.persistence);return new Oz(e.asyncQueue,r)}Du(e){const n=fS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?rr.withCacheSize(this.cacheSizeBytes):rr.DEFAULT;return new cS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,jj(),cv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new Vj}}class E7 extends Zj{constructor(e,n){super(e,n,!1),this.Mu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Mu.syncEngine;this.sharedClientState instanceof tw&&(this.sharedClientState.syncEngine={Do:p7.bind(null,n),vo:y7.bind(null,n),Co:_7.bind(null,n),Ps:v7.bind(null,n),bo:m7.bind(null,n)},await this.sharedClientState.start()),await this.persistence.ji(async r=>{await g7(this.Mu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}bu(e){const n=jj();if(!tw.C(n))throw new le(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=fS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f7.bind(null,this.syncEngine),await _T(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G8}()}createDatastore(e){const n=Lm(e.databaseInfo.databaseId),r=function(a){return new O8(a)}(e.databaseInfo);return function(a,u,c,f){return new N8(a,u,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,u,c){return new M8(r,i,a,u,c)}(this.localStore,this.datastore,e.asyncQueue,n=>BC(this.syncEngine,n,0),function(){return NC.C()?new NC:new S8}())}createSyncEngine(e,n){return function(i,a,u,c,f,h,m){const g=new e7(i,a,u,c,f,h);return m&&(g.fu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ve(i);fe(sl,"RemoteStore shutting down."),a.Ia.add(5),await Nf(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}um.provider={build:()=>new um};function zC(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Zt("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,n){this.Nu=e,this.serializer=n,this.metadata=new Yn,this.buffer=new Uint8Array,this.Bu=function(){return new TextDecoder("utf-8")}(),this.Lu().then(r=>{r&&r.Qa()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.qa)}`))},r=>this.metadata.reject(r))}close(){return this.Nu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.Lu()}async Lu(){const e=await this.ku();if(e===null)return null;const n=this.Bu.decode(e),r=Number(n);isNaN(r)&&this.qu(`length string (${n}) is not valid number`);const i=await this.Qu(r);return new Q8(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex(e=>e===123)}async ku(){for(;this.$u()<0&&!await this.Uu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Qu(e){for(;this.buffer.length<e;)await this.Uu()&&this.qu("Reached the end of bundle when more is expected.");const n=this.Bu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}qu(e){throw this.Nu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Uu(){const e=await this.Nu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,a){const u=ve(i),c={documents:a.map(g=>am(u.serializer,g))},f=await u.Jo("BatchGetDocuments",u.serializer.databaseId,We.emptyPath(),c,a.length),h=new Map;f.forEach(g=>{const y=VF(u.serializer,g);h.set(y.key.toString(),y)});const m=[];return a.forEach(g=>{const y=h.get(g.toString());Te(!!y,55234,{key:g}),m.push(y)}),m}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Df(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=ge.fromPath(r);this.mutations.push(new JA(i,this.precondition(i)))}),await async function(r,i){const a=ve(r),u={writes:i.map(c=>sm(a.serializer,c))};await a.Wo("Commit",a.serializer.databaseId,We.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw _e(50498,{Wu:e.constructor.name});n=Se.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new le(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Se.min())?Mt.exists(!1):Mt.updateTime(n):Mt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Se.min()))throw new le(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mt.updateTime(n)}return Mt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Gu=r.maxAttempts,this.F_=new pS(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new A7(this.datastore),n=this.Ju(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Hu(i)}))}).catch(r=>{this.Hu(r)})})}Ju(e){try{const n=this.updateFunction(e);return!Rm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!YV(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="FirestoreClient";class I7{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kn.UNAUTHENTICATED,this.clientId=UA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{fe(Ro,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(fe(Ro,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rw(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await xj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Yr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Yr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function FC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OS(t);fe(Ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>MC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>MC(e.remoteStore,i)),t._onlineComponents=e}async function OS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Ro,"Using user provided OfflineComponentProvider");try{await rw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yr("Error using user provided cache. Falling back to memory cache: "+n),await rw(t,new om)}}else fe(Ro,"Using default OfflineComponentProvider"),await rw(t,new w7(void 0));return t._offlineComponents}async function By(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Ro,"Using user provided OnlineComponentProvider"),await FC(t,t._uninitializedComponentsProvider._online)):(fe(Ro,"Using default OnlineComponentProvider"),await FC(t,new um))),t._onlineComponents}function Jj(t){return OS(t).then(e=>e.persistence)}function RS(t){return OS(t).then(e=>e.localStore)}function eL(t){return By(t).then(e=>e.remoteStore)}function CS(t){return By(t).then(e=>e.syncEngine)}function x7(t){return By(t).then(e=>e.datastore)}async function df(t){const e=await By(t),n=e.eventManager;return n.onListen=t7.bind(null,e.syncEngine),n.onUnlisten=r7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i7.bind(null,e.syncEngine),n}function P7(t){return t.asyncQueue.enqueue(async()=>{const e=await Jj(t),n=await eL(t);return e.setNetworkEnabled(!0),function(i){const a=ve(i);return a.Ia.delete(0),Um(a)}(n)})}function O7(t){return t.asyncQueue.enqueue(async()=>{const e=await Jj(t),n=await eL(t);return e.setNetworkEnabled(!1),async function(i){const a=ve(i);a.Ia.add(0),await Nf(a),a.Aa.set("Offline")}(n)})}function R7(t,e){const n=new Yn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,a,u){try{const c=await function(h,m){const g=ve(h);return g.persistence.runTransaction("read document","readonly",y=>g.localDocuments.getDocument(y,m))}(i,a);c.isFoundDocument()?u.resolve(c):c.isNoDocument()?u.resolve(null):u.reject(new le(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const f=Vf(c,`Failed to get document '${a} from cache`);u.reject(f)}}(await RS(t),e,n)),n.promise}function tL(t,e,n={}){const r=new Yn;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,c,f,h){const m=new Uy({next:y=>{m.Ou(),u.enqueueAndForget(()=>wS(a,g));const b=y.docs.has(c);!b&&y.fromCache?h.reject(new le(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&f&&f.source==="server"?h.reject(new le(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new TS(Rf(c.path),m,{includeMetadataChanges:!0,ka:!0});return bS(a,g)}(await df(t),t.asyncQueue,e,n,r)),r.promise}function C7(t,e){const n=new Yn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,a,u){try{const c=await Rv(i,a,!0),f=new Gj(a,c.qs),h=f.nu(c.documents),m=f.applyChanges(h,!1);u.resolve(m.snapshot)}catch(c){const f=Vf(c,`Failed to execute query '${a} against cache`);u.reject(f)}}(await RS(t),e,n)),n.promise}function nL(t,e,n={}){const r=new Yn;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,c,f,h){const m=new Uy({next:y=>{m.Ou(),u.enqueueAndForget(()=>wS(a,g)),y.fromCache&&f.source==="server"?h.reject(new le(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new TS(c,m,{includeMetadataChanges:!0,ka:!0});return bS(a,g)}(await df(t),t.asyncQueue,e,n,r)),r.promise}function D7(t,e){const n=new Uy(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,a){ve(i).Da.add(a),a.next()}(await df(t),n)),()=>{n.Ou(),t.asyncQueue.enqueueAndForget(async()=>function(i,a){ve(i).Da.delete(a)}(await df(t),n))}}function N7(t,e,n,r){const i=function(u,c){let f;return f=typeof u=="string"?LA().encode(u):u,function(m,g){return new T7(m,g)}(function(m,g){if(m instanceof Uint8Array)return zC(m,g);if(m instanceof ArrayBuffer)return zC(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),c)}(n,Lm(e));t.asyncQueue.enqueueAndForget(async()=>{b7(await CS(t),i,r)})}function k7(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const a=ve(r);return a.persistence.runTransaction("Get named query","readonly",u=>a.Ti.getNamedQuery(u,i))}(await RS(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="firestore.googleapis.com",HC=!0;class KC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iL,this.ssl=HC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:HC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<t8)throw new le(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yz;switch(r.type){case"firstParty":return new Ez(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$C.get(n);r&&(fe("ComponentProvider","Removing Datastore"),$C.delete(n),r.terminate())}(this),Promise.resolve()}}function M7(t,e,n,r={}){var i;t=rt(t,Bm);const a=xf(e),u=t._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;a&&(EM(`https://${f}`),TM("Firestore",!0)),u.host!==iL&&u.host!==f&&Yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},u),{host:f,ssl:a,emulatorOptions:r});if(!bo(h,c)&&(t._setSettings(h),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=kn.MOCK_USER;else{m=M9(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new le(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new kn(y)}t._authCredentials=new _z(new QM(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yr=class aL{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aL(this.firestore,e,this._query)}},It=class Id{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Id(this.firestore,e,this._key)}toJSON(){return{type:Id._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Om(n,Id._jsonSchema))return new Id(e,r||null,new ge(We.fromString(n.referencePath)))}};It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:dn("string",It._jsonSchemaVersion),referencePath:dn("string")};let go=class sL extends yr{constructor(e,n,r){super(e,n,Rf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ge(e))}withConverter(e){return new sL(this.firestore,e,this._path)}};function oL(t,e,...n){if(t=Re(t),BA("collection","path",e),t instanceof Bm){const r=We.fromString(e,...n);return kR(r),new go(t,null,r)}{if(!(t instanceof It||t instanceof go))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return kR(r),new go(t.firestore,null,r)}}function V7(t,e){if(t=rt(t,Bm),BA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yr(t,null,function(r){return new gs(We.emptyPath(),r)}(e))}function kv(t,e,...n){if(t=Re(t),arguments.length===1&&(e=UA.newId()),BA("doc","path",e),t instanceof Bm){const r=We.fromString(e,...n);return NR(r),new It(t,null,new ge(r))}{if(!(t instanceof It||t instanceof go))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return NR(r),new It(t.firestore,t instanceof go?t.converter:null,new ge(r))}}function uL(t,e){return t=Re(t),e=Re(e),(t instanceof It||t instanceof go)&&(e instanceof It||e instanceof go)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function lL(t,e){return t=Re(t),e=Re(e),t instanceof yr&&e instanceof yr&&t.firestore===e.firestore&&Nm(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="AsyncQueue";class WC{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new pS(this,"async_queue_retry"),this.oc=()=>{const r=cv();r&&fe(GC,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=cv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Yn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Mo(e))throw e;fe(GC,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Zt("INTERNAL UNHANDLED ERROR: ",YC(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=_S.createAndSchedule(this,e,n,r,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&_e(47125,{hc:YC(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function YC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class j7{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=-1;let en=class extends Bm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new WC,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WC(e),this._firestoreClient=void 0,await e}}};function or(t){if(t._terminated)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cL(t),t._firestoreClient}function cL(t){var e,n,r;const i=t._freezeSettings(),a=function(c,f,h,m){return new aF(c,f,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,rL(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new I7(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const f=c?._online.build();return{_offline:c?._offline.build(f),_online:f}}(t._componentsProvider))}function U7(t,e){Yr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return fL(t,um.provider,{build:r=>new Zj(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function B7(t){Yr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();fL(t,um.provider,{build:n=>new E7(n,e.cacheSizeBytes)})}function fL(t,e,n){if((t=rt(t,en))._firestoreClient||t._terminated)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new le(ee.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},cL(t)}function q7(t){if(t._initialized&&!t._terminated)throw new le(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Yn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!va.C())return Promise.resolve();const i=r+Aj;await va.delete(i)}(fS(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function z7(t){return function(n){const r=new Yn;return n.asyncQueue.enqueueAndForget(async()=>l7(await CS(n),r)),r.promise}(or(t=rt(t,en)))}function F7(t){return P7(or(t=rt(t,en)))}function $7(t){return O7(or(t=rt(t,en)))}function H7(t,e){const n=or(t=rt(t,en)),r=new j7;return N7(n,t._databaseId,e,r),r}function K7(t,e){return k7(or(t=rt(t,en)),e).then(n=>n?new yr(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ar(Ht.fromBase64String(e))}catch(n){throw new le(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ar(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Om(e,ar._jsonSchema))return ar.fromBase64String(e.bytes)}}ar._jsonSchemaVersion="firestore/bytes/1.0",ar._jsonSchema={type:dn("string",ar._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(Om(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:dn("string",Ui._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_a._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Om(e,_a._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new _a(e.vectorValues);throw new le(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_a._jsonSchemaVersion="firestore/vectorValue/1.0",_a._jsonSchema={type:dn("string",_a._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=/^__.*__$/;class W7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cf(e,this.data,n,this.fieldTransforms)}}class hL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ec:t})}}class qy{constructor(e,n,r,i,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new qy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Mv(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(dL(this.Ec)&&G7.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Y7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lm(e)}Dc(e,n,r,i=!1){return new qy({Ec:e,methodName:n,bc:r,path:kt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vl(t){const e=t._freezeSettings(),n=Lm(t._databaseId);return new Y7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zy(t,e,n,r,i,a={}){const u=t.Dc(a.merge||a.mergeFields?2:0,e,n,i);LS("Data must be an object, but it was:",u,r);const c=gL(r,u);let f,h;if(a.merge)f=new Sr(u.fieldMask),h=u.fieldTransforms;else if(a.mergeFields){const m=[];for(const g of a.mergeFields){const y=TT(e,g,n);if(!u.contains(y))throw new le(ee.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);yL(m,y)||m.push(y)}f=new Sr(m),h=u.fieldTransforms.filter(g=>f.covers(g.field))}else f=null,h=u.fieldTransforms;return new W7(new Gn(c),f,h)}class qm extends gl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qm}}function mL(t,e,n){return new qy({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class DS extends gl{_toFieldTransform(e){return new Mm(e.path,new af)}isEqual(e){return e instanceof DS}}class NS extends gl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=mL(this,e,!0),r=this.vc.map(a=>yl(a,n)),i=new tl(r);return new Mm(e.path,i)}isEqual(e){return e instanceof NS&&bo(this.vc,e.vc)}}class kS extends gl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=mL(this,e,!0),r=this.vc.map(a=>yl(a,n)),i=new nl(r);return new Mm(e.path,i)}isEqual(e){return e instanceof kS&&bo(this.vc,e.vc)}}class MS extends gl{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new sf(e.serializer,zV(e.serializer,this.Cc));return new Mm(e.path,n)}isEqual(e){return e instanceof MS&&this.Cc===e.Cc}}function VS(t,e,n,r){const i=t.Dc(1,e,n);LS("Data must be an object, but it was:",i,r);const a=[],u=Gn.empty();Vo(r,(f,h)=>{const m=US(e,f,n);h=Re(h);const g=i.gc(m);if(h instanceof qm)a.push(m);else{const y=yl(h,g);y!=null&&(a.push(m),u.set(m,y))}});const c=new Sr(a);return new hL(u,c,i.fieldTransforms)}function jS(t,e,n,r,i,a){const u=t.Dc(1,e,n),c=[TT(e,r,n)],f=[i];if(a.length%2!=0)throw new le(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)c.push(TT(e,a[y])),f.push(a[y+1]);const h=[],m=Gn.empty();for(let y=c.length-1;y>=0;--y)if(!yL(h,c[y])){const b=c[y];let E=f[y];E=Re(E);const T=u.gc(b);if(E instanceof qm)h.push(b);else{const A=yl(E,T);A!=null&&(h.push(b),m.set(b,A))}}const g=new Sr(h);return new hL(m,g,u.fieldTransforms)}function pL(t,e,n,r=!1){return yl(n,t.Dc(r?4:3,e))}function yl(t,e){if(vL(t=Re(t)))return LS("Unsupported field value:",e,t),gL(t,e);if(t instanceof gl)return function(r,i){if(!dL(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const a=[];let u=0;for(const c of r){let f=yl(c,i.yc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Re(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ut.fromDate(r);return{timestampValue:of(i.serializer,a)}}if(r instanceof ut){const a=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:of(i.serializer,a)}}if(r instanceof Ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ar)return{bytesValue:JV(i.serializer,r._byteString)};if(r instanceof It){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:iS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _a)return function(u,c){return{mapValue:{fields:{[GA]:{stringValue:WA},[tf]:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw c.wc("VectorValues must only contain numeric values.");return ZA(c.serializer,h)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Ay(r)}`)}(t,e)}function gL(t,e){const n={};return vV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,(r,i)=>{const a=yl(i,e.Vc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function vL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Ui||t instanceof ar||t instanceof It||t instanceof gl||t instanceof _a)}function LS(t,e,n){if(!vL(n)||!JM(n)){const r=Ay(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function TT(t,e,n){if((e=Re(e))instanceof Co)return e._internalPath;if(typeof e=="string")return US(t,e);throw Mv("Field path arguments must be of type string or ",t,!1,void 0,n)}const Q7=new RegExp("[~\\*/\\[\\]]");function US(t,e,n){if(e.search(Q7)>=0)throw Mv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Co(...e.split("."))._internalPath}catch{throw Mv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mv(t,e,n,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new le(ee.INVALID_ARGUMENT,c+t+f)}function yL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X7 extends lm{data(){return super.data()}}function Fy(t,e){return typeof e=="string"?US(t,e):e instanceof Co?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BS{}class zm extends BS{}function no(t,e,...n){let r=[];e instanceof BS&&r.push(e),r=r.concat(n),function(a){const u=a.filter(f=>f instanceof qS).length,c=a.filter(f=>f instanceof $y).length;if(u>1||u>0&&c>0)throw new le(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class $y extends zm{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $y(e,n,r)}_apply(e){const n=this._parse(e);return wL(e._query,n),new yr(e.firestore,e.converter,lT(e._query,n))}_parse(e){const n=vl(e.firestore);return function(a,u,c,f,h,m,g){let y;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new le(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){XC(g,m);const E=[];for(const T of g)E.push(QC(f,a,T));y={arrayValue:{values:E}}}else y=QC(f,a,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||XC(g,m),y=pL(c,u,g,m==="in"||m==="not-in");return Ye.create(h,m,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Z7(t,e,n){const r=e,i=Fy("where",t);return $y._create(i,r,n)}class qS extends BS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ht.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let u=i;const c=a.getFlattenedFilters();for(const f of c)wL(u,f),u=lT(u,f)}(e._query,n),new yr(e.firestore,e.converter,lT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zS extends zm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zS(e,n)}_apply(e){const n=function(i,a,u){if(i.startAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new im(a,u)}(e._query,this._field,this._direction);return new yr(e.firestore,e.converter,function(i,a){const u=i.explicitOrderBy.concat([a]);return new gs(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function J7(t,e="asc"){const n=e,r=Fy("orderBy",t);return zS._create(r,n)}class Hy extends zm{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Hy(e,n,r)}_apply(e){return new yr(e.firestore,e.converter,Sv(e._query,this._limit,this._limitType))}}function e$(t){return eV("limit",t),Hy._create("limit",t,"F")}function t$(t){return eV("limitToLast",t),Hy._create("limitToLast",t,"L")}class Ky extends zm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ky(e,n,r)}_apply(e){const n=bL(e,this.type,this._docOrFields,this._inclusive);return new yr(e.firestore,e.converter,function(i,a){return new gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,n))}}function n$(...t){return Ky._create("startAt",t,!0)}function r$(...t){return Ky._create("startAfter",t,!1)}class Gy extends zm{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Gy(e,n,r)}_apply(e){const n=bL(e,this.type,this._docOrFields,this._inclusive);return new yr(e.firestore,e.converter,function(i,a){return new gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)}(e._query,n))}}function i$(...t){return Gy._create("endBefore",t,!1)}function a$(...t){return Gy._create("endAt",t,!0)}function bL(t,e,n,r){if(n[0]=Re(n[0]),n[0]instanceof lm)return function(a,u,c,f,h){if(!f)throw new le(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const m=[];for(const g of Uc(a))if(g.field.isKeyField())m.push(Ju(u,f.key));else{const y=f.data.field(g.field);if(Oy(y))throw new le(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const b=g.field.canonicalString();throw new le(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}m.push(y)}return new Po(m,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=vl(t.firestore);return function(u,c,f,h,m,g){const y=u.explicitOrderBy;if(m.length>y.length)throw new le(ee.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let E=0;E<m.length;E++){const T=m[E];if(y[E].field.isKeyField()){if(typeof T!="string")throw new le(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof T}`);if(!QA(u)&&T.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${T}' contains a slash.`);const A=u.path.child(We.fromString(T));if(!ge.isDocumentKey(A))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const x=new ge(A);b.push(Ju(c,x))}else{const A=pL(f,h,T);b.push(A)}}return new Po(b,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function QC(t,e,n){if(typeof(n=Re(n))=="string"){if(n==="")throw new le(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QA(e)&&n.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!ge.isDocumentKey(r))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ju(t,new ge(r))}if(n instanceof It)return Ju(t,n._key);throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ay(n)}.`)}function XC(t,e){if(!Array.isArray(t)||t.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wL(t,e){const n=function(i,a){for(const u of i)for(const c of u.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class FS{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[tf].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>Dt(u.doubleValue));return new _a(a)}convertGeoPoint(e){return new Ui(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tm(e));default:return null}}convertTimestamp(e){const n=ls(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Te(cj(r),9688,{name:e});const i=new So(r.get(1),r.get(3)),a=new ge(r.popFirst(5));return i.isEqual(n)||Zt(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class s$ extends FS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}class Lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let wi=class EL extends lm{constructor(e,n,r,i,a,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=EL._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};wi._jsonSchemaVersion="firestore/documentSnapshot/1.0",wi._jsonSchema={type:dn("string",wi._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};let Ud=class extends wi{data(e={}){return super.data(e)}},Bi=class TL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ud(this._firestore,this._userDataWriter,r.key,r,new Lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(c=>{const f=new Ud(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new Ud(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),m=u.indexOf(c.doc.key)),{type:o$(c.type),doc:f,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=TL._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=UA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function o$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}function AL(t,e){return t instanceof wi&&e instanceof wi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Bi&&e instanceof Bi&&t._firestore===e._firestore&&lL(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(t){t=rt(t,It);const e=rt(t.firestore,en);return tL(or(e),t._key).then(n=>$S(e,t,n))}Bi._jsonSchemaVersion="firestore/querySnapshot/1.0",Bi._jsonSchema={type:dn("string",Bi._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class _l extends FS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ar(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function l$(t){t=rt(t,It);const e=rt(t.firestore,en),n=or(e),r=new _l(e);return R7(n,t._key).then(i=>new wi(e,r,t._key,i,new Lu(i!==null&&i.hasLocalMutations,!0),t.converter))}function c$(t){t=rt(t,It);const e=rt(t.firestore,en);return tL(or(e),t._key,{source:"server"}).then(n=>$S(e,t,n))}function f$(t){t=rt(t,yr);const e=rt(t.firestore,en),n=or(e),r=new _l(e);return _L(t._query),nL(n,t._query).then(i=>new Bi(e,r,t,i))}function h$(t){t=rt(t,yr);const e=rt(t.firestore,en),n=or(e),r=new _l(e);return C7(n,t._query).then(i=>new Bi(e,r,t,i))}function d$(t){t=rt(t,yr);const e=rt(t.firestore,en),n=or(e),r=new _l(e);return nL(n,t._query,{source:"server"}).then(i=>new Bi(e,r,t,i))}function ZC(t,e,n){t=rt(t,It);const r=rt(t.firestore,en),i=Wy(t.converter,e,n);return Fm(r,[zy(vl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mt.none())])}function JC(t,e,n,...r){t=rt(t,It);const i=rt(t.firestore,en),a=vl(i);let u;return u=typeof(e=Re(e))=="string"||e instanceof Co?jS(a,"updateDoc",t._key,e,n,r):VS(a,"updateDoc",t._key,e),Fm(i,[u.toMutation(t._key,Mt.exists(!0))])}function m$(t){return Fm(rt(t.firestore,en),[new Df(t._key,Mt.none())])}function p$(t,e){const n=rt(t.firestore,en),r=kv(t),i=Wy(t.converter,e);return Fm(n,[zy(vl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mt.exists(!1))]).then(()=>r)}function SL(t,...e){var n,r,i;t=Re(t);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||ET(e[u])||(a=e[u++]);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(ET(e[u])){const g=e[u];e[u]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[u+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[u+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let f,h,m;if(t instanceof It)h=rt(t.firestore,en),m=Rf(t._key.path),f={next:g=>{e[u]&&e[u]($S(h,t,g))},error:e[u+1],complete:e[u+2]};else{const g=rt(t,yr);h=rt(g.firestore,en),m=g._query;const y=new _l(h);f={next:b=>{e[u]&&e[u](new Bi(h,y,g,b))},error:e[u+1],complete:e[u+2]},_L(t._query)}return function(y,b,E,T){const A=new Uy(T),x=new TS(b,A,E);return y.asyncQueue.enqueueAndForget(async()=>bS(await df(y),x)),()=>{A.Ou(),y.asyncQueue.enqueueAndForget(async()=>wS(await df(y),x))}}(or(h),m,c,f)}function g$(t,e){return D7(or(t=rt(t,en)),ET(e)?e:{next:e})}function Fm(t,e){return function(r,i){const a=new Yn;return r.asyncQueue.enqueueAndForget(async()=>a7(await CS(r),i,a)),a.promise}(or(t),e)}function $S(t,e,n){const r=n.docs.get(e._key),i=new _l(t);return new wi(t,i,e._key,r,new Lu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y$=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=vl(e)}set(e,n,r){this._verifyNotCommitted();const i=co(e,this._firestore),a=Wy(i.converter,n,r),u=zy(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,Mt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=co(e,this._firestore);let u;return u=typeof(n=Re(n))=="string"||n instanceof Co?jS(this._dataReader,"WriteBatch.update",a._key,n,r,i):VS(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(u.toMutation(a._key,Mt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=co(e,this._firestore);return this._mutations=this._mutations.concat(new Df(n._key,Mt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function co(t,e){if((t=Re(t)).firestore!==e)throw new le(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=vl(e)}get(e){const n=co(e,this._firestore),r=new s$(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return _e(24041);const a=i[0];if(a.isFoundDocument())return new lm(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new lm(this._firestore,r,n._key,null,n.converter);throw _e(18433,{doc:a})})}set(e,n,r){const i=co(e,this._firestore),a=Wy(i.converter,n,r),u=zy(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,n,r,...i){const a=co(e,this._firestore);let u;return u=typeof(n=Re(n))=="string"||n instanceof Co?jS(this._dataReader,"Transaction.update",a._key,n,r,i):VS(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,u),this}delete(e){const n=co(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b$=class extends _${constructor(e,n){super(e,n),this._firestore=e}get(e){const n=co(e,this._firestore),r=new _l(this._firestore);return super.get(e).then(i=>new wi(this._firestore,r,n._key,i._document,new Lu(!1,!1),n.converter))}};function w$(t,e,n){t=rt(t,en);const r=Object.assign(Object.assign({},v$),n);return function(a){if(a.maxAttempts<1)throw new le(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,u,c){const f=new Yn;return a.asyncQueue.enqueueAndForget(async()=>{const h=await x7(a);new S7(a.asyncQueue,h,c,u,f).zu()}),f.promise}(or(t),i=>e(new b$(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(){return new qm("deleteField")}function T$(){return new DS("serverTimestamp")}function A$(...t){return new NS("arrayUnion",t)}function S$(...t){return new kS("arrayRemove",t)}function I$(t){return new MS("increment",t)}(function(e,n=!0){(function(i){Of=i})(No),To(new wa("firestore",(r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),c=new en(new bz(r.getProvider("auth-internal")),new Tz(u,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new le(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(h.options.projectId,m)}(u,i),u);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Li(PR,OR,e),Li(PR,OR,"esm2017")})();const x$="@firebase/firestore-compat",P$="0.3.53";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new le("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(){if(typeof Uint8Array>"u")throw new le("unimplemented","Uint8Arrays are not available in this environment.")}function tD(){if(!rF())throw new le("unimplemented","Blobs are unavailable in Firestore in this environment.")}let IL=class AT{constructor(e){this._delegate=e}static fromBase64String(e){return tD(),new AT(ar.fromBase64String(e))}static fromUint8Array(e){return eD(),new AT(ar.fromUint8Array(e))}toBase64(){return tD(),this._delegate.toBase64()}toUint8Array(){return eD(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t){return O$(t,["next","error","complete"])}function O$(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${enableIndexedDbPersistence(e,n){return U7(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return B7(e._delegate)}clearIndexedDbPersistence(e){return q7(e._delegate)}}class xL{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof So||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Yr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){M7(this._delegate,e,n,r)}enableNetwork(){return F7(this._delegate)}disableNetwork(){return $7(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ZM("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return z7(this._delegate)}onSnapshotsInSync(e){return g$(this._delegate,e)}get app(){if(!this._appCompat)throw new le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new mf(this,oL(this._delegate,e))}catch(n){throw mr(n,"collection()","Firestore.collection()")}}doc(e){try{return new yi(this,kv(this._delegate,e))}catch(n){throw mr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new dr(this,V7(this._delegate,e))}catch(n){throw mr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return w$(this._delegate,n=>e(new PL(this,n)))}batch(){return or(this._delegate),new OL(new y$(this._delegate,e=>Fm(this._delegate,e)))}loadBundle(e){return H7(this._delegate,e)}namedQuery(e){return K7(this._delegate,e).then(n=>n?new dr(this,n):null)}}class Yy extends FS{constructor(e){super(),this.firestore=e}convertBytes(e){return new IL(new ar(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return yi.forKey(n,this.firestore,null)}}function C$(t){gz(t)}class PL{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Yy(e)}get(e){const n=Uu(e);return this._delegate.get(n).then(r=>new cm(this._firestore,new wi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Uu(e);return r?(HS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=Uu(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=Uu(e);return this._delegate.delete(n),this}}class OL{constructor(e){this._delegate=e}set(e,n,r){const i=Uu(e);return r?(HS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const a=Uu(e);return arguments.length===2?this._delegate.update(a,n):this._delegate.update(a,n,r,...i),this}delete(e){const n=Uu(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ol{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Ud(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fm(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ol.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(n);return a||(a=new ol(e,new Yy(e),n),i.set(n,a)),a}}ol.INSTANCES=new WeakMap;class yi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Yy(e)}static forPath(e,n,r){if(e.length%2!==0)throw new le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new yi(n,new It(n._delegate,r,new ge(e)))}static forKey(e,n,r){return new yi(n,new It(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new mf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new mf(this.firestore,oL(this._delegate,e))}catch(n){throw mr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Re(e),e instanceof It?uL(this._delegate,e):!1}set(e,n){n=HS("DocumentReference.set",n);try{return n?ZC(this._delegate,e,n):ZC(this._delegate,e)}catch(r){throw mr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?JC(this._delegate,e):JC(this._delegate,e,n,...r)}catch(i){throw mr(i,"updateDoc()","DocumentReference.update()")}}delete(){return m$(this._delegate)}onSnapshot(...e){const n=RL(e),r=CL(e,i=>new cm(this.firestore,new wi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return SL(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=l$(this._delegate):e?.source==="server"?n=c$(this._delegate):n=u$(this._delegate),n.then(r=>new cm(this.firestore,new wi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new yi(this.firestore,e?this._delegate.withConverter(ol.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mr(t,e,n){return t.message=t.message.replace(e,n),t}function RL(t){for(const e of t)if(typeof e=="object"&&!ST(e))return e;return{}}function CL(t,e){var n,r;let i;return ST(t[0])?i=t[0]:ST(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:a=>{i.next&&i.next(e(a))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class cm{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new yi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return AL(this._delegate,e._delegate)}}class fm extends cm{data(e){const n=this._delegate.data(e);return this._delegate._converter||vz(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class dr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Yy(e)}where(e,n,r){try{return new dr(this.firestore,no(this._delegate,Z7(e,n,r)))}catch(i){throw mr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new dr(this.firestore,no(this._delegate,J7(e,n)))}catch(r){throw mr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new dr(this.firestore,no(this._delegate,e$(e)))}catch(n){throw mr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new dr(this.firestore,no(this._delegate,t$(e)))}catch(n){throw mr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new dr(this.firestore,no(this._delegate,n$(...e)))}catch(n){throw mr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new dr(this.firestore,no(this._delegate,r$(...e)))}catch(n){throw mr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new dr(this.firestore,no(this._delegate,i$(...e)))}catch(n){throw mr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new dr(this.firestore,no(this._delegate,a$(...e)))}catch(n){throw mr(n,"endAt()","Query.endAt()")}}isEqual(e){return lL(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=h$(this._delegate):e?.source==="server"?n=d$(this._delegate):n=f$(this._delegate),n.then(r=>new IT(this.firestore,new Bi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=RL(e),r=CL(e,i=>new IT(this.firestore,new Bi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return SL(this._delegate,n,r)}withConverter(e){return new dr(this.firestore,e?this._delegate.withConverter(ol.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class D${constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new fm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IT{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new dr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new fm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new D$(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new fm(this._firestore,r))})}isEqual(e){return AL(this._delegate,e._delegate)}}class mf extends dr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new yi(this.firestore,e):null}doc(e){try{return e===void 0?new yi(this.firestore,kv(this._delegate)):new yi(this.firestore,kv(this._delegate,e))}catch(n){throw mr(n,"doc()","CollectionReference.doc()")}}add(e){return p$(this._delegate,e).then(n=>new yi(this.firestore,n))}isEqual(e){return uL(this._delegate,e._delegate)}withConverter(e){return new mf(this.firestore,e?this._delegate.withConverter(ol.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Uu(t){return rt(t,It)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(...e){this._delegate=new Co(...e)}static documentId(){return new KS(kt.keyField().canonicalString())}isEqual(e){return e=Re(e),e instanceof Co?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{static serverTimestamp(){const e=T$();return e._methodName="FieldValue.serverTimestamp",new Vu(e)}static delete(){const e=E$();return e._methodName="FieldValue.delete",new Vu(e)}static arrayUnion(...e){const n=A$(...e);return n._methodName="FieldValue.arrayUnion",new Vu(n)}static arrayRemove(...e){const n=S$(...e);return n._methodName="FieldValue.arrayRemove",new Vu(n)}static increment(e){const n=I$(e);return n._methodName="FieldValue.increment",new Vu(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$={Firestore:xL,GeoPoint:Ui,Timestamp:ut,Blob:IL,Transaction:PL,WriteBatch:OL,DocumentReference:yi,DocumentSnapshot:cm,Query:dr,QueryDocumentSnapshot:fm,QuerySnapshot:IT,CollectionReference:mf,FieldPath:KS,FieldValue:Vu,setLogLevel:C$,CACHE_SIZE_UNLIMITED:L7};function k$(t,e){t.INTERNAL.registerComponent(new wa("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},N$)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(t){k$(t,(e,n)=>new xL(e,n,new R$)),t.registerVersion(x$,P$)}M$(Ea);function GS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const ld={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Ic={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function DL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j$=V$,L$=DL,NL=new pl("auth","Firebase",DL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Ty("@firebase/auth");function U$(t,...e){Vv.logLevel<=Ge.WARN&&Vv.warn(`Auth (${No}): ${t}`,...e)}function fv(t,...e){Vv.logLevel<=Ge.ERROR&&Vv.error(`Auth (${No}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw YS(t,...e)}function Tn(t,...e){return YS(t,...e)}function WS(t,e,n){const r=Object.assign(Object.assign({},L$()),{[e]:n});return new pl("auth","Firebase",r).create(e,{appName:t.name})}function Mn(t){return WS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jf(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(t,"argument-error"),WS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function YS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NL.create(t,...e)}function me(t,e,...n){if(!t)throw YS(e,...n)}function pa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fv(e),new Error(e)}function qi(t,e){t||pa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QS(){return nD()==="http:"||nD()==="https:"}function nD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QS()||SM()||"connection"in navigator)?navigator.onLine:!0}function q$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=L9()||DA()}get(){return B$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$$=new $m(3e4,6e4);function Kt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gt(t,e,n,r,i={}){return ML(t,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const c=Pf(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:f},a);return B9()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&xf(t.emulatorConfig.host)&&(h.credentials="include"),kL.fetch()(await VL(t,t.config.apiHost,n,c),h)})}async function ML(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},z$),e);try{const i=new K$(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw xd(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const c=a.ok?u.errorMessage:u.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw xd(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw xd(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw xd(t,"user-disabled",u);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw WS(t,m,h);Qn(t,m)}}catch(i){if(i instanceof gr)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function bs(t,e,n,r,i={}){const a=await Gt(t,e,n,r,i);return"mfaPendingCredential"in a&&Qn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function VL(t,e,n,r){const i=`${e}${n}?${r}`,a=t,u=a.config.emulator?XS(t.config,i):`${t.config.apiScheme}://${i}`;return F$.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function H$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tn(this.auth,"network-request-failed")),$$.get())})}}function xd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){return t!==void 0&&t.getResponse!==void 0}function iD(t){return t!==void 0&&t.enterprise!==void 0}class jL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G$(t){return(await Gt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function LL(t,e){return Gt(t,"GET","/v2/recaptchaConfig",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$(t,e){return Gt(t,"POST","/v1/accounts:delete",e)}async function Y$(t,e){return Gt(t,"POST","/v1/accounts:update",e)}async function jv(t,e){return Gt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q$(t,e=!1){const n=Re(t),r=await n.getIdToken(e),i=Qy(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a?.sign_in_provider;return{claims:i,token:r,authTime:Bd(iw(i.auth_time)),issuedAtTime:Bd(iw(i.iat)),expirationTime:Bd(iw(i.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function iw(t){return Number(t)*1e3}function Qy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fv("JWT malformed, contained fewer than 3 sections"),null;try{const i=OA(n);return i?JSON.parse(i):(fv("Failed to decode base64 JWT payload"),null)}catch(i){return fv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function aD(t){const e=Qy(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gr&&X$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function X$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bd(this.lastLoginAt),this.creationTime=Bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fs(t,jv(n,{idToken:r}));me(i?.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?UL(a.providerUserInfo):[],c=eH(t.providerData,u),f=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!c?.length,m=f?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new xT(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function J$(t){const e=Re(t);await dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UL(t){return t.map(e=>{var{providerId:n}=e,r=GS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tH(t,e){const n=await ML(t,{},async()=>{const r=Pf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,u=await VL(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&xf(t.emulatorConfig.host)&&(f.credentials="include"),kL.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nH(t,e){return Gt(t,"POST","/v2/accounts:revokeToken",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=aD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await tH(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,u=new qc;return r&&(me(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(me(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qc,this.toJSON())}_performRefresh(){return pa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ji{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=GS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new xT(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await fs(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q$(this,e)}reload(){return J$(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nt(this.auth.app))return Promise.reject(Mn(this.auth));const e=await this.getIdToken();return await fs(this,W$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,u,c,f,h,m;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,E=(u=n.photoURL)!==null&&u!==void 0?u:void 0,T=(c=n.tenantId)!==null&&c!==void 0?c:void 0,A=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,x=(h=n.createdAt)!==null&&h!==void 0?h:void 0,R=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:P,emailVerified:U,isAnonymous:L,providerData:$,stsTokenManager:C}=n;me(P&&C,e,"internal-error");const D=qc.fromJSON(this.name,C);me(typeof P=="string",e,"internal-error"),ro(g,e.name),ro(y,e.name),me(typeof U=="boolean",e,"internal-error"),me(typeof L=="boolean",e,"internal-error"),ro(b,e.name),ro(E,e.name),ro(T,e.name),ro(A,e.name),ro(x,e.name),ro(R,e.name);const M=new ji({uid:P,auth:e,email:y,emailVerified:U,displayName:g,isAnonymous:L,photoURL:E,phoneNumber:b,tenantId:T,stsTokenManager:D,createdAt:x,lastLoginAt:R});return $&&Array.isArray($)&&(M.providerData=$.map(q=>Object.assign({},q))),A&&(M._redirectEventId=A),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new qc;i.updateFromServerResponse(n);const a=new ji({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dm(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?UL(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!a?.length,c=new qc;c.updateFromIdToken(r);const f=new ji({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:u}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new xT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new Map;function Hr(t){qi(t instanceof Function,"Expected a class definition");let e=sD.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BL.type="NONE";const pf=BL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t,e,n){return`firebase:${t}:${e}:${n}`}class zc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Ku(this.userKey,i.apiKey,a),this.fullPersistenceKey=Ku("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jv(this.auth,{idToken:e}).catch(()=>{});return n?ji._fromGetAccountInfoResponse(this.auth,n,e):null}return ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zc(Hr(pf),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Hr(pf);const u=Ku(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(u);if(m){let g;if(typeof m=="string"){const y=await jv(e,{idToken:m}).catch(()=>{});if(!y)break;g=await ji._fromGetAccountInfoResponse(e,y,m)}else g=ji._fromJSON(e,m);h!==a&&(c=g),a=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new zc(a,e,r):(a=f[0],c&&await a._set(u,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(u)}catch{}})),new zc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($L(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HL(e))return"Blackberry";if(KL(e))return"Webos";if(zL(e))return"Safari";if((e.includes("chrome/")||FL(e))&&!e.includes("edge/"))return"Chrome";if(Hm(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function qL(t=Ut()){return/firefox\//i.test(t)}function zL(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FL(t=Ut()){return/crios\//i.test(t)}function $L(t=Ut()){return/iemobile/i.test(t)}function Hm(t=Ut()){return/android/i.test(t)}function HL(t=Ut()){return/blackberry/i.test(t)}function KL(t=Ut()){return/webos/i.test(t)}function Km(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rH(t=Ut()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function iH(t=Ut()){var e;return Km(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aH(){return IM()&&document.documentMode===10}function GL(t=Ut()){return Km(t)||Hm(t)||KL(t)||HL(t)||/windows phone/i.test(t)||$L(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e=[]){let n;switch(t){case"Browser":n=oD(Ut());break;case"Worker":n=`${oD(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,c)=>{try{const f=e(a);u(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oH(t,e={}){return Gt(t,"GET","/v2/passwordPolicy",Kt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH=6;class lH{constructor(e){var n,r,i,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:uH,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,u,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uD(this),this.idTokenSubscription=new uD(this),this.beforeStateQueue=new sH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await zc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jv(this,{idToken:e}),r=await ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nt(this.app))return Promise.reject(Mn(this));const n=e?Re(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nt(this.app)?Promise.reject(Mn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nt(this.app)?Promise.reject(Mn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oH(this),n=new lH(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await zc.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(c,this,"internal-error"),c.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Nt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&U$(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Bt(t){return Re(t)}class uD{constructor(e){this.auth=e,this.observer=null,this.addObserver=OM(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fH(t){Gm=t}function ZS(t){return Gm.loadJS(t)}function hH(){return Gm.recaptchaV2Script}function dH(){return Gm.recaptchaEnterpriseScript}function mH(){return Gm.gapiScript}function YL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=500,gH=6e4,Lg=1e12;class vH{constructor(e){this.auth=e,this.counter=Lg,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new bH(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Lg;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Lg;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Lg;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class yH{constructor(){this.enterprise=new _H}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _H{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bH{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=wH(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},gH)},pH))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function wH(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const EH="recaptcha-enterprise",qd="NO_RECAPTCHA";class QL{constructor(e){this.type=EH,this.auth=Bt(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,c)=>{LL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new jL(f);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}}).catch(f=>{c(f)})})}function i(a,u,c){const f=window.grecaptcha;iD(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(h=>{u(h)}).catch(()=>{u(qd)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yH().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(c=>{if(!n&&iD(window.grecaptcha))i(c,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=dH();f.length!==0&&(f+=c),ZS(f).then(()=>{i(c,a,u)}).catch(h=>{u(h)})}}).catch(c=>{u(c)})})}}async function cd(t,e,n,r=!1,i=!1){const a=new QL(t);let u;if(i)u=qd;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function vo(t,e,n,r,i){var a,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await cd(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await cd(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(c)});else if(i==="PHONE_PROVIDER")if(!((u=t._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const c=await cd(t,e,n);return r(t,c).catch(async f=>{var h;if(((h=t._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const m=await cd(t,e,n,!1,!0);return r(t,m)}return Promise.reject(f)})}else{const c=await cd(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(i+" provider is not supported.")}async function TH(t){const e=Bt(t),n=await LL(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new jL(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new QL(e).verify()}function AH(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function SH(t,e,n){const r=Bt(t);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,a=XL(e),{host:u,port:c}=IH(e),f=c===null?"":`:${c}`,h={url:`${a}//${u}${f}/`},m=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(bo(h,r.config.emulator)&&bo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,xf(u)?(EM(`${a}//${u}${f}`),TM("Auth",!0)):i||xH()}function XL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IH(t){const e=XL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:lD(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:lD(u)}}}function lD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pa("not implemented")}_getIdTokenResponse(e){return pa("not implemented")}_linkToIdToken(e,n){return pa("not implemented")}_getReauthenticationResolver(e){return pa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e){return Gt(t,"POST","/v1/accounts:resetPassword",Kt(t,e))}async function PH(t,e){return Gt(t,"POST","/v1/accounts:update",e)}async function OH(t,e){return Gt(t,"POST","/v1/accounts:signUp",e)}async function RH(t,e){return Gt(t,"POST","/v1/accounts:update",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CH(t,e){return bs(t,"POST","/v1/accounts:signInWithPassword",Kt(t,e))}async function Xy(t,e){return Gt(t,"POST","/v1/accounts:sendOobCode",Kt(t,e))}async function DH(t,e){return Xy(t,e)}async function NH(t,e){return Xy(t,e)}async function kH(t,e){return Xy(t,e)}async function MH(t,e){return Xy(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VH(t,e){return bs(t,"POST","/v1/accounts:signInWithEmailLink",Kt(t,e))}async function jH(t,e){return bs(t,"POST","/v1/accounts:signInWithEmailLink",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends Lf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new mm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vo(e,n,"signInWithPassword",CH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return VH(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vo(e,r,"signUpPassword",OH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return jH(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ss(t,e){return bs(t,"POST","/v1/accounts:signInWithIdp",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH="http://localhost";class Aa extends Lf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=GS(n,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Aa(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ss(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ss(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ss(e,n)}buildRequest(){const e={requestUri:LH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e){return Gt(t,"POST","/v1/accounts:sendVerificationCode",Kt(t,e))}async function UH(t,e){return bs(t,"POST","/v1/accounts:signInWithPhoneNumber",Kt(t,e))}async function BH(t,e){const n=await bs(t,"POST","/v1/accounts:signInWithPhoneNumber",Kt(t,e));if(n.temporaryProof)throw xd(t,"account-exists-with-different-credential",n);return n}const qH={USER_NOT_FOUND:"user-not-found"};async function zH(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return bs(t,"POST","/v1/accounts:signInWithPhoneNumber",Kt(t,n),qH)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Lf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Gu({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Gu({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return UH(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return BH(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return zH(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!n&&!i&&!a?null:new Gu({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $H(t){const e=Vc(wd(t)).link,n=e?Vc(wd(e)).deep_link_id:null,r=Vc(wd(t)).deep_link_id;return(r?Vc(wd(r)).link:null)||r||n||e||t}class Zy{constructor(e){var n,r,i,a,u,c;const f=Vc(wd(e)),h=(n=f.apiKey)!==null&&n!==void 0?n:null,m=(r=f.oobCode)!==null&&r!==void 0?r:null,g=FH((i=f.mode)!==null&&i!==void 0?i:null);me(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=$H(e);try{return new Zy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,n){return mm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zy.parseLink(n);return me(r,"argument-error"),mm._fromEmailAndCode(e,r.code,r.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf extends ws{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fc extends Uf{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return me("providerId"in n&&"signInMethod"in n,"argument-error"),Aa._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),Aa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Fc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Fc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:u,providerId:c}=e;if(!r&&!i&&!n&&!a||!c)return null;try{return new Fc(c)._credential({idToken:n,accessToken:r,nonce:u,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends Uf{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.FACEBOOK_SIGN_IN_METHOD="facebook.com";la.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca extends Uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Aa._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ca.credential(n,r)}catch{return null}}}ca.GOOGLE_SIGN_IN_METHOD="google.com";ca.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Uf{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.GITHUB_SIGN_IN_METHOD="github.com";fa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH="http://localhost";class gf extends Lf{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ss(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ss(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ss(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=n;return!r||!i||!a||r!==i?null:new gf(r,a)}static _create(e,n){return new gf(e,n)}buildRequest(){return{requestUri:HH,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH="saml.";class Lv extends ws{constructor(e){me(e.startsWith(KH),"argument-error"),super(e)}static credentialFromResult(e){return Lv.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Lv.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=gf.fromJSON(e);return me(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return gf._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Uf{constructor(){super("twitter.com")}static credential(e,n){return Aa._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ha.credential(n,r)}catch{return null}}}ha.TWITTER_SIGN_IN_METHOD="twitter.com";ha.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e){return bs(t,"POST","/v1/accounts:signUp",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ji._fromIdTokenResponse(e,r,i),u=fD(r);return new Ei({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fD(r);return new Ei({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GH(t){var e;if(Nt(t.app))return Promise.reject(Mn(t));const n=Bt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ei({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await JL(n,{returnSecureToken:!0}),i=await Ei._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv extends gr{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uv.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Uv(e,n,r,i)}}function e4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Uv._fromErrorAndOperation(t,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WH(t,e){const n=Re(t);await Jy(!0,n,e);const{providerUserInfo:r}=await Y$(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=t4(r||[]);return n.providerData=n.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function JS(t,e,n=!1){const r=await fs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ei._forOperation(t,"link",r)}async function Jy(t,e,n){await dm(e);const r=t4(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";me(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e,n=!1){const{auth:r}=t;if(Nt(r.app))return Promise.reject(Mn(r));const i="reauthenticate";try{const a=await fs(t,e4(r,i,e,t),n);me(a.idToken,r,"internal-error");const u=Qy(a.idToken);me(u,r,"internal-error");const{sub:c}=u;return me(t.uid===c,r,"user-mismatch"),Ei._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Qn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t,e,n=!1){if(Nt(t.app))return Promise.reject(Mn(t));const r="signIn",i=await e4(t,r,e),a=await Ei._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function e_(t,e){return r4(Bt(t),e)}async function i4(t,e){const n=Re(t);return await Jy(!1,n,e.providerId),JS(n,e)}async function a4(t,e){return n4(Re(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YH(t,e){return bs(t,"POST","/v1/accounts:signInWithCustomToken",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QH(t,e){if(Nt(t.app))return Promise.reject(Mn(t));const n=Bt(t),r=await YH(n,{token:e,returnSecureToken:!0}),i=await Ei._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?e1._fromServerResponse(e,n):"totpInfo"in n?t1._fromServerResponse(e,n):Qn(e,"internal-error")}}class e1 extends Wm{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new e1(n)}}class t1 extends Wm{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new t1(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e,n){var r;me(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),me(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),me(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(me(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(me(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(t){const e=Bt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XH(t,e,n){const r=Bt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&t_(r,i,n),await vo(r,i,"getOobCode",NH,"EMAIL_PASSWORD_PROVIDER")}async function ZH(t,e,n){await ZL(Re(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&n1(t),r})}async function JH(t,e){await RH(Re(t),{oobCode:e})}async function s4(t,e){const n=Re(t),r=await ZL(n,{oobCode:e}),i=r.requestType;switch(me(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,n,"internal-error");default:me(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=Wm._fromServerResponse(Bt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function eK(t,e){const{data:n}=await s4(Re(t),e);return n.email}async function tK(t,e,n){if(Nt(t.app))return Promise.reject(Mn(t));const r=Bt(t),u=await vo(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JL,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&n1(t),f}),c=await Ei._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function nK(t,e,n){return Nt(t.app)?Promise.reject(Mn(t)):e_(Re(t),Uo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&n1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rK(t,e,n){const r=Bt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(u,c){me(c.handleCodeInApp,r,"argument-error"),c&&t_(r,u,c)}a(i,n),await vo(r,i,"getOobCode",kH,"EMAIL_PASSWORD_PROVIDER")}function iK(t,e){const n=Zy.parseLink(e);return n?.operation==="EMAIL_SIGNIN"}async function aK(t,e,n){if(Nt(t.app))return Promise.reject(Mn(t));const r=Re(t),i=Uo.credentialWithLink(e,n||hm());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),e_(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sK(t,e){return Gt(t,"POST","/v1/accounts:createAuthUri",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oK(t,e){const n=QS()?hm():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await sK(Re(t),r);return i||[]}async function uK(t,e){const n=Re(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&t_(n.auth,i,e);const{email:a}=await DH(n.auth,i);a!==t.email&&await t.reload()}async function lK(t,e,n){const r=Re(t),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&t_(r.auth,a,n);const{email:u}=await MH(r.auth,a);u!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cK(t,e){return Gt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fK(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Re(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await fs(r,cK(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function hK(t,e){const n=Re(t);return Nt(n.auth.app)?Promise.reject(Mn(n.auth)):o4(n,e,null)}function dK(t,e){return o4(Re(t),null,e)}async function o4(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const u=await fs(t,PH(r,a));await t._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mK(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},a=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&t?.idToken){const u=(n=(e=Qy(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(u){const c=u!=="anonymous"&&u!=="custom"?u:null;return new $c(a,c)}}if(!r)return null;switch(r){case"facebook.com":return new pK(a,i);case"github.com":return new gK(a,i);case"google.com":return new vK(a,i);case"twitter.com":return new yK(a,i,t.screenName||null);case"custom":case"anonymous":return new $c(a,null);default:return new $c(a,r,i)}}class $c{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class u4 extends $c{constructor(e,n,r,i){super(e,n,r),this.username=i}}class pK extends $c{constructor(e,n){super(e,"facebook.com",n)}}class gK extends u4{constructor(e,n){super(e,"github.com",n,typeof n?.login=="string"?n?.login:null)}}class vK extends $c{constructor(e,n){super(e,"google.com",n)}}class yK extends u4{constructor(e,n,r){super(e,"twitter.com",n,r)}}function _K(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:mK(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Bu("enroll",e,n)}static _fromMfaPendingCredential(e){return new Bu("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e?.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Bu._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Bu._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Bt(e),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(c=>Wm._fromServerResponse(r,c));me(i.mfaPendingCredential,r,"internal-error");const u=Bu._fromMfaPendingCredential(i.mfaPendingCredential);return new r1(u,a,async c=>{const f=await c._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:f.idToken,refreshToken:f.refreshToken});switch(n.operationType){case"signIn":const m=await Ei._fromIdTokenResponse(r,n.operationType,h);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return me(n.user,r,"internal-error"),Ei._forOperation(n.user,n.operationType,h);default:Qn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function bK(t,e){var n;const r=Re(t),i=e;return me(e.customData.operationType,r,"argument-error"),me((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),r1._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t,e){return Gt(t,"POST","/v2/accounts/mfaEnrollment:start",Kt(t,e))}function wK(t,e){return Gt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(t,e))}function EK(t,e){return Gt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(t,e))}class i1{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Wm._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new i1(e)}async getSession(){return Bu._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),a=await fs(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await fs(this.user,EK(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const aw=new WeakMap;function TK(t){const e=Re(t);return aw.has(e)||aw.set(e,i1._fromUser(e)),aw.get(e)}const Bv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bv,"1"),this.storage.removeItem(Bv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK=1e3,SK=10;class c4 extends l4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);aH()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SK):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}c4.type="LOCAL";const a1=c4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4 extends l4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}f4.type="SESSION";const ul=f4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new n_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,u=this.handlersMap[i];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(u).map(async h=>h(n.origin,a)),f=await IK(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((c,f)=>{const h=Ym("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(y.data.response);break;default:clearTimeout(m),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return window}function PK(t){fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return typeof fn().WorkerGlobalScope<"u"&&typeof fn().importScripts=="function"}async function OK(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RK(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CK(){return s1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="firebaseLocalStorageDb",DK=1,qv="firebaseLocalStorage",d4="fbase_key";class Qm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function r_(t,e){return t.transaction([qv],e?"readwrite":"readonly").objectStore(qv)}function NK(){const t=indexedDB.deleteDatabase(h4);return new Qm(t).toPromise()}function PT(){const t=indexedDB.open(h4,DK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qv,{keyPath:d4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qv)?e(r):(r.close(),await NK(),e(await PT()))})})}async function dD(t,e,n){const r=r_(t,!0).put({[d4]:e,value:n});return new Qm(r).toPromise()}async function kK(t,e){const n=r_(t,!1).get(e),r=await new Qm(n).toPromise();return r===void 0?null:r.value}function mD(t,e){const n=r_(t,!0).delete(e);return new Qm(n).toPromise()}const MK=800,VK=3;class m4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await PT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=n_._getInstance(CK()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OK(),!this.activeServiceWorker)return;this.sender=new xK(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await PT();return await dD(e,Bv,"1"),await mD(e,Bv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=r_(i,!1).getAll();return new Qm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m4.type="LOCAL";const pm=m4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t,e){return Gt(t,"POST","/v2/accounts/mfaSignIn:start",Kt(t,e))}function jK(t,e){return Gt(t,"POST","/v2/accounts/mfaSignIn:finalize",Kt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=YL("rcb"),LK=new $m(3e4,6e4);class UK{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=fn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return me(BK(n),e,"argument-error"),this.shouldResolveImmediately(n)&&rD(fn().grecaptcha)?Promise.resolve(fn().grecaptcha):new Promise((r,i)=>{const a=fn().setTimeout(()=>{i(Tn(e,"network-request-failed"))},LK.get());fn()[sw]=()=>{fn().clearTimeout(a),delete fn()[sw];const c=fn().grecaptcha;if(!c||!rD(c)){i(Tn(e,"internal-error"));return}const f=c.render;c.render=(h,m)=>{const g=f(h,m);return this.counter++,g},this.hostLanguage=n,r(c)};const u=`${hH()}?${Pf({onload:sw,render:"explicit",hl:n})}`;ZS(u).catch(()=>{clearTimeout(a),i(Tn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=fn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function BK(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class qK{async load(e){return new vH(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="recaptcha",zK={theme:"light",type:"image"};let FK=class{constructor(e,n,r=Object.assign({},zK)){this.parameters=r,this.type=zd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bt(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qK:new UK,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const a=u=>{u&&(this.tokenChangeListeners.delete(a),i(u))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=fn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(QS()&&!s1(),this.auth,"internal-error"),await $K(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await G$(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function $K(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Gu._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function HK(t,e,n){if(Nt(t.app))return Promise.reject(Mn(t));const r=Bt(t),i=await i_(r,e,Re(n));return new o1(i,a=>e_(r,a))}async function KK(t,e,n){const r=Re(t);await Jy(!1,r,"phone");const i=await i_(r.auth,e,Re(n));return new o1(i,a=>i4(r,a))}async function GK(t,e,n){const r=Re(t);if(Nt(r.auth.app))return Promise.reject(Mn(r.auth));const i=await i_(r.auth,e,Re(n));return new o1(i,a=>a4(r,a))}async function i_(t,e,n){var r;if(!t._getRecaptchaConfig())try{await TH(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){me(a.type==="enroll",t,"internal-error");const u={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await vo(t,u,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===qd){me(n?.type===zd,m,"argument-error");const y=await ow(m,g,n);return hD(m,y)}return hD(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{me(a.type==="signin",t,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;me(u,t,"missing-multi-factor-info");const c={mfaPendingCredential:a.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await vo(t,c,"mfaSmsSignIn",async(g,y)=>{if(y.phoneSignInInfo.captchaResponse===qd){me(n?.type===zd,g,"argument-error");const b=await ow(g,y,n);return pD(g,b)}return pD(g,y)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await vo(t,a,"sendVerificationCode",async(h,m)=>{if(m.captchaResponse===qd){me(n?.type===zd,h,"argument-error");const g=await ow(h,m,n);return cD(h,g)}return cD(h,m)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{n?._reset()}}async function WK(t,e){const n=Re(t);if(Nt(n.auth.app))return Promise.reject(Mn(n.auth));await JS(n,e)}async function ow(t,e,n){me(n.type===zd,t,"argument-error");const r=await n.verify();me(typeof r=="string",t,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,c=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:u,clientType:c,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,c=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:u,recaptchaVersion:c}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll=class hv{constructor(e){this.providerId=hv.PROVIDER_ID,this.auth=Bt(e)}verifyPhoneNumber(e,n){return i_(this.auth,e,Re(n))}static credential(e,n){return Gu._fromVerification(e,n)}static credentialFromResult(e){const n=e;return hv.credentialFromTaggedObject(n)}static credentialFromError(e){return hv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Gu._fromTokenResponse(n,r):null}};ll.PROVIDER_ID="phone";ll.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t,e){return e?Hr(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends Lf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ss(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ss(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ss(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YK(t){return r4(t.auth,new u1(t),t.bypassAuthState)}function QK(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),n4(n,new u1(t),t.bypassAuthState)}async function XK(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),JS(n,new u1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YK;case"linkViaPopup":case"linkViaRedirect":return XK;case"reauthViaPopup":case"reauthViaRedirect":return QK;default:Qn(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK=new $m(2e3,1e4);async function JK(t,e,n){if(Nt(t.app))return Promise.reject(Tn(t,"operation-not-supported-in-this-environment"));const r=Bt(t);jf(t,e,ws);const i=bl(r,n);return new ns(r,"signInViaPopup",e,i).executeNotNull()}async function eG(t,e,n){const r=Re(t);if(Nt(r.auth.app))return Promise.reject(Tn(r.auth,"operation-not-supported-in-this-environment"));jf(r.auth,e,ws);const i=bl(r.auth,n);return new ns(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function tG(t,e,n){const r=Re(t);jf(r.auth,e,ws);const i=bl(r.auth,n);return new ns(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ns extends p4{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZK.get())};e()}}ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG="pendingRedirect",Fd=new Map;class rG extends p4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fd.get(this.auth._key());if(!e){try{const r=await iG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fd.set(this.auth._key(),e)}return this.bypassAuthState||Fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iG(t,e){const n=v4(e),r=g4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function l1(t,e){return g4(t)._set(v4(e),"true")}function aG(){Fd.clear()}function c1(t,e){Fd.set(t._key(),e)}function g4(t){return Hr(t._redirectPersistence)}function v4(t){return Ku(nG,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t,e,n){return oG(t,e,n)}async function oG(t,e,n){if(Nt(t.app))return Promise.reject(Mn(t));const r=Bt(t);jf(t,e,ws),await r._initializationPromise;const i=bl(r,n);return await l1(i,r),i._openRedirect(r,e,"signInViaRedirect")}function uG(t,e,n){return lG(t,e,n)}async function lG(t,e,n){const r=Re(t);if(jf(r.auth,e,ws),Nt(r.auth.app))return Promise.reject(Mn(r.auth));await r.auth._initializationPromise;const i=bl(r.auth,n);await l1(i,r.auth);const a=await y4(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function cG(t,e,n){return fG(t,e,n)}async function fG(t,e,n){const r=Re(t);jf(r.auth,e,ws),await r.auth._initializationPromise;const i=bl(r.auth,n);await Jy(!1,r,e.providerId),await l1(i,r.auth);const a=await y4(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function hG(t,e){return await Bt(t)._initializationPromise,a_(t,e,!1)}async function a_(t,e,n=!1){if(Nt(t.app))return Promise.reject(Mn(t));const r=Bt(t),i=bl(r,e),u=await new rG(r,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function y4(t){const e=Ym(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=10*60*1e3;class _4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!b4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dG&&this.cachedEventUids.clear(),this.cachedEventUids.has(gD(e))}saveEventToCache(e){this.cachedEventUids.add(gD(e)),this.lastProcessedEventTime=Date.now()}}function gD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function b4({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e={}){return Gt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gG=/^https?/;async function vG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await w4(t);for(const n of e)try{if(yG(n))return}catch{}Qn(t,"unauthorized-domain")}function yG(t){const e=hm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!gG.test(n))return!1;if(pG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G=new $m(3e4,6e4);function vD(){const t=fn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bG(t){return new Promise((e,n)=>{var r,i,a;function u(){vD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vD(),n(Tn(t,"network-request-failed"))},timeout:_G.get()})}if(!((i=(r=fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=fn().gapi)===null||a===void 0)&&a.load)u();else{const c=YL("iframefcb");return fn()[c]=()=>{gapi.load?u():n(Tn(t,"network-request-failed"))},ZS(`${mH()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw dv=null,e})}let dv=null;function wG(t){return dv=dv||bG(t),dv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=new $m(5e3,15e3),TG="__/auth/iframe",AG="emulator/auth/iframe",SG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xG(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?XS(e,AG):`https://${t.config.authDomain}/${TG}`,r={apiKey:e.apiKey,appName:t.name,v:No},i=IG.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Pf(r).slice(1)}`}async function PG(t){const e=await wG(t),n=fn().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:xG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SG,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=Tn(t,"network-request-failed"),c=fn().setTimeout(()=>{a(u)},EG.get());function f(){fn().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RG=500,CG=600,DG="_blank",NG="http://localhost";class yD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kG(t,e,n,r=RG,i=CG){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},OG),{width:r.toString(),height:i.toString(),top:a,left:u}),h=Ut().toLowerCase();n&&(c=FL(h)?DG:n),qL(h)&&(e=e||NG,f.scrollbars="yes");const m=Object.entries(f).reduce((y,[b,E])=>`${y}${b}=${E},`,"");if(iH(h)&&c!=="_self")return MG(e||"",c),new yD(null);const g=window.open(e||"",c,m);me(g,t,"popup-blocked");try{g.focus()}catch{}return new yD(g)}function MG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG="__/auth/handler",jG="emulator/auth/handler",LG=encodeURIComponent("fac");async function OT(t,e,n,r,i,a){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:No,eventId:i};if(e instanceof ws){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",H9(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(a||{}))u[m]=g}if(e instanceof Uf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(u.scopes=m.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await t._getAppCheckToken(),h=f?`#${LG}=${encodeURIComponent(f)}`:"";return`${UG(t)}?${Pf(c).slice(1)}${h}`}function UG({config:t}){return t.emulator?XS(t,jG):`https://${t.authDomain}/${VG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="webStorageSupport";class BG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ul,this._completeRedirectFn=a_,this._overrideRedirectResult=c1}async _openPopup(e,n,r,i){var a;qi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await OT(e,n,r,hm(),i);return kG(e,u,Ym())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await OT(e,n,r,hm(),i);return PK(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(qi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await PG(e),r=new _4(e);return n.register("authEvent",i=>(me(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uw,{type:uw},i=>{var a;const u=(a=i?.[0])===null||a===void 0?void 0:a[uw];u!==void 0&&n(!!u),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GL()||zL()||Km()}}const qG=BG;class zG{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return pa("unexpected MultiFactorSessionType")}}}class f1 extends zG{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new f1(e)}_finalizeEnroll(e,n,r){return wK(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return jK(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class E4{constructor(){}static assertion(e){return f1._fromCredential(e)}}E4.FACTOR_ID="phone";var _D="@firebase/auth",bD="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HG(t){To(new wa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;me(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WL(t)},h=new cH(r,i,a,f);return AH(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),To(new wa("auth-internal",e=>{const n=Bt(e.getProvider("auth").getImmediate());return(r=>new FG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(_D,bD,$G(t)),Li(_D,bD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG=5*60;N9("authIdTokenMaxAge");function GG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Tn("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",GG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HG("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG=2e3;async function YG(t,e,n){var r;const{BuildInfo:i}=cl();qi(e.sessionId,"AuthEvent did not contain a session ID");const a=await eW(e.sessionId),u={};return Km()?u.ibi=i.packageName:Hm()?u.apn=i.packageName:Qn(t,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=a,OT(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function QG(t){const{BuildInfo:e}=cl(),n={};Km()?n.iosBundleId=e.packageName:Hm()?n.androidPackageName=e.packageName:Qn(t,"operation-not-supported-in-this-environment"),await w4(t,n)}function XG(t){const{cordova:e}=cl();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,rH()?"_blank":"_system","location=yes"),n(i)})})}async function ZG(t,e,n){const{cordova:r}=cl();let i=()=>{};try{await new Promise((a,u)=>{let c=null;function f(){var g;a();const y=(g=r.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof y=="function"&&y(),typeof n?.close=="function"&&n.close()}function h(){c||(c=window.setTimeout(()=>{u(Tn(t,"redirect-cancelled-by-user"))},WG))}function m(){document?.visibilityState==="visible"&&h()}e.addPassiveListener(f),document.addEventListener("resume",h,!1),Hm()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),c&&window.clearTimeout(c)}})}finally{i()}}function JG(t){var e,n,r,i,a,u,c,f,h,m;const g=cl();me(typeof((e=g?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((n=g?.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((a=(i=(r=g?.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||a===void 0?void 0:a.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((f=(c=(u=g?.cordova)===null||u===void 0?void 0:u.plugins)===null||c===void 0?void 0:c.browsertab)===null||f===void 0?void 0:f.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((m=(h=g?.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function eW(t){const e=tW(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function tW(t){if(qi(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=20;class rW extends _4{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function iW(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:oW(),postBody:null,tenantId:t.tenantId,error:Tn(t,"no-auth-event")}}function aW(t,e){return RT()._set(CT(t),e)}async function wD(t){const e=await RT()._get(CT(t));return e&&await RT()._remove(CT(t)),e}function sW(t,e){var n,r;const i=lW(e);if(i.includes("/__/auth/callback")){const a=mv(i),u=a.firebaseError?uW(decodeURIComponent(a.firebaseError)):null,c=(r=(n=u?.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],f=c?Tn(c):null;return f?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function oW(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<nW;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function RT(){return Hr(a1)}function CT(t){return Ku("authEvent",t.config.apiKey,t.name)}function uW(t){try{return JSON.parse(t)}catch{return null}}function lW(t){const e=mv(t),n=e.link?decodeURIComponent(e.link):void 0,r=mv(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return mv(i).link||i||r||n||t}function mv(t){if(!t?.includes("?"))return{};const[e,...n]=t.split("?");return Vc(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=500;class fW{constructor(){this._redirectPersistence=ul,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=a_,this._overrideRedirectResult=c1}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new rW(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Qn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){JG(e);const a=await this._initialize(e);await a.initialized(),a.resetRedirect(),aG(),await this._originValidation(e);const u=iW(e,r,i);await aW(e,u);const c=await YG(e,u,n),f=await XG(c);return ZG(e,a,f)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QG(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:a}=cl(),u=setTimeout(async()=>{await wD(e),n.onEvent(ED())},cW),c=async m=>{clearTimeout(u);const g=await wD(e);let y=null;g&&m?.url&&(y=sW(g,m.url)),n.onEvent(y||ED())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,c);const f=i,h=`${a.packageName.toLowerCase()}://`;cl().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(h)&&c({url:m}),typeof f=="function")try{f(m)}catch(g){console.error(g)}}}}const hW=fW;function ED(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Tn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t,e){Bt(t)._logFramework(e)}var mW="@firebase/auth-compat",pW="0.5.28";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=1e3;function $d(){var t;return((t=self?.location)===null||t===void 0?void 0:t.protocol)||null}function vW(){return $d()==="http:"||$d()==="https:"}function T4(t=Ut()){return!!(($d()==="file:"||$d()==="ionic:"||$d()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yW(){return DA()||Ey()}function _W(){return IM()&&document?.documentMode===11}function bW(t=Ut()){return/Edge\/\d+/.test(t)}function wW(t=Ut()){return _W()||bW(t)}function A4(){try{const t=self.localStorage,e=Ym();if(t)return t.setItem(e,"1"),t.removeItem(e),wW()?Gd():!0}catch{return h1()&&Gd()}return!1}function h1(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function lw(){return(vW()||SM()||T4())&&!yW()&&A4()&&!h1()}function S4(){return T4()&&typeof document<"u"}async function EW(){return S4()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},gW);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function TW(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr={LOCAL:"local",NONE:"none",SESSION:"session"},fd=me,I4="persistence";function AW(t,e){if(fd(Object.values(zr).includes(e),t,"invalid-persistence-type"),DA()){fd(e!==zr.SESSION,t,"unsupported-persistence-type");return}if(Ey()){fd(e===zr.NONE,t,"unsupported-persistence-type");return}if(h1()){fd(e===zr.NONE||e===zr.LOCAL&&Gd(),t,"unsupported-persistence-type");return}fd(e===zr.NONE||A4(),t,"unsupported-persistence-type")}async function DT(t){await t._initializationPromise;const e=x4(),n=Ku(I4,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function SW(t,e){const n=x4();if(!n)return[];const r=Ku(I4,t,e);switch(n.getItem(r)){case zr.NONE:return[pf];case zr.LOCAL:return[pm,ul];case zr.SESSION:return[ul];default:return[]}}function x4(){var t;try{return((t=TW())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=me;class fo{constructor(){this.browserResolver=Hr(qG),this.cordovaResolver=Hr(hW),this.underlyingResolver=null,this._redirectPersistence=ul,this._completeRedirectFn=a_,this._overrideRedirectResult=c1}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return S4()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return IW(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await EW();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t){return t.unwrap()}function xW(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(t){return O4(t)}function OW(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){const i=e;i.resolver=new RW(t,bK(t,e))}else if(r){const i=O4(e),a=e;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function O4(t){const{_tokenResponse:e}=t instanceof gr?t.customData:t;if(!e)return null;if(!(t instanceof gr)&&"temporaryProof"in e&&"phoneNumber"in e)return ll.credentialFromResult(t);const n=e.providerId;if(!n||n===ld.PASSWORD)return null;let r;switch(n){case ld.GOOGLE:r=ca;break;case ld.FACEBOOK:r=la;break;case ld.GITHUB:r=fa;break;case ld.TWITTER:r=ha;break;default:const{oauthIdToken:i,oauthAccessToken:a,oauthTokenSecret:u,pendingToken:c,nonce:f}=e;return!a&&!u&&!i&&!c?null:c?n.startsWith("saml.")?gf._create(n,c):Aa._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:i,accessToken:a}):new Fc(n).credential({idToken:i,accessToken:a,rawNonce:f})}return t instanceof gr?r.credentialFromError(t):r.credentialFromResult(t)}function Tr(t,e){return e.catch(n=>{throw n instanceof gr&&OW(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:PW(n),additionalUserInfo:_K(n),user:rs.getOrCreate(i)}})}async function NT(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Tr(t,n.confirm(r))}}class RW{constructor(e,n){this.resolver=n,this.auth=xW(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Tr(P4(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._delegate=e,this.multiFactor=TK(e)}static getOrCreate(e){return rs.USER_MAP.has(e)||rs.USER_MAP.set(e,new rs(e)),rs.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Tr(this.auth,i4(this._delegate,e))}async linkWithPhoneNumber(e,n){return NT(this.auth,KK(this._delegate,e,n))}async linkWithPopup(e){return Tr(this.auth,tG(this._delegate,e,fo))}async linkWithRedirect(e){return await DT(Bt(this.auth)),cG(this._delegate,e,fo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Tr(this.auth,a4(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return NT(this.auth,GK(this._delegate,e,n))}reauthenticateWithPopup(e){return Tr(this.auth,eG(this._delegate,e,fo))}async reauthenticateWithRedirect(e){return await DT(Bt(this.auth)),uG(this._delegate,e,fo)}sendEmailVerification(e){return uK(this._delegate,e)}async unlink(e){return await WH(this._delegate,e),this}updateEmail(e){return hK(this._delegate,e)}updatePassword(e){return dK(this._delegate,e)}updatePhoneNumber(e){return WK(this._delegate,e)}updateProfile(e){return fK(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return lK(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}rs.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=me;class kT{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;hd(r,"invalid-api-key",{appName:e.name}),hd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?fo:void 0;this._delegate=n.initialize({options:{persistence:CW(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(j$),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?rs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){SH(this._delegate,e,n)}applyActionCode(e){return JH(this._delegate,e)}checkActionCode(e){return s4(this._delegate,e)}confirmPasswordReset(e,n){return ZH(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Tr(this._delegate,tK(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return oK(this._delegate,e)}isSignInWithEmailLink(e){return iK(this._delegate,e)}async getRedirectResult(){hd(lw(),this._delegate,"operation-not-supported-in-this-environment");const e=await hG(this._delegate,fo);return e?Tr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){dW(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:a,complete:u}=TD(e,n,r);return this._delegate.onAuthStateChanged(i,a,u)}onIdTokenChanged(e,n,r){const{next:i,error:a,complete:u}=TD(e,n,r);return this._delegate.onIdTokenChanged(i,a,u)}sendSignInLinkToEmail(e,n){return rK(this._delegate,e,n)}sendPasswordResetEmail(e,n){return XH(this._delegate,e,n||void 0)}async setPersistence(e){AW(this._delegate,e);let n;switch(e){case zr.SESSION:n=ul;break;case zr.LOCAL:n=await Hr(pm)._isAvailable()?pm:a1;break;case zr.NONE:n=pf;break;default:return Qn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Tr(this._delegate,GH(this._delegate))}signInWithCredential(e){return Tr(this._delegate,e_(this._delegate,e))}signInWithCustomToken(e){return Tr(this._delegate,QH(this._delegate,e))}signInWithEmailAndPassword(e,n){return Tr(this._delegate,nK(this._delegate,e,n))}signInWithEmailLink(e,n){return Tr(this._delegate,aK(this._delegate,e,n))}signInWithPhoneNumber(e,n){return NT(this._delegate,HK(this._delegate,e,n))}async signInWithPopup(e){return hd(lw(),this._delegate,"operation-not-supported-in-this-environment"),Tr(this._delegate,JK(this._delegate,e,fo))}async signInWithRedirect(e){return hd(lw(),this._delegate,"operation-not-supported-in-this-environment"),await DT(this._delegate),sG(this._delegate,e,fo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return eK(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}kT.Persistence=zr;function TD(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:u=>i(u&&rs.getOrCreate(u)),error:e,complete:n}}function CW(t,e){const n=SW(t,e);if(typeof self<"u"&&!n.includes(pm)&&n.push(pm),typeof window<"u")for(const r of[a1,ul])n.includes(r)||n.push(r);return n.includes(pf)||n.push(pf),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{static credential(e,n){return ll.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new ll(P4(Ea.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}d1.PHONE_SIGN_IN_METHOD=ll.PHONE_SIGN_IN_METHOD;d1.PROVIDER_ID=ll.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=me;class NW{constructor(e,n,r=Ea.app()){var i;DW((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new FK(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW="auth-compat";function MW(t){t.INTERNAL.registerComponent(new wa(kW,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new kT(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ic.EMAIL_SIGNIN,PASSWORD_RESET:Ic.PASSWORD_RESET,RECOVER_EMAIL:Ic.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ic.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ic.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ic.VERIFY_EMAIL}},EmailAuthProvider:Uo,FacebookAuthProvider:la,GithubAuthProvider:fa,GoogleAuthProvider:ca,OAuthProvider:Fc,SAMLAuthProvider:Lv,PhoneAuthProvider:d1,PhoneMultiFactorGenerator:E4,RecaptchaVerifier:NW,TwitterAuthProvider:ha,Auth:kT,AuthCredential:Lf,Error:gr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(mW,pW)}MW(Ea);const R4={apiKey:"AIzaSyCm1a_eHsMFF7a3c_eUqVrDUK9KzJjn6X8",authDomain:"attendance-app-7d7bc.firebaseapp.com",projectId:"attendance-app-7d7bc",storageBucket:"attendance-app-7d7bc.firebasestorage.app",messagingSenderId:"424371442032",appId:"1:424371442032:web:b304c2be002d7f1c41ffb5",measurementId:"G-TDH0WSCN8L"};R4.projectId==="your-project-id"&&console.warn("Firebase configuration is using placeholder values. Please replace them in services/firebase.ts with your actual project credentials.");Ea.apps.length||Ea.initializeApp(R4);const xc=Ea.firestore(),MT=Ea.auth(),AD=()=>new Date().toISOString().split("T")[0],VW=()=>{const[t,e]=N.useState(!0),[n,r]=N.useState([]),[i,a]=N.useState({});N.useEffect(()=>{e(!0);const A=xc.collection("members").orderBy("createdAt","desc").onSnapshot(x=>{const R=[];x.forEach(P=>{const U=P.data(),L=U.createdAt?.toDate().toISOString()??new Date().toISOString();R.push({id:P.id,...U,createdAt:L})}),r(R),x.empty&&e(!1)},x=>{console.error("Error fetching members:",x),e(!1)});return()=>A()},[]),N.useEffect(()=>{if(n.length===0){a({}),t&&e(!1);return}const E=new Date;E.setDate(E.getDate()-30);const T=E.toISOString().split("T")[0],R=xc.collection("attendance").where("date",">=",T).onSnapshot(P=>{const U={};n.forEach(L=>U[L.id]={}),P.forEach(L=>{const $=L.data();if($.memberId&&U.hasOwnProperty($.memberId)){let C=$.status;C==="leave"&&(C=Qe.HalfDay),U[$.memberId][$.date]=C}}),a(U),e(!1)},P=>{console.error("Error fetching attendance:",P),e(!1)});return()=>R()},[n]);const u=N.useCallback(async(E,T)=>{await xc.collection("members").add({name:E,instrument:T,createdAt:Ea.firestore.FieldValue.serverTimestamp()})},[]),c=N.useCallback(async(E,T,A)=>{await xc.collection("members").doc(E).update({name:T,instrument:A})},[]),f=N.useCallback(async E=>{const T=AD(),A=xc.collection("attendance"),x=xc.batch(),R=Object.entries(E).map(async([P,U])=>{const $=await A.where("memberId","==",P).where("date","==",T).get();if($.empty){const C=A.doc();x.set(C,{memberId:P,date:T,status:U})}else{const C=$.docs[0].ref;x.update(C,{status:U})}});await Promise.all(R),await x.commit()},[]),h=N.useCallback(E=>n.find(T=>T.id===E),[n]),m=N.useCallback(E=>i[E]||{},[i]),g=N.useCallback(()=>{const E=[],T=new Date;for(let A=6;A>=0;A--){const x=new Date(T);x.setDate(T.getDate()-A);const R=x.toISOString().split("T")[0],P=x.toLocaleDateString("en-US",{weekday:"short"});let U=0,L=0;n.forEach(C=>{const D=i[C.id]?.[R];D===Qe.Present?U++:D===Qe.HalfDay&&L++});const $=n.length-U-L;E.push({name:P,present:U,absent:$,halfDay:L})}return E},[n,i]),y=N.useCallback(()=>{const E=AD();let T=0,A=0;const x=n.length;n.forEach(P=>{const U=i[P.id]?.[E];U===Qe.Present?T++:U===Qe.HalfDay&&A++});const R=x-T-A;return{present:T,absent:R,onHalfDay:A,total:x}},[n,i]),b=N.useCallback(E=>{const T={[Qe.Present]:"P",[Qe.Absent]:"A",[Qe.HalfDay]:"H"},A=["Member Name","Instrument"],x=[],R=new Date;for(let U=E-1;U>=0;U--){const L=new Date(R);L.setDate(R.getDate()-U),x.push(L.toISOString().split("T")[0])}A.push(...x);const P=n.map(U=>{const L=[U.name,U.instrument],$=i[U.id]||{};return x.forEach(C=>{const D=$[C]||Qe.Absent,M=T[D]||"A";L.push(M)}),L.map(C=>`"${String(C).replace(/"/g,'""')}"`).join(",")});return[A.join(","),...P].join(`
`)},[n,i]);return{loading:t,members:n,attendance:i,addMember:u,updateMember:c,markBatchAttendance:f,getMemberById:h,getAttendanceByMember:m,getWeeklySummary:g,getTodaySummary:y,generateCsvReport:b}};function C4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=C4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function St(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=C4(t))&&(r&&(r+=" "),r+=e);return r}var cw={},fw={},SD;function jW(){return SD||(SD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e}(fw)),fw}var hw={},ID;function D4(){return ID||(ID=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e}(hw)),hw}var dw={},xD;function N4(){return xD||(xD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e}(dw)),dw}var mw={},PD;function m1(){return PD||(PD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let a=0,u="",c="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),a++);a<i;){const h=n[a];c?h==="\\"&&a+1<i?(a++,u+=n[a]):h===c?c="":u+=h:f?h==='"'||h==="'"?c=h:h==="]"?(f=!1,r.push(u),u=""):u+=h:h==="["?(f=!0,u&&(r.push(u),u="")):h==="."?u&&(r.push(u),u=""):u+=h,a++}return u&&r.push(u),r}t.toPath=e}(mw)),mw}var OD;function p1(){return OD||(OD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jW(),n=D4(),r=N4(),i=m1();function a(c,f,h){if(c==null)return h;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return h;const m=c[f];return m===void 0?n.isDeepKey(f)?a(c,i.toPath(f),h):h:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=c[f];return m===void 0?h:m}default:{if(Array.isArray(f))return u(c,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return h;const m=c[f];return m===void 0?h:m}}}function u(c,f,h){if(f.length===0)return h;let m=c;for(let g=0;g<f.length;g++){if(m==null||e.isUnsafeProperty(f[g]))return h;m=m[f[g]]}return m===void 0?h:m}t.get=a}(cw)),cw}var pw,RD;function LW(){return RD||(RD=1,pw=p1().get),pw}var UW=LW();const fl=Fi(UW);var gw={exports:{}},_t={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CD;function BW(){if(CD)return _t;CD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function E(T){if(typeof T=="object"&&T!==null){var A=T.$$typeof;switch(A){case t:switch(T=T.type,T){case n:case i:case r:case f:case h:case y:return T;default:switch(T=T&&T.$$typeof,T){case u:case c:case g:case m:return T;case a:return T;default:return A}}case e:return A}}}return _t.ContextConsumer=a,_t.ContextProvider=u,_t.Element=t,_t.ForwardRef=c,_t.Fragment=n,_t.Lazy=g,_t.Memo=m,_t.Portal=e,_t.Profiler=i,_t.StrictMode=r,_t.Suspense=f,_t.SuspenseList=h,_t.isContextConsumer=function(T){return E(T)===a},_t.isContextProvider=function(T){return E(T)===u},_t.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},_t.isForwardRef=function(T){return E(T)===c},_t.isFragment=function(T){return E(T)===n},_t.isLazy=function(T){return E(T)===g},_t.isMemo=function(T){return E(T)===m},_t.isPortal=function(T){return E(T)===e},_t.isProfiler=function(T){return E(T)===i},_t.isStrictMode=function(T){return E(T)===r},_t.isSuspense=function(T){return E(T)===f},_t.isSuspenseList=function(T){return E(T)===h},_t.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===n||T===i||T===r||T===f||T===h||typeof T=="object"&&T!==null&&(T.$$typeof===g||T.$$typeof===m||T.$$typeof===u||T.$$typeof===a||T.$$typeof===c||T.$$typeof===b||T.getModuleId!==void 0)},_t.typeOf=E,_t}var DD;function qW(){return DD||(DD=1,gw.exports=BW()),gw.exports}var zW=qW(),Kr=t=>t===0?0:t>0?1:-1,Ti=t=>typeof t=="number"&&t!=+t,qu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,xe=t=>(typeof t=="number"||t instanceof Number)&&!Ti(t),Sa=t=>xe(t)||typeof t=="string",FW=0,gm=t=>{var e=++FW;return"".concat(t||"").concat(e)},zi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&typeof e!="string")return r;var a;if(qu(e)){if(n==null)return r;var u=e.indexOf("%");a=n*parseFloat(e.slice(0,u))/100}else a=+e;return Ti(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},k4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},Pc=(t,e)=>xe(t)&&xe(e)?n=>t+n*(e-t):()=>e;function $W(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):fl(r,e))===n)}var mn=t=>t===null||typeof t>"u",Xm=t=>mn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),HW=["viewBox","children"],KW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ND=["points","pathLength"],vw={svg:HW,polygon:ND,polyline:ND},g1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],GW=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{g1.includes(i)&&(r[i]=a=>n[i](n,a))}),r},WW=(t,e,n)=>r=>(t(e,n,r),null),s_=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];g1.includes(i)&&typeof a=="function"&&(r||(r={}),r[i]=WW(a,e,n))}),r},kD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",MD=null,yw=null,M4=t=>{if(t===MD&&Array.isArray(yw))return yw;var e=[];return N.Children.forEach(t,n=>{mn(n)||(zW.isFragment(n)?e=e.concat(M4(n.props.children)):e.push(n))}),yw=e,MD=t,e};function v1(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>kD(i)):r=[kD(e)],M4(t).forEach(i=>{var a=fl(i,"type.displayName")||fl(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var YW=(t,e,n,r)=>{var i,a=(i=r&&vw?.[r])!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&a.includes(e)||KW.includes(e))||n&&g1.includes(e)},Lt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(N.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var u;YW((u=r)===null||u===void 0?void 0:u[a],a,e,n)&&(i[a]=r[a])}),i},QW=["children","width","height","viewBox","className","style","title","desc"];function VT(){return VT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VT.apply(null,arguments)}function XW(t,e){if(t==null)return{};var n,r,i=ZW(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var y1=N.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:u,style:c,title:f,desc:h}=t,m=XW(t,QW),g=a||{width:r,height:i,x:0,y:0},y=St("recharts-surface",u);return N.createElement("svg",VT({},Lt(m,!0,"svg"),{className:y,width:r,height:i,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),N.createElement("title",null,f),N.createElement("desc",null,h),n)}),JW=["children","className"];function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jT.apply(null,arguments)}function eY(t,e){if(t==null)return{};var n,r,i=tY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ia=N.forwardRef((t,e)=>{var{children:n,className:r}=t,i=eY(t,JW),a=St("recharts-layer",r);return N.createElement("g",jT({className:a},Lt(i,!0),{ref:e}),n)}),V4=yM(),j4=N.createContext(null),nY=()=>N.useContext(j4);function At(t){return function(){return t}}const L4=Math.cos,zv=Math.sin,$i=Math.sqrt,Fv=Math.PI,o_=2*Fv,LT=Math.PI,UT=2*LT,Ou=1e-6,rY=UT-Ou;function U4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function iY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return U4;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class aY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?U4:iY(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,u){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+u}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let u=this._x1,c=this._y1,f=r-e,h=i-n,m=u-e,g=c-n,y=m*m+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Ou)if(!(Math.abs(g*f-h*m)>Ou)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-u,E=i-c,T=f*f+h*h,A=b*b+E*E,x=Math.sqrt(T),R=Math.sqrt(y),P=a*Math.tan((LT-Math.acos((T+y-A)/(2*x*R)))/2),U=P/R,L=P/x;Math.abs(U-1)>Ou&&this._append`L${e+U*m},${n+U*g}`,this._append`A${a},${a},0,0,${+(g*b>m*E)},${this._x1=e+L*f},${this._y1=n+L*h}`}}arc(e,n,r,i,a,u){if(e=+e,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),h=e+c,m=n+f,g=1^u,y=u?i-a:a-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Ou||Math.abs(this._y1-m)>Ou)&&this._append`L${h},${m}`,r&&(y<0&&(y=y%UT+UT),y>rY?this._append`A${r},${r},0,1,${g},${e-c},${n-f}A${r},${r},0,1,${g},${this._x1=h},${this._y1=m}`:y>Ou&&this._append`A${r},${r},0,${+(y>=LT)},${g},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function _1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new aY(e)}function b1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function B4(t){this._context=t}B4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function u_(t){return new B4(t)}function q4(t){return t[0]}function z4(t){return t[1]}function F4(t,e){var n=At(!0),r=null,i=u_,a=null,u=_1(c);t=typeof t=="function"?t:t===void 0?q4:At(t),e=typeof e=="function"?e:e===void 0?z4:At(e);function c(f){var h,m=(f=b1(f)).length,g,y=!1,b;for(r==null&&(a=i(b=u())),h=0;h<=m;++h)!(h<m&&n(g=f[h],h,f))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(g,h,f),+e(g,h,f));if(b)return a=null,b+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:At(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:At(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:At(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),c):r},c}function Ug(t,e,n){var r=null,i=At(!0),a=null,u=u_,c=null,f=_1(h);t=typeof t=="function"?t:t===void 0?q4:At(+t),e=typeof e=="function"?e:At(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?z4:At(+n);function h(g){var y,b,E,T=(g=b1(g)).length,A,x=!1,R,P=new Array(T),U=new Array(T);for(a==null&&(c=u(R=f())),y=0;y<=T;++y){if(!(y<T&&i(A=g[y],y,g))===x)if(x=!x)b=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=y-1;E>=b;--E)c.point(P[E],U[E]);c.lineEnd(),c.areaEnd()}x&&(P[y]=+t(A,y,g),U[y]=+e(A,y,g),c.point(r?+r(A,y,g):P[y],n?+n(A,y,g):U[y]))}if(R)return c=null,R+""||null}function m(){return F4().defined(i).curve(u).context(a)}return h.x=function(g){return arguments.length?(t=typeof g=="function"?g:At(+g),r=null,h):t},h.x0=function(g){return arguments.length?(t=typeof g=="function"?g:At(+g),h):t},h.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:At(+g),h):r},h.y=function(g){return arguments.length?(e=typeof g=="function"?g:At(+g),n=null,h):e},h.y0=function(g){return arguments.length?(e=typeof g=="function"?g:At(+g),h):e},h.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:At(+g),h):n},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(n)},h.lineX1=function(){return m().x(r).y(e)},h.defined=function(g){return arguments.length?(i=typeof g=="function"?g:At(!!g),h):i},h.curve=function(g){return arguments.length?(u=g,a!=null&&(c=u(a)),h):u},h.context=function(g){return arguments.length?(g==null?a=c=null:c=u(a=g),h):a},h}class $4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function sY(t){return new $4(t,!0)}function oY(t){return new $4(t,!1)}const w1={draw(t,e){const n=$i(e/Fv);t.moveTo(n,0),t.arc(0,0,n,0,o_)}},uY={draw(t,e){const n=$i(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},H4=$i(1/3),lY=H4*2,cY={draw(t,e){const n=$i(e/lY),r=n*H4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},fY={draw(t,e){const n=$i(e),r=-n/2;t.rect(r,r,n,n)}},hY=.8908130915292852,K4=zv(Fv/10)/zv(7*Fv/10),dY=zv(o_/10)*K4,mY=-L4(o_/10)*K4,pY={draw(t,e){const n=$i(e*hY),r=dY*n,i=mY*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const u=o_*a/5,c=L4(u),f=zv(u);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},_w=$i(3),gY={draw(t,e){const n=-$i(e/(_w*3));t.moveTo(0,n*2),t.lineTo(-_w*n,-n),t.lineTo(_w*n,-n),t.closePath()}},di=-.5,mi=$i(3)/2,BT=1/$i(12),vY=(BT/2+1)*3,yY={draw(t,e){const n=$i(e/vY),r=n/2,i=n*BT,a=r,u=n*BT+n,c=-a,f=u;t.moveTo(r,i),t.lineTo(a,u),t.lineTo(c,f),t.lineTo(di*r-mi*i,mi*r+di*i),t.lineTo(di*a-mi*u,mi*a+di*u),t.lineTo(di*c-mi*f,mi*c+di*f),t.lineTo(di*r+mi*i,di*i-mi*r),t.lineTo(di*a+mi*u,di*u-mi*a),t.lineTo(di*c+mi*f,di*f-mi*c),t.closePath()}};function _Y(t,e){let n=null,r=_1(i);t=typeof t=="function"?t:At(t||w1),e=typeof e=="function"?e:At(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:At(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:At(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function $v(){}function Hv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function G4(t){this._context=t}G4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bY(t){return new G4(t)}function W4(t){this._context=t}W4.prototype={areaStart:$v,areaEnd:$v,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Hv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wY(t){return new W4(t)}function Y4(t){this._context=t}Y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EY(t){return new Y4(t)}function Q4(t){this._context=t}Q4.prototype={areaStart:$v,areaEnd:$v,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function TY(t){return new Q4(t)}function VD(t){return t<0?-1:1}function jD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),u=(n-t._y1)/(i||r<0&&-0),c=(a*i+u*r)/(r+i);return(VD(a)+VD(u))*Math.min(Math.abs(a),Math.abs(u),.5*Math.abs(c))||0}function LD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function bw(t,e,n){var r=t._x0,i=t._y0,a=t._x1,u=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*e,a-c,u-c*n,a,u)}function Kv(t){this._context=t}Kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bw(this,this._t0,LD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,bw(this,LD(this,n=jD(this,t,e)),n);break;default:bw(this,this._t0,n=jD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function X4(t){this._context=new Z4(t)}(X4.prototype=Object.create(Kv.prototype)).point=function(t,e){Kv.prototype.point.call(this,e,t)};function Z4(t){this._context=t}Z4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function AY(t){return new Kv(t)}function SY(t){return new X4(t)}function J4(t){this._context=t}J4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=UD(t),i=UD(e),a=0,u=1;u<n;++a,++u)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[u],e[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function UD(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),u=new Array(n);for(i[0]=0,a[0]=2,u[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,u[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,u[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,u[e]-=r*u[e-1];for(i[n-1]=u[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(u[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function IY(t){return new J4(t)}function l_(t,e){this._context=t,this._t=e}l_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function xY(t){return new l_(t,.5)}function PY(t){return new l_(t,0)}function OY(t){return new l_(t,1)}function vf(t,e){if((u=t.length)>1)for(var n=1,r,i,a=t[e[0]],u,c=a.length;n<u;++n)for(i=a,a=t[e[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function qT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function RY(t,e){return t[e]}function CY(t){const e=[];return e.key=t,e}function DY(){var t=At([]),e=qT,n=vf,r=RY;function i(a){var u=Array.from(t.apply(this,arguments),CY),c,f=u.length,h=-1,m;for(const g of a)for(c=0,++h;c<f;++c)(u[c][h]=[0,+r(g,u[c].key,h,a)]).data=g;for(c=0,m=b1(e(u));c<f;++c)u[m[c]].index=c;return n(u,m),u}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:At(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:At(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?qT:typeof a=="function"?a:At(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??vf,i):n},i}function NY(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,u;i<a;++i){for(u=n=0;n<r;++n)u+=t[n][i][1]||0;if(u)for(n=0;n<r;++n)t[n][i][1]/=u}vf(t,e)}}function kY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var u=0,c=0;u<i;++u)c+=t[u][n][1]||0;r[n][1]+=r[n][0]=-c/2}vf(t,e)}}function MY(t,e){if(!(!((u=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,u;r<a;++r){for(var c=0,f=0,h=0;c<u;++c){for(var m=t[e[c]],g=m[r][1]||0,y=m[r-1][1]||0,b=(g-y)/2,E=0;E<c;++E){var T=t[e[E]],A=T[r][1]||0,x=T[r-1][1]||0;b+=A-x}f+=g,h+=b*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,vf(t,e)}}var VY=["type","size","sizeType"];function zT(){return zT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zT.apply(null,arguments)}function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){jY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jY(t,e,n){return(e=LY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LY(t){var e=UY(t,"string");return typeof e=="symbol"?e:e+""}function UY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BY(t,e){if(t==null)return{};var n,r,i=qY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var e3={symbolCircle:w1,symbolCross:uY,symbolDiamond:cY,symbolSquare:fY,symbolStar:pY,symbolTriangle:gY,symbolWye:yY},zY=Math.PI/180,FY=t=>{var e="symbol".concat(Xm(t));return e3[e]||w1},$Y=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*zY;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},HY=(t,e)=>{e3["symbol".concat(Xm(t))]=e},E1=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=BY(t,VY),a=qD(qD({},i),{},{type:e,size:n,sizeType:r}),u=()=>{var g=FY(e),y=_Y().type(g).size($Y(n,r,e));return y()},{className:c,cx:f,cy:h}=a,m=Lt(a,!0);return f===+f&&h===+h&&n===+n?N.createElement("path",zT({},m,{className:St("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};E1.registerSymbol=HY;function FT(){return FT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FT.apply(null,arguments)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){T1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T1(t,e,n){return(e=GY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GY(t){var e=WY(t,"string");return typeof e=="symbol"?e:e+""}function WY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pi=32;class A1 extends N.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=pi/2,a=pi/6,u=pi/3,c=e.inactive?r:e.color,f=n??e.type;if(f==="none")return null;if(f==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:pi,y2:i,className:"recharts-legend-icon"});if(f==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(pi,"M").concat(2*u,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return N.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(pi/8,"h").concat(pi,"v").concat(pi*3/4,"h").concat(-pi,"z"),className:"recharts-legend-icon"});if(N.isValidElement(e.legendIcon)){var h=KY({},e);return delete h.legendIcon,N.cloneElement(e.legendIcon,h)}return N.createElement(E1,{fill:c,cx:i,cy:i,size:pi,sizeType:"diameter",type:f})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:u}=this.props,c={x:0,y:0,width:pi,height:pi},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,g)=>{var y=m.formatter||i,b=St({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:m.inactive});if(m.type==="none")return null;var E=m.inactive?a:m.color,T=y?y(m.value,m,g):m.value;return N.createElement("li",FT({className:b,style:f,key:"legend-item-".concat(g)},s_(this.props,m,g)),N.createElement(y1,{width:n,height:n,viewBox:c,style:h,"aria-label":"".concat(T," legend icon")},this.renderIcon(m,u)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},T))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}T1(A1,"displayName","Legend");T1(A1,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var ww={},Ew={},FD;function YY(){return FD||(FD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const u=n[a],c=r(u);i.has(c)||i.set(c,u)}return Array.from(i.values())}t.uniqBy=e}(Ew)),Ew}var Tw={},$D;function t3(){return $D||($D=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e}(Tw)),Tw}var Aw={},Sw={},Iw={},HD;function QY(){return HD||(HD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e}(Iw)),Iw}var KD;function S1(){return KD||(KD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QY();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n}(Sw)),Sw}var xw={},GD;function XY(){return GD||(GD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e}(xw)),xw}var WD;function ZY(){return WD||(WD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S1(),n=XY();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r}(Aw)),Aw}var Pw={},Ow={},YD;function JY(){return YD||(YD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p1();function n(r){return function(i){return e.get(i,r)}}t.property=n}(Ow)),Ow}var Rw={},Cw={},Dw={},Nw={},QD;function n3(){return QD||(QD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e}(Nw)),Nw}var kw={},XD;function r3(){return XD||(XD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e}(kw)),kw}var Mw={},ZD;function I1(){return ZD||(ZD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e}(Mw)),Mw}var JD;function eQ(){return JD||(JD=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x1(),n=n3(),r=r3(),i=I1();function a(g,y,b){return typeof b!="function"?e.isMatch(g,y):u(g,y,function E(T,A,x,R,P,U){const L=b(T,A,x,R,P,U);return L!==void 0?!!L:u(T,A,E,U)},new Map)}function u(g,y,b,E){if(y===g)return!0;switch(typeof y){case"object":return c(g,y,b,E);case"function":return Object.keys(y).length>0?u(g,{...y},b,E):i.eq(g,y);default:return n.isObject(g)?typeof y=="string"?y==="":!0:i.eq(g,y)}}function c(g,y,b,E){if(y==null)return!0;if(Array.isArray(y))return h(g,y,b,E);if(y instanceof Map)return f(g,y,b,E);if(y instanceof Set)return m(g,y,b,E);const T=Object.keys(y);if(g==null)return T.length===0;if(T.length===0)return!0;if(E&&E.has(y))return E.get(y)===g;E&&E.set(y,g);try{for(let A=0;A<T.length;A++){const x=T[A];if(!r.isPrimitive(g)&&!(x in g)||y[x]===void 0&&g[x]!==void 0||y[x]===null&&g[x]!==null||!b(g[x],y[x],x,g,y,E))return!1}return!0}finally{E&&E.delete(y)}}function f(g,y,b,E){if(y.size===0)return!0;if(!(g instanceof Map))return!1;for(const[T,A]of y.entries()){const x=g.get(T);if(b(x,A,T,g,y,E)===!1)return!1}return!0}function h(g,y,b,E){if(y.length===0)return!0;if(!Array.isArray(g))return!1;const T=new Set;for(let A=0;A<y.length;A++){const x=y[A];let R=!1;for(let P=0;P<g.length;P++){if(T.has(P))continue;const U=g[P];let L=!1;if(b(U,x,A,g,y,E)&&(L=!0),L){T.add(P),R=!0;break}}if(!R)return!1}return!0}function m(g,y,b,E){return y.size===0?!0:g instanceof Set?h([...g],[...y],b,E):!1}t.isMatchWith=a,t.isSetMatch=m}(Dw)),Dw}var eN;function x1(){return eN||(eN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eQ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(Cw)),Cw}var Vw={},jw={},Lw={},tN;function i3(){return tN||(tN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e}(Lw)),Lw}var Uw={},nN;function P1(){return nN||(nN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e}(Uw)),Uw}var Bw={},rN;function O1(){return rN||(rN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",u="[object Symbol]",c="[object Date]",f="[object Map]",h="[object Set]",m="[object Array]",g="[object Function]",y="[object ArrayBuffer]",b="[object Object]",E="[object Error]",T="[object DataView]",A="[object Uint8Array]",x="[object Uint8ClampedArray]",R="[object Uint16Array]",P="[object Uint32Array]",U="[object BigUint64Array]",L="[object Int8Array]",$="[object Int16Array]",C="[object Int32Array]",D="[object BigInt64Array]",M="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=m,t.bigInt64ArrayTag=D,t.bigUint64ArrayTag=U,t.booleanTag=i,t.dataViewTag=T,t.dateTag=c,t.errorTag=E,t.float32ArrayTag=M,t.float64ArrayTag=q,t.functionTag=g,t.int16ArrayTag=$,t.int32ArrayTag=C,t.int8ArrayTag=L,t.mapTag=f,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=u,t.uint16ArrayTag=R,t.uint32ArrayTag=P,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=x}(Bw)),Bw}var qw={},iN;function tQ(){return iN||(iN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e}(qw)),qw}var aN;function a3(){return aN||(aN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i3(),n=P1(),r=O1(),i=r3(),a=tQ();function u(m,g){return c(m,void 0,m,new Map,g)}function c(m,g,y,b=new Map,E=void 0){const T=E?.(m,g,y,b);if(T!=null)return T;if(i.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const A=new Array(m.length);b.set(m,A);for(let x=0;x<m.length;x++)A[x]=c(m[x],x,y,b,E);return Object.hasOwn(m,"index")&&(A.index=m.index),Object.hasOwn(m,"input")&&(A.input=m.input),A}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const A=new RegExp(m.source,m.flags);return A.lastIndex=m.lastIndex,A}if(m instanceof Map){const A=new Map;b.set(m,A);for(const[x,R]of m)A.set(x,c(R,x,y,b,E));return A}if(m instanceof Set){const A=new Set;b.set(m,A);for(const x of m)A.add(c(x,void 0,y,b,E));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(a.isTypedArray(m)){const A=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,A);for(let x=0;x<m.length;x++)A[x]=c(m[x],x,y,b,E);return A}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const A=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,A),f(A,m,y,b,E),A}if(typeof File<"u"&&m instanceof File){const A=new File([m],m.name,{type:m.type});return b.set(m,A),f(A,m,y,b,E),A}if(m instanceof Blob){const A=new Blob([m],{type:m.type});return b.set(m,A),f(A,m,y,b,E),A}if(m instanceof Error){const A=new m.constructor;return b.set(m,A),A.message=m.message,A.name=m.name,A.stack=m.stack,A.cause=m.cause,f(A,m,y,b,E),A}if(typeof m=="object"&&h(m)){const A=Object.create(Object.getPrototypeOf(m));return b.set(m,A),f(A,m,y,b,E),A}return m}function f(m,g,y=m,b,E){const T=[...Object.keys(g),...e.getSymbols(g)];for(let A=0;A<T.length;A++){const x=T[A],R=Object.getOwnPropertyDescriptor(m,x);(R==null||R.writable)&&(m[x]=c(g[x],x,y,b,E))}}function h(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=u,t.cloneDeepWithImpl=c,t.copyProperties=f}(jw)),jw}var sN;function nQ(){return sN||(sN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a3();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n}(Vw)),Vw}var oN;function rQ(){return oN||(oN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x1(),n=nQ();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r}(Rw)),Rw}var zw={},Fw={},$w={},uN;function iQ(){return uN||(uN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a3(),n=O1();function r(i,a){return e.cloneDeepWith(i,(u,c,f,h)=>{const m=a?.(u,c,f,h);if(m!=null)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r}($w)),$w}var lN;function aQ(){return lN||(lN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iQ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n}(Fw)),Fw}var Hw={},Kw={},cN;function s3(){return cN||(cN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n}(Kw)),Kw}var Gw={},fN;function sQ(){return fN||(fN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P1();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n}(Gw)),Gw}var hN;function oQ(){return hN||(hN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D4(),n=s3(),r=sQ(),i=m1();function a(u,c){let f;if(Array.isArray(c)?f=c:typeof c=="string"&&e.isDeepKey(c)&&u?.[c]==null?f=i.toPath(c):f=[c],f.length===0)return!1;let h=u;for(let m=0;m<f.length;m++){const g=f[m];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}t.has=a}(Hw)),Hw}var dN;function uQ(){return dN||(dN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x1(),n=N4(),r=aQ(),i=p1(),a=oQ();function u(c,f){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return f=r.cloneDeep(f),function(h){const m=i.get(h,c);return m===void 0?a.has(h,c):f===void 0?m===void 0:e.isMatch(m,f)}}t.matchesProperty=u}(zw)),zw}var mN;function lQ(){return mN||(mN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t3(),n=JY(),r=rQ(),i=uQ();function a(u){if(u==null)return e.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?i.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}t.iteratee=a}(Pw)),Pw}var pN;function cQ(){return pN||(pN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YY(),n=t3(),r=ZY(),i=lQ();function a(u,c=n.identity){return r.isArrayLikeObject(u)?e.uniqBy(Array.from(u),i.iteratee(c)):[]}t.uniqBy=a}(ww)),ww}var Ww,gN;function fQ(){return gN||(gN=1,Ww=cQ().uniqBy),Ww}var hQ=fQ();const vN=Fi(hQ);function o3(t,e,n){return e===!0?vN(t,n):typeof e=="function"?vN(t,e):t}var Yw={exports:{}},Qw={},Xw={exports:{}},Zw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function dQ(){if(yN)return Zw;yN=1;var t=If();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function c(g,y){var b=y(),E=r({inst:{value:b,getSnapshot:y}}),T=E[0].inst,A=E[1];return a(function(){T.value=b,T.getSnapshot=y,f(T)&&A({inst:T})},[g,b,y]),i(function(){return f(T)&&A({inst:T}),g(function(){f(T)&&A({inst:T})})},[g]),u(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!n(g,b)}catch{return!0}}function h(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Zw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Zw}var _N;function mQ(){return _N||(_N=1,Xw.exports=dQ()),Xw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function pQ(){if(bN)return Qw;bN=1;var t=If(),e=mQ();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,u=t.useEffect,c=t.useMemo,f=t.useDebugValue;return Qw.useSyncExternalStoreWithSelector=function(h,m,g,y,b){var E=a(null);if(E.current===null){var T={hasValue:!1,value:null};E.current=T}else T=E.current;E=c(function(){function x($){if(!R){if(R=!0,P=$,$=y($),b!==void 0&&T.hasValue){var C=T.value;if(b(C,$))return U=C}return U=$}if(C=U,r(P,$))return C;var D=y($);return b!==void 0&&b(C,D)?(P=$,C):(P=$,U=D)}var R=!1,P,U,L=g===void 0?null:g;return[function(){return x(m())},L===null?void 0:function(){return x(L())}]},[m,g,y,b]);var A=i(h,E[0],E[1]);return u(function(){T.hasValue=!0,T.value=A},[A]),f(A),A},Qw}var wN;function gQ(){return wN||(wN=1,Yw.exports=pQ()),Yw.exports}var vQ=gQ(),R1=N.createContext(null),yQ=t=>t,tn=()=>{var t=N.useContext(R1);return t?t.store.dispatch:yQ},pv=()=>{},_Q=()=>pv,bQ=(t,e)=>t===e;function Oe(t){var e=N.useContext(R1);return vQ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:_Q,e?e.store.getState:pv,e?e.store.getState:pv,e?t:pv,bQ)}function wQ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function EQ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function TQ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var EN=t=>Array.isArray(t)?t:[t];function AQ(t){const e=Array.isArray(t[0])?t[0]:t;return TQ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function SQ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var IQ=class{constructor(t){this.value=t}deref(){return this.value}},xQ=typeof WeakRef<"u"?WeakRef:IQ,PQ=0,TN=1;function Bg(){return{s:PQ,v:void 0,o:null,p:null}}function u3(t,e={}){let n=Bg();const{resultEqualityCheck:r}=e;let i,a=0;function u(){let c=n;const{length:f}=arguments;for(let g=0,y=f;g<y;g++){const b=arguments[g];if(typeof b=="function"||typeof b=="object"&&b!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const T=E.get(b);T===void 0?(c=Bg(),E.set(b,c)):c=T}else{let E=c.p;E===null&&(c.p=E=new Map);const T=E.get(b);T===void 0?(c=Bg(),E.set(b,c)):c=T}}const h=c;let m;if(c.s===TN)m=c.v;else if(m=t.apply(null,arguments),a++,r){const g=i?.deref?.()??i;g!=null&&r(g,m)&&(m=g,a!==0&&a--),i=typeof m=="object"&&m!==null||typeof m=="function"?new xQ(m):m}return h.s=TN,h.v=m,m}return u.clearCache=()=>{n=Bg(),u.resetResultsCount()},u.resultsCount=()=>a,u.resetResultsCount=()=>{a=0},u}function OQ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,u=0,c,f={},h=i.pop();typeof h=="object"&&(f=h,h=i.pop()),wQ(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:b=u3,argsMemoizeOptions:E=[]}=m,T=EN(y),A=EN(E),x=AQ(i),R=g(function(){return a++,h.apply(null,arguments)},...T),P=b(function(){u++;const L=SQ(x,arguments);return c=R.apply(null,L),c},...A);return Object.assign(P,{resultFunc:h,memoizedResultFunc:R,dependencies:x,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var ae=OQ(u3),RQ=Object.assign((t,e=ae)=>{EQ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((u,c,f)=>(u[n[f]]=c,u),{}))},{withTypes:()=>RQ}),Jw={},eE={},tE={},AN;function CQ(){return AN||(AN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const u=e(r),c=e(i);if(u===c&&u===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-u:u-c}return 0};t.compareValues=n}(tE)),tE}var nE={},rE={},SN;function l3(){return SN||(SN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e}(rE)),rE}var IN;function DQ(){return IN||(IN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l3(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,u){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||u!=null&&Object.hasOwn(u,a)}t.isKey=i}(nE)),nE}var xN;function NQ(){return xN||(xN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CQ(),n=DQ(),r=m1();function i(a,u,c,f){if(a==null)return[];c=f?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const h=(b,E)=>{let T=b;for(let A=0;A<E.length&&T!=null;++A)T=T[E[A]];return T},m=(b,E)=>E==null||b==null?E:typeof b=="object"&&"key"in b?Object.hasOwn(E,b.key)?E[b.key]:h(E,b.path):typeof b=="function"?b(E):Array.isArray(b)?h(E,b):typeof E=="object"?E[b]:E,g=u.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return a.map(b=>({original:b,criteria:g.map(E=>m(E,b))})).slice().sort((b,E)=>{for(let T=0;T<g.length;T++){const A=e.compareValues(b.criteria[T],E.criteria[T],c[T]);if(A!==0)return A}return 0}).map(b=>b.original)}t.orderBy=i}(eE)),eE}var iE={},PN;function kQ(){return PN||(PN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),u=(c,f)=>{for(let h=0;h<c.length;h++){const m=c[h];Array.isArray(m)&&f<a?u(m,f+1):i.push(m)}};return u(n,0),i}t.flatten=e}(iE)),iE}var aE={},ON;function c3(){return ON||(ON=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s3(),n=S1(),r=n3(),i=I1();function a(u,c,f){return r.isObject(f)&&(typeof c=="number"&&n.isArrayLike(f)&&e.isIndex(c)&&c<f.length||typeof c=="string"&&c in f)?i.eq(f[c],u):!1}t.isIterateeCall=a}(aE)),aE}var RN;function MQ(){return RN||(RN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NQ(),n=kQ(),r=c3();function i(a,...u){const c=u.length;return c>1&&r.isIterateeCall(a,u[0],u[1])?u=[]:c>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),e.orderBy(a,n.flatten(u),["asc"])}t.sortBy=i}(Jw)),Jw}var sE,CN;function VQ(){return CN||(CN=1,sE=MQ().sortBy),sE}var jQ=VQ();const c_=Fi(jQ);var f3=t=>t.legend.settings,LQ=t=>t.legend.size,UQ=t=>t.legend.payload,BQ=ae([UQ,f3],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?c_(r,n):r});function qQ(){return Oe(BQ)}var qg=1;function h3(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),u={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(u.height-e.height)>qg||Math.abs(u.left-e.left)>qg||Math.abs(u.top-e.top)>qg||Math.abs(u.width-e.width)>qg)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function $n(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",DN=zQ,oE=()=>Math.random().toString(36).substring(7).split("").join("."),FQ={INIT:`@@redux/INIT${oE()}`,REPLACE:`@@redux/REPLACE${oE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${oE()}`},Gv=FQ;function C1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function d3(t,e,n){if(typeof t!="function")throw new Error($n(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($n(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($n(1));return n(d3)(t,e)}let r=t,i=e,a=new Map,u=a,c=0,f=!1;function h(){u===a&&(u=new Map,a.forEach((A,x)=>{u.set(x,A)}))}function m(){if(f)throw new Error($n(3));return i}function g(A){if(typeof A!="function")throw new Error($n(4));if(f)throw new Error($n(5));let x=!0;h();const R=c++;return u.set(R,A),function(){if(x){if(f)throw new Error($n(6));x=!1,h(),u.delete(R),a=null}}}function y(A){if(!C1(A))throw new Error($n(7));if(typeof A.type>"u")throw new Error($n(8));if(typeof A.type!="string")throw new Error($n(17));if(f)throw new Error($n(9));try{f=!0,i=r(i,A)}finally{f=!1}return(a=u).forEach(R=>{R()}),A}function b(A){if(typeof A!="function")throw new Error($n(10));r=A,y({type:Gv.REPLACE})}function E(){const A=g;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error($n(11));function R(){const U=x;U.next&&U.next(m())}return R(),{unsubscribe:A(R)}},[DN](){return this}}}return y({type:Gv.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:b,[DN]:E}}function $Q(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Gv.INIT})>"u")throw new Error($n(12));if(typeof n(void 0,{type:Gv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($n(13))})}function m3(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const u=e[a];typeof t[u]=="function"&&(n[u]=t[u])}const r=Object.keys(n);let i;try{$Q(n)}catch(a){i=a}return function(u={},c){if(i)throw i;let f=!1;const h={};for(let m=0;m<r.length;m++){const g=r[m],y=n[g],b=u[g],E=y(b,c);if(typeof E>"u")throw c&&c.type,new Error($n(14));h[g]=E,f=f||E!==b}return f=f||r.length!==Object.keys(u).length,f?h:u}}function Wv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function HQ(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error($n(15))};const u={getState:i.getState,dispatch:(f,...h)=>a(f,...h)},c=t.map(f=>f(u));return a=Wv(...c)(i.dispatch),{...i,dispatch:a}}}function p3(t){return C1(t)&&"type"in t&&typeof t.type=="string"}var g3=Symbol.for("immer-nothing"),NN=Symbol.for("immer-draftable"),Xr=Symbol.for("immer-state");function Mi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var yf=Object.getPrototypeOf;function hl(t){return!!t&&!!t[Xr]}function hs(t){return t?v3(t)||Array.isArray(t)||!!t[NN]||!!t.constructor?.[NN]||h_(t)||d_(t):!1}var KQ=Object.prototype.constructor.toString();function v3(t){if(!t||typeof t!="object")return!1;const e=yf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===KQ}function Yv(t,e){f_(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function f_(t){const e=t[Xr];return e?e.type_:Array.isArray(t)?1:h_(t)?2:d_(t)?3:0}function $T(t,e){return f_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function y3(t,e,n){const r=f_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function GQ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function h_(t){return t instanceof Map}function d_(t){return t instanceof Set}function Ru(t){return t.copy_||t.base_}function HT(t,e){if(h_(t))return new Map(t);if(d_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=v3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Xr];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const u=i[a],c=r[u];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[u]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[u]})}return Object.create(yf(t),r)}else{const r=yf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function D1(t,e=!1){return m_(t)||hl(t)||!hs(t)||(f_(t)>1&&(t.set=t.add=t.clear=t.delete=WQ),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>D1(r,!0))),t}function WQ(){Mi(2)}function m_(t){return Object.isFrozen(t)}var YQ={};function dl(t){const e=YQ[t];return e||Mi(0,t),e}var vm;function _3(){return vm}function QQ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kN(t,e){e&&(dl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function KT(t){GT(t),t.drafts_.forEach(XQ),t.drafts_=null}function GT(t){t===vm&&(vm=t.parent_)}function MN(t){return vm=QQ(vm,t)}function XQ(t){const e=t[Xr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function VN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Xr].modified_&&(KT(e),Mi(4)),hs(t)&&(t=Qv(e,t),e.parent_||Xv(e,t)),e.patches_&&dl("Patches").generateReplacementPatches_(n[Xr].base_,t,e.patches_,e.inversePatches_)):t=Qv(e,n,[]),KT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==g3?t:void 0}function Qv(t,e,n){if(m_(e))return e;const r=e[Xr];if(!r)return Yv(e,(i,a)=>jN(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Xv(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,u=!1;r.type_===3&&(a=new Set(i),i.clear(),u=!0),Yv(a,(c,f)=>jN(t,r,i,c,f,n,u)),Xv(t,i,!1),n&&t.patches_&&dl("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function jN(t,e,n,r,i,a,u){if(hl(i)){const c=a&&e&&e.type_!==3&&!$T(e.assigned_,r)?a.concat(r):void 0,f=Qv(t,i,c);if(y3(n,r,f),hl(f))t.canAutoFreeze_=!1;else return}else u&&n.add(i);if(hs(i)&&!m_(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Qv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Xv(t,i)}}function Xv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&D1(e,n)}function ZQ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:_3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=N1;n&&(i=[r],a=ym);const{revoke:u,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=u,c}var N1={get(t,e){if(e===Xr)return t;const n=Ru(t);if(!$T(n,e))return JQ(t,n,e);const r=n[e];return t.finalized_||!hs(r)?r:r===uE(t.base_,e)?(lE(t),t.copy_[e]=YT(r,t)):r},has(t,e){return e in Ru(t)},ownKeys(t){return Reflect.ownKeys(Ru(t))},set(t,e,n){const r=b3(Ru(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=uE(Ru(t),e),a=i?.[Xr];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(GQ(n,i)&&(n!==void 0||$T(t.base_,e)))return!0;lE(t),WT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return uE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,lE(t),WT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ru(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Mi(11)},getPrototypeOf(t){return yf(t.base_)},setPrototypeOf(){Mi(12)}},ym={};Yv(N1,(t,e)=>{ym[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ym.deleteProperty=function(t,e){return ym.set.call(this,t,e,void 0)};ym.set=function(t,e,n){return N1.set.call(this,t[0],e,n,t[0])};function uE(t,e){const n=t[Xr];return(n?Ru(n):t)[e]}function JQ(t,e,n){const r=b3(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function b3(t,e){if(!(e in t))return;let n=yf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=yf(n)}}function WT(t){t.modified_||(t.modified_=!0,t.parent_&&WT(t.parent_))}function lE(t){t.copy_||(t.copy_=HT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var eX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const u=this;return function(f=a,...h){return u.produce(f,m=>n.call(this,m,...h))}}typeof n!="function"&&Mi(6),r!==void 0&&typeof r!="function"&&Mi(7);let i;if(hs(e)){const a=MN(this),u=YT(e,void 0);let c=!0;try{i=n(u),c=!1}finally{c?KT(a):GT(a)}return kN(a,r),VN(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===g3&&(i=void 0),this.autoFreeze_&&D1(i,!0),r){const a=[],u=[];dl("Patches").generateReplacementPatches_(e,i,a,u),r(a,u)}return i}else Mi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...c)=>this.produceWithPatches(u,f=>e(f,...c));let r,i;return[this.produce(e,n,(u,c)=>{r=u,i=c}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){hs(t)||Mi(8),hl(t)&&(t=yo(t));const e=MN(this),n=YT(t,void 0);return n[Xr].isManual_=!0,GT(e),n}finishDraft(t,e){const n=t&&t[Xr];(!n||!n.isManual_)&&Mi(9);const{scope_:r}=n;return kN(r,e),VN(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=dl("Patches").applyPatches_;return hl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function YT(t,e){const n=h_(t)?dl("MapSet").proxyMap_(t,e):d_(t)?dl("MapSet").proxySet_(t,e):ZQ(t,e);return(e?e.scope_:_3()).drafts_.push(n),n}function yo(t){return hl(t)||Mi(10,t),w3(t)}function w3(t){if(!hs(t)||m_(t))return t;const e=t[Xr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=HT(t,e.scope_.immer_.useStrictShallowCopy_)}else n=HT(t,!0);return Yv(n,(r,i)=>{y3(n,r,w3(i))}),e&&(e.finalized_=!1),n}var Zr=new eX,E3=Zr.produce;Zr.produceWithPatches.bind(Zr);Zr.setAutoFreeze.bind(Zr);Zr.setUseStrictShallowCopy.bind(Zr);Zr.applyPatches.bind(Zr);Zr.createDraft.bind(Zr);Zr.finishDraft.bind(Zr);function T3(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var tX=T3(),nX=T3,rX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wv:Wv.apply(null,arguments)};function Ai(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Gr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>p3(r)&&r.type===t,n}var A3=class Pd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Pd.prototype)}static get[Symbol.species](){return Pd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Pd(...e[0].concat(this)):new Pd(...e.concat(this))}};function LN(t){return hs(t)?E3(t,()=>{}):t}function zg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function iX(t){return typeof t=="boolean"}var aX=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let u=new A3;return n&&(iX(n)?u.push(tX):u.push(nX(n.extraArgument))),u},sX="RTK_autoBatch",UN=t=>e=>{setTimeout(e,t)},oX=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,u=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UN(10):t.type==="callback"?t.queueNotification:UN(t.timeout),h=()=>{u=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>i&&m(),y=r.subscribe(g);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[sX],a=!i,a&&(u||(u=!0,f(h))),r.dispatch(m)}finally{i=!0}}})},uX=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new A3(t);return r&&i.push(oX(typeof r=="object"?r:void 0)),i};function lX(t){const e=aX(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:u=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(C1(n))c=m3(n);else throw new Error(Gr(1));let f;typeof r=="function"?f=r(e):f=e();let h=Wv;i&&(h=rX({trace:!1,...typeof i=="object"&&i}));const m=HQ(...f),g=uX(m);let y=typeof u=="function"?u(g):g();const b=h(...y);return d3(c,a,b)}function S3(t){const e={},n=[];let r;const i={addCase(a,u){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Gr(28));if(c in e)throw new Error(Gr(29));return e[c]=u,i},addMatcher(a,u){return n.push({matcher:a,reducer:u}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function cX(t){return typeof t=="function"}function fX(t,e){let[n,r,i]=S3(e),a;if(cX(t))a=()=>LN(t());else{const c=LN(t);a=()=>c}function u(c=a(),f){let h=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[i]),h.reduce((m,g)=>{if(g)if(hl(m)){const b=g(m,f);return b===void 0?m:b}else{if(hs(m))return E3(m,y=>g(y,f));{const y=g(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return u.getInitialState=a,u}var hX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dX=(t=21)=>{let e="",n=t;for(;n--;)e+=hX[Math.random()*64|0];return e},mX=Symbol.for("rtk-slice-createasyncthunk");function pX(t,e){return`${t}/${e}`}function gX({creators:t}={}){const e=t?.asyncThunk?.[mX];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(Gr(11));const u=(typeof r.reducers=="function"?r.reducers(yX()):r.reducers)||{},c=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,U){const L=typeof P=="string"?P:P.type;if(!L)throw new Error(Gr(12));if(L in f.sliceCaseReducersByType)throw new Error(Gr(13));return f.sliceCaseReducersByType[L]=U,h},addMatcher(P,U){return f.sliceMatchers.push({matcher:P,reducer:U}),h},exposeAction(P,U){return f.actionCreators[P]=U,h},exposeCaseReducer(P,U){return f.sliceCaseReducersByName[P]=U,h}};c.forEach(P=>{const U=u[P],L={reducerName:P,type:pX(i,P),createNotation:typeof r.reducers=="function"};bX(U)?EX(L,U,h,e):_X(L,U,h)});function m(){const[P={},U=[],L=void 0]=typeof r.extraReducers=="function"?S3(r.extraReducers):[r.extraReducers],$={...P,...f.sliceCaseReducersByType};return fX(r.initialState,C=>{for(let D in $)C.addCase(D,$[D]);for(let D of f.sliceMatchers)C.addMatcher(D.matcher,D.reducer);for(let D of U)C.addMatcher(D.matcher,D.reducer);L&&C.addDefaultCase(L)})}const g=P=>P,y=new Map,b=new WeakMap;let E;function T(P,U){return E||(E=m()),E(P,U)}function A(){return E||(E=m()),E.getInitialState()}function x(P,U=!1){function L(C){let D=C[P];return typeof D>"u"&&U&&(D=zg(b,L,A)),D}function $(C=g){const D=zg(y,U,()=>new WeakMap);return zg(D,C,()=>{const M={};for(const[q,j]of Object.entries(r.selectors??{}))M[q]=vX(j,C,()=>zg(b,C,A),U);return M})}return{reducerPath:P,getSelectors:$,get selectors(){return $(L)},selectSlice:L}}const R={name:i,reducer:T,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:A,...x(a),injectInto(P,{reducerPath:U,...L}={}){const $=U??a;return P.inject({reducerPath:$,reducer:T},L),{...R,...x($,!0)}}};return R}}function vX(t,e,n,r){function i(a,...u){let c=e(a);return typeof c>"u"&&r&&(c=n()),t(c,...u)}return i.unwrapped=t,i}var Ii=gX();function yX(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function _X({type:t,reducerName:e,createNotation:n},r,i){let a,u;if("reducer"in r){if(n&&!wX(r))throw new Error(Gr(17));a=r.reducer,u=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,u?Ai(t,u):Ai(t))}function bX(t){return t._reducerDefinitionType==="asyncThunk"}function wX(t){return t._reducerDefinitionType==="reducerWithPrepare"}function EX({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Gr(18));const{payloadCreator:a,fulfilled:u,pending:c,rejected:f,settled:h,options:m}=n,g=i(t,a,m);r.exposeAction(e,g),u&&r.addCase(g.fulfilled,u),c&&r.addCase(g.pending,c),f&&r.addCase(g.rejected,f),h&&r.addMatcher(g.settled,h),r.exposeCaseReducer(e,{fulfilled:u||Fg,pending:c||Fg,rejected:f||Fg,settled:h||Fg})}function Fg(){}var TX="task",I3="listener",x3="completed",k1="cancelled",AX=`task-${k1}`,SX=`task-${x3}`,QT=`${I3}-${k1}`,IX=`${I3}-${x3}`,p_=class{constructor(t){this.code=t,this.message=`${TX} ${k1} (reason: ${t})`}name="TaskAbortError";message},M1=(t,e)=>{if(typeof t!="function")throw new TypeError(Gr(32))},Zv=()=>{},P3=(t,e=Zv)=>(t.catch(e),t),O3=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Wu=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Yu=t=>{if(t.aborted){const{reason:e}=t;throw new p_(e)}};function R3(t,e){let n=Zv;return new Promise((r,i)=>{const a=()=>i(new p_(t.reason));if(t.aborted){a();return}n=O3(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Zv})}var xX=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof p_?"cancelled":"rejected",error:n}}finally{e?.()}},Jv=t=>e=>P3(R3(t,e).then(n=>(Yu(t),n))),C3=t=>{const e=Jv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Hc}=Object,BN={},g_="listenerMiddleware",PX=(t,e)=>{const n=r=>O3(t,()=>Wu(r,t.reason));return(r,i)=>{M1(r);const a=new AbortController;n(a);const u=xX(async()=>{Yu(t),Yu(a.signal);const c=await r({pause:Jv(a.signal),delay:C3(a.signal),signal:a.signal});return Yu(a.signal),c},()=>Wu(a,SX));return i?.autoJoin&&e.push(u.catch(Zv)),{result:Jv(t)(u),cancel(){Wu(a,AX)}}}},OX=(t,e)=>{const n=async(r,i)=>{Yu(e);let a=()=>{};const c=[new Promise((f,h)=>{let m=t({predicate:r,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});a=()=>{m(),h()}})];i!=null&&c.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await R3(e,Promise.race(c));return Yu(e),f}finally{a()}};return(r,i)=>P3(n(r,i))},D3=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ai(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Gr(21));return M1(a),{predicate:i,type:e,effect:a}},N3=Hc(t=>{const{type:e,predicate:n,effect:r}=D3(t);return{id:dX(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Gr(22))}}},{withTypes:()=>N3}),qN=(t,e)=>{const{type:n,effect:r,predicate:i}=D3(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},XT=t=>{t.pending.forEach(e=>{Wu(e,QT)})},RX=t=>()=>{t.forEach(XT),t.clear()},zN=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},k3=Hc(Ai(`${g_}/add`),{withTypes:()=>k3}),CX=Ai(`${g_}/removeAll`),M3=Hc(Ai(`${g_}/remove`),{withTypes:()=>M3}),DX=(...t)=>{console.error(`${g_}/error`,...t)},Zm=(t={})=>{const e=new Map,{extra:n,onError:r=DX}=t;M1(r);const i=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g?.cancelActive&&XT(m)}),a=m=>{const g=qN(e,m)??N3(m);return i(g)};Hc(a,{withTypes:()=>a});const u=m=>{const g=qN(e,m);return g&&(g.unsubscribe(),m.cancelActive&&XT(g)),!!g};Hc(u,{withTypes:()=>u});const c=async(m,g,y,b)=>{const E=new AbortController,T=OX(a,E.signal),A=[];try{m.pending.add(E),await Promise.resolve(m.effect(g,Hc({},y,{getOriginalState:b,condition:(x,R)=>T(x,R).then(Boolean),take:T,delay:C3(E.signal),pause:Jv(E.signal),extra:n,signal:E.signal,fork:PX(E.signal,A),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((x,R,P)=>{x!==E&&(Wu(x,QT),P.delete(x))})},cancel:()=>{Wu(E,QT),m.pending.delete(E)},throwIfCancelled:()=>{Yu(E.signal)}})))}catch(x){x instanceof p_||zN(r,x,{raisedBy:"effect"})}finally{await Promise.all(A),Wu(E,IX),m.pending.delete(E)}},f=RX(e);return{middleware:m=>g=>y=>{if(!p3(y))return g(y);if(k3.match(y))return a(y.payload);if(CX.match(y)){f();return}if(M3.match(y))return u(y.payload);let b=m.getState();const E=()=>{if(b===BN)throw new Error(Gr(23));return b};let T;try{if(T=g(y),e.size>0){const A=m.getState(),x=Array.from(e.values());for(const R of x){let P=!1;try{P=R.predicate(y,A,b)}catch(U){P=!1,zN(r,U,{raisedBy:"predicate"})}P&&c(R,y,m,E)}}}finally{b=BN}return T},startListening:a,stopListening:u,clearListeners:f}};function Gr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var NX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},V3=Ii({name:"chartLayout",initialState:NX,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:kX,setLayout:MX,setChartSize:VX,setScale:jX}=V3.actions,LX=V3.reducer;function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){UX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UX(t,e,n){return(e=BX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BX(t){var e=qX(t,"string");return typeof e=="symbol"?e:e+""}function qX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ey=Math.PI/180,zX=t=>t*180/Math.PI,Wn=(t,e,n,r)=>({x:t+Math.cos(-ey*r)*n,y:e+Math.sin(-ey*r)*n}),FX=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},$X=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},HX=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,u=$X({x:n,y:r},{x:i,y:a});if(u<=0)return{radius:u,angle:0};var c=(n-i)/u,f=Math.acos(c);return r>a&&(f=2*Math.PI-f),{radius:u,angle:zX(f),angleInRadian:f}},KX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},GX=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),u=Math.min(i,a);return t+u*360},WX=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=HX({x:n,y:r},e),{innerRadius:u,outerRadius:c}=e;if(i<u||i>c||i===0)return null;var{startAngle:f,endAngle:h}=KX(e),m=a,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?$N($N({},e),{},{radius:i,angle:GX(m,e)}):null};function HN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(n),!0).forEach(function(r){YX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YX(t,e,n){return(e=QX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QX(t){var e=XX(t,"string");return typeof e=="symbol"?e:e+""}function XX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wr(t,e,n){return mn(t)||mn(e)?n:Sa(e)?fl(t,e,n):typeof e=="function"?e(t):n}var ZX=(t,e,n,r,i)=>{var a,u=-1,c=(a=e?.length)!==null&&a!==void 0?a:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var h=f>0?n[f-1].coordinate:n[c-1].coordinate,m=n[f].coordinate,g=f>=c-1?n[0].coordinate:n[f+1].coordinate,y=void 0;if(Kr(m-h)!==Kr(g-m)){var b=[];if(Kr(g-m)===Kr(i[1]-i[0])){y=g;var E=m+i[1]-i[0];b[0]=Math.min(E,(E+h)/2),b[1]=Math.max(E,(E+h)/2)}else{y=h;var T=g+i[1]-i[0];b[0]=Math.min(m,(T+m)/2),b[1]=Math.max(m,(T+m)/2)}var A=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(t>A[0]&&t<=A[1]||t>=b[0]&&t<=b[1]){({index:u}=n[f]);break}}else{var x=Math.min(h,g),R=Math.max(h,g);if(t>(x+m)/2&&t<=(R+m)/2){({index:u}=n[f]);break}}}else if(e){for(var P=0;P<c;P++)if(P===0&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P>0&&P<c-1&&t>(e[P].coordinate+e[P-1].coordinate)/2&&t<=(e[P].coordinate+e[P+1].coordinate)/2||P===c-1&&t>(e[P].coordinate+e[P-1].coordinate)/2){({index:u}=e[P]);break}}return u},JX=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:u,layout:c}=e;if((c==="vertical"||c==="horizontal"&&u==="middle")&&a!=="center"&&xe(t[a]))return vi(vi({},t),{},{[a]:t[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&u!=="middle"&&xe(t[u]))return vi(vi({},t),{},{[u]:t[u]+(i||0)})}return t},wl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",KN=1e-4,eZ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-KN,a=Math.max(r[0],r[1])+KN,u=t(e[0]),c=t(e[n-1]);(u<i||u>a||c<i||c>a)&&t.domain([e[0],e[n-1]])}},tZ=(t,e)=>{if(!e||e.length!==2||!xe(e[0])||!xe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!xe(t[0])||t[0]<n)&&(i[0]=n),(!xe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},nZ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,u=0;u<e;++u){var c=Ti(t[u][n][1])?t[u][n][0]:t[u][n][1];c>=0?(t[u][n][0]=i,t[u][n][1]=i+c,i=t[u][n][1]):(t[u][n][0]=a,t[u][n][1]=a+c,a=t[u][n][1])}},rZ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var u=Ti(t[a][n][1])?t[a][n][0]:t[a][n][1];u>=0?(t[a][n][0]=i,t[a][n][1]=i+u,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},iZ={sign:nZ,expand:NY,none:vf,silhouette:kY,wiggle:MY,positive:rZ},aZ=(t,e,n)=>{var r=iZ[n],i=DY().keys(e).value((a,u)=>+Wr(a,u,0)).order(qT).offset(r);return i(t)};function j3(t){return t==null?void 0:String(t)}var GN=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:a,index:u}=t;if(e.type==="category")return n[u]?n[u].coordinate+r:null;var c=Wr(a,e.dataKey,e.scale.domain()[u]);return mn(c)?null:e.scale(c)-i/2+r},sZ=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},oZ=t=>{var e=t.flat(2).filter(xe);return[Math.min(...e),Math.max(...e)]},uZ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],lZ=(t,e,n)=>{if(t!=null)return uZ(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:u}=a,c=u.reduce((f,h)=>{var m=oZ(h.slice(e,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},WN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,V1=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=c_(e,m=>m.coordinate),a=1/0,u=1,c=i.length;u<c;u++){var f=i[u],h=i[u-1];a=Math.min((f.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function QN(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return vi(vi({},e),{},{dataKey:n,payload:r,value:i,name:a})}function L3(t,e){if(t)return String(t);if(typeof e=="string")return e}function cZ(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?WX({x:t,y:e},r):null}var fZ=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:u}=r;return vi(vi(vi({},r),Wn(r.cx,r.cy,u,a)),{},{angle:a,radius:u})}var c=i.coordinate,{angle:f}=r;return vi(vi(vi({},r),Wn(r.cx,r.cy,c,f)),{},{angle:f,radius:c})}return{x:0,y:0}},hZ=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Bo=t=>t.layout.width,qo=t=>t.layout.height,dZ=t=>t.layout.scale,U3=t=>t.layout.margin,j1=ae(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),L1=ae(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),mZ="data-recharts-item-index",pZ="data-recharts-item-data-key",v_=60;function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){gZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gZ(t,e,n){return(e=vZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vZ(t){var e=yZ(t,"string");return typeof e=="symbol"?e:e+""}function yZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Z=t=>t.brush.height,Xn=ae([Bo,qo,U3,_Z,j1,L1,f3,LQ],(t,e,n,r,i,a,u,c)=>{var f=a.reduce((E,T)=>{var{orientation:A}=T;if(!T.mirror&&!T.hide){var x=typeof T.width=="number"?T.width:v_;return io(io({},E),{},{[A]:E[A]+x})}return E},{left:n.left||0,right:n.right||0}),h=i.reduce((E,T)=>{var{orientation:A}=T;return!T.mirror&&!T.hide?io(io({},E),{},{[A]:fl(E,"".concat(A))+T.height}):E},{top:n.top||0,bottom:n.bottom||0}),m=io(io({},h),f),g=m.bottom;m.bottom+=r,m=JX(m,u,c);var y=t-m.left-m.right,b=e-m.top-m.bottom;return io(io({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(b,0)})}),bZ=ae(Xn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),B3=ae(Bo,qo,(t,e)=>({x:0,y:0,width:t,height:e})),wZ=N.createContext(null),ei=()=>N.useContext(wZ)!=null,y_=t=>t.brush,__=ae([y_,Xn,U3],(t,e,n)=>({height:t.height,x:xe(t.x)?t.x:e.left,y:xe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:xe(t.width)?t.width:e.width})),U1=()=>{var t,e=ei(),n=Oe(bZ),r=Oe(__),i=(t=Oe(y_))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},EZ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},B1=()=>{var t;return(t=Oe(Xn))!==null&&t!==void 0?t:EZ},q3=()=>Oe(Bo),z3=()=>Oe(qo),TZ={top:0,right:0,bottom:0,left:0},AZ=()=>{var t;return(t=Oe(e=>e.layout.margin))!==null&&t!==void 0?t:TZ},Et=t=>t.layout.layoutType,q1=()=>Oe(Et),SZ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},F3=Ii({name:"legend",initialState:SZ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=yo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:ZN,setLegendSettings:IZ,addLegendPayload:xZ,removeLegendPayload:PZ}=F3.actions,OZ=F3.reducer,RZ=["contextPayload"];function ZT(){return ZT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZT.apply(null,arguments)}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){z1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z1(t,e,n){return(e=CZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CZ(t){var e=DZ(t,"string");return typeof e=="symbol"?e:e+""}function DZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NZ(t,e){if(t==null)return{};var n,r,i=kZ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function MZ(t){return t.value}function VZ(t){var{contextPayload:e}=t,n=NZ(t,RZ),r=o3(e,t.payloadUniqBy,MZ),i=_f(_f({},n),{},{payload:r});return N.isValidElement(t.content)?N.cloneElement(t.content,i):typeof t.content=="function"?N.createElement(t.content,i):N.createElement(A1,i)}function jZ(t,e,n,r,i,a){var{layout:u,align:c,verticalAlign:f}=e,h,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&u==="vertical"?h={left:((r||0)-a.width)/2}:h=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(f==="middle"?m={top:((i||0)-a.height)/2}:m=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),_f(_f({},h),m)}function LZ(t){var e=tn();return N.useEffect(()=>{e(IZ(t))},[e,t]),null}function UZ(t){var e=tn();return N.useEffect(()=>(e(ZN(t)),()=>{e(ZN({width:0,height:0}))}),[e,t]),null}function BZ(t){var e=qQ(),n=nY(),r=AZ(),{width:i,height:a,wrapperStyle:u,portal:c}=t,[f,h]=h3([e]),m=q3(),g=z3(),y=m-(r.left||0)-(r.right||0),b=b_.getWidthOrHeight(t.layout,a,i,y),E=c?u:_f(_f({position:"absolute",width:b?.width||i||"auto",height:b?.height||a||"auto"},jZ(u,t,r,m,g,f)),u),T=c??n;if(T==null)return null;var A=N.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:h},N.createElement(LZ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),N.createElement(UZ,{width:f.width,height:f.height}),N.createElement(VZ,ZT({},t,b,{margin:r,chartWidth:m,chartHeight:g,contextPayload:e})));return V4.createPortal(A,T)}class b_ extends N.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&xe(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return N.createElement(BZ,this.props)}}z1(b_,"displayName","Legend");z1(b_,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function JT(){return JT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JT.apply(null,arguments)}function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){qZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qZ(t,e,n){return(e=zZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zZ(t){var e=FZ(t,"string");return typeof e=="symbol"?e:e+""}function FZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Z(t){return Array.isArray(t)&&Sa(t[0])&&Sa(t[1])?t.join(" ~ "):t}var HZ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:u,itemSorter:c,wrapperClassName:f,labelClassName:h,label:m,labelFormatter:g,accessibilityLayer:y=!1}=t,b=()=>{if(a&&a.length){var L={padding:0,margin:0},$=(c?c_(a,c):a).map((C,D)=>{if(C.type==="none")return null;var M=C.formatter||u||$Z,{value:q,name:j}=C,B=q,V=j;if(M){var Pe=M(q,j,C,D,a);if(Array.isArray(Pe))[B,V]=Pe;else if(Pe!=null)B=Pe;else return null}var Me=cE({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:Me},Sa(V)?N.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Sa(V)?N.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,N.createElement("span",{className:"recharts-tooltip-item-value"},B),N.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:L},$)}return null},E=cE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),T=cE({margin:0},i),A=!mn(m),x=A?m:"",R=St("recharts-default-tooltip",f),P=St("recharts-tooltip-label",h);A&&g&&a!==void 0&&a!==null&&(x=g(m,a));var U=y?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",JT({className:R,style:E},U),N.createElement("p",{className:P,style:T},N.isValidElement(x)?x:"".concat(x)),b())},dd="recharts-tooltip-wrapper",KZ={visibility:"hidden"};function GZ(t){var{coordinate:e,translateX:n,translateY:r}=t;return St(dd,{["".concat(dd,"-right")]:xe(n)&&e&&xe(e.x)&&n>=e.x,["".concat(dd,"-left")]:xe(n)&&e&&xe(e.x)&&n<e.x,["".concat(dd,"-bottom")]:xe(r)&&e&&xe(e.y)&&r>=e.y,["".concat(dd,"-top")]:xe(r)&&e&&xe(e.y)&&r<e.y})}function t2(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:u,tooltipDimension:c,viewBox:f,viewBoxDimension:h}=t;if(a&&xe(a[r]))return a[r];var m=n[r]-c-(i>0?i:0),g=n[r]+i;if(e[r])return u[r]?m:g;var y=f[r];if(y==null)return 0;if(u[r]){var b=m,E=y;return b<E?Math.max(g,y):Math.max(m,y)}if(h==null)return 0;var T=g+c,A=y+h;return T>A?Math.max(m,y):Math.max(g,y)}function WZ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function YZ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:u,useTranslate3d:c,viewBox:f}=t,h,m,g;return u.height>0&&u.width>0&&n?(m=t2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),g=t2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),h=WZ({translateX:m,translateY:g,useTranslate3d:c})):h=KZ,{cssProperties:h,cssClasses:GZ({translateX:m,translateY:g,coordinate:n})}}function n2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(n),!0).forEach(function(r){eA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eA(t,e,n){return(e=QZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QZ(t){var e=XZ(t,"string");return typeof e=="symbol"?e:e+""}function XZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ZZ extends N.PureComponent{constructor(){super(...arguments),eA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),eA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:u,hasPayload:c,isAnimationActive:f,offset:h,position:m,reverseDirection:g,useTranslate3d:y,viewBox:b,wrapperStyle:E,lastBoundingBox:T,innerRef:A,hasPortalFromProps:x}=this.props,{cssClasses:R,cssProperties:P}=YZ({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:h,position:m,reverseDirection:g,tooltipBox:{height:T.height,width:T.width},useTranslate3d:y,viewBox:b}),U=x?{}:$g($g({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),L=$g($g({},U),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},E);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:L,ref:A},a)}}var JZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Jm={isSsr:JZ()},$3=()=>Oe(t=>t.rootProps.accessibilityLayer);function Jr(t){return Number.isFinite(t)}function ty(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function tA(){return tA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tA.apply(null,arguments)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){eJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eJ(t,e,n){return(e=tJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tJ(t){var e=nJ(t,"string");return typeof e=="symbol"?e:e+""}function nJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a2={curveBasisClosed:wY,curveBasisOpen:EY,curveBasis:bY,curveBumpX:sY,curveBumpY:oY,curveLinearClosed:TY,curveLinear:u_,curveMonotoneX:AY,curveMonotoneY:SY,curveNatural:IY,curveStep:xY,curveStepAfter:OY,curveStepBefore:PY},Hg=t=>Jr(t.x)&&Jr(t.y),md=t=>t.x,pd=t=>t.y,rJ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Xm(t));return(n==="curveMonotone"||n==="curveBump")&&e?a2["".concat(n).concat(e==="vertical"?"Y":"X")]:a2[n]||u_},iJ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,u=rJ(e,i),c=a?n.filter(Hg):n,f;if(Array.isArray(r)){var h=a?r.filter(g=>Hg(g)):r,m=c.map((g,y)=>i2(i2({},g),{},{base:h[y]}));return i==="vertical"?f=Ug().y(pd).x1(md).x0(g=>g.base.x):f=Ug().x(md).y1(pd).y0(g=>g.base.y),f.defined(Hg).curve(u),f(m)}return i==="vertical"&&xe(r)?f=Ug().y(pd).x1(md).x0(r):xe(r)?f=Ug().x(md).y1(pd).y0(r):f=F4().x(md).y(pd),f.defined(Hg).curve(u),f(c)},aJ=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?iJ(t):r;return N.createElement("path",tA({},Lt(t,!1),GW(t),{className:St("recharts-curve",e),d:a===null?void 0:a,ref:i}))},sJ=["x","y","top","left","width","height","className"];function nA(){return nA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nA.apply(null,arguments)}function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){uJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uJ(t,e,n){return(e=lJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lJ(t){var e=cJ(t,"string");return typeof e=="symbol"?e:e+""}function cJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fJ(t,e){if(t==null)return{};var n,r,i=hJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dJ=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),mJ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:u=0,className:c}=t,f=fJ(t,sJ),h=oJ({x:e,y:n,top:r,left:i,width:a,height:u},f);return!xe(e)||!xe(n)||!xe(a)||!xe(u)||!xe(r)||!xe(i)?null:N.createElement("path",nA({},Lt(h,!0),{className:St("recharts-cross",c),d:dJ(e,n,a,u,r,i)}))};function pJ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){vJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vJ(t,e,n){return(e=yJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yJ(t){var e=_J(t,"string");return typeof e=="symbol"?e:e+""}function _J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function El(t,e){var n=gJ({},t),r=e,i=Object.keys(e),a=i.reduce((u,c)=>(u[c]===void 0&&r[c]!==void 0&&(u[c]=r[c]),u),n);return a}var fE={},hE={},dE={},u2;function bJ(){return u2||(u2=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e}(dE)),dE}var l2;function wJ(){return l2||(l2=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bJ(),n=i3(),r=P1(),i=O1(),a=I1();function u(h,m,g){return c(h,m,void 0,void 0,void 0,void 0,g)}function c(h,m,g,y,b,E,T){const A=T(h,m,g,y,b,E);if(A!==void 0)return A;if(typeof h==typeof m)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===m;case"number":return h===m||Object.is(h,m);case"function":return h===m;case"object":return f(h,m,E,T)}return f(h,m,E,T)}function f(h,m,g,y){if(Object.is(h,m))return!0;let b=r.getTag(h),E=r.getTag(m);if(b===i.argumentsTag&&(b=i.objectTag),E===i.argumentsTag&&(E=i.objectTag),b!==E)return!1;switch(b){case i.stringTag:return h.toString()===m.toString();case i.numberTag:{const x=h.valueOf(),R=m.valueOf();return a.eq(x,R)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(h.valueOf(),m.valueOf());case i.regexpTag:return h.source===m.source&&h.flags===m.flags;case i.functionTag:return h===m}g=g??new Map;const T=g.get(h),A=g.get(m);if(T!=null&&A!=null)return T===m;g.set(h,m),g.set(m,h);try{switch(b){case i.mapTag:{if(h.size!==m.size)return!1;for(const[x,R]of h.entries())if(!m.has(x)||!c(R,m.get(x),x,h,m,g,y))return!1;return!0}case i.setTag:{if(h.size!==m.size)return!1;const x=Array.from(h.values()),R=Array.from(m.values());for(let P=0;P<x.length;P++){const U=x[P],L=R.findIndex($=>c(U,$,void 0,h,m,g,y));if(L===-1)return!1;R.splice(L,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(m)||h.length!==m.length)return!1;for(let x=0;x<h.length;x++)if(!c(h[x],m[x],x,h,m,g,y))return!1;return!0}case i.arrayBufferTag:return h.byteLength!==m.byteLength?!1:f(new Uint8Array(h),new Uint8Array(m),g,y);case i.dataViewTag:return h.byteLength!==m.byteLength||h.byteOffset!==m.byteOffset?!1:f(new Uint8Array(h),new Uint8Array(m),g,y);case i.errorTag:return h.name===m.name&&h.message===m.message;case i.objectTag:{if(!(f(h.constructor,m.constructor,g,y)||e.isPlainObject(h)&&e.isPlainObject(m)))return!1;const R=[...Object.keys(h),...n.getSymbols(h)],P=[...Object.keys(m),...n.getSymbols(m)];if(R.length!==P.length)return!1;for(let U=0;U<R.length;U++){const L=R[U],$=h[L];if(!Object.hasOwn(m,L))return!1;const C=m[L];if(!c($,C,L,h,m,g,y))return!1}return!0}default:return!1}}finally{g.delete(h),g.delete(m)}}t.isEqualWith=u}(hE)),hE}var mE={},c2;function EJ(){return c2||(c2=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e}(mE)),mE}var f2;function TJ(){return f2||(f2=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wJ(),n=EJ();function r(i,a){return e.isEqualWith(i,a,n.noop)}t.isEqual=r}(fE)),fE}var pE,h2;function AJ(){return h2||(h2=1,pE=TJ().isEqual),pE}var SJ=AJ();const IJ=Fi(SJ);function xJ(t){var e={},n=()=>null,r=!1,i=null,a=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var c=u,[f,...h]=c;if(typeof f=="number"){i=t.setTimeout(a.bind(null,h),f);return}a(f),i=t.setTimeout(a.bind(null,h));return}typeof u=="object"&&(e=u,n(e)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,i&&(i(),i=null),a(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>t}}var ny=1e-4,H3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],K3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),d2=(t,e)=>n=>{var r=H3(t,e);return K3(r,n)},PJ=(t,e)=>n=>{var r=H3(t,e),i=[...r.map((a,u)=>a*u).slice(1),0];return K3(i,n)},m2=function(){for(var e,n,r,i,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];if(u.length===1)switch(u[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var f=u[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([e,r,n,i]=f[1].split(")")[0].split(",").map(E=>parseFloat(E)))}}else u.length===4&&([e,r,n,i]=u);var h=d2(e,n),m=d2(r,i),g=PJ(e,n),y=E=>E>1?1:E<0?0:E,b=E=>{for(var T=E>1?1:E,A=T,x=0;x<8;++x){var R=h(A)-T,P=g(A);if(Math.abs(R-T)<ny||P<ny)return m(A);A=y(A-R/P)}return m(A)};return b.isStepper=!1,b},OJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(u,c,f)=>{var h=-(u-c)*n,m=f*r,g=f+(h-m)*i/1e3,y=f*i/1e3+u;return Math.abs(y-c)<ny&&Math.abs(g)<ny?[c,0]:[y,g]};return a.isStepper=!0,a.dt=i,a},RJ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return m2(t);case"spring":return OJ();default:if(t.split("(")[0]==="cubic-bezier")return m2(t)}return typeof t=="function"?t:null};function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){CJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CJ(t,e,n){return(e=DJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DJ(t){var e=NJ(t,"string");return typeof e=="symbol"?e:e+""}function NJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kJ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),MJ=(t,e,n)=>t.map(r=>"".concat(kJ(r)," ").concat(e,"ms ").concat(n)).join(","),VJ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),_m=(t,e)=>Object.keys(e).reduce((n,r)=>g2(g2({},n),{},{[r]:t(r,e[r])}),{});function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(r){jJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jJ(t,e,n){return(e=LJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LJ(t){var e=UJ(t,"string");return typeof e=="symbol"?e:e+""}function UJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ry=(t,e,n)=>t+(e-t)*n,rA=t=>{var{from:e,to:n}=t;return e!==n},G3=(t,e,n)=>{var r=_m((i,a)=>{if(rA(a)){var[u,c]=t(a.from,a.to,a.velocity);return Kn(Kn({},a),{},{from:u,velocity:c})}return a},e);return n<1?_m((i,a)=>rA(a)?Kn(Kn({},a),{},{velocity:ry(a.velocity,r[i].velocity,n),from:ry(a.from,r[i].from,n)}):a,e):G3(t,r,n-1)};function BJ(t,e,n,r,i,a){var u,c=r.reduce((y,b)=>Kn(Kn({},y),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),f=()=>_m((y,b)=>b.from,c),h=()=>!Object.values(c).filter(rA).length,m=null,g=y=>{u||(u=y);var b=y-u,E=b/n.dt;c=G3(n,c,E),i(Kn(Kn(Kn({},t),e),f())),u=y,h()||(m=a.setTimeout(g))};return()=>(m=a.setTimeout(g),()=>{m()})}function qJ(t,e,n,r,i,a,u){var c=null,f=i.reduce((g,y)=>Kn(Kn({},g),{},{[y]:[t[y],e[y]]}),{}),h,m=g=>{h||(h=g);var y=(g-h)/r,b=_m((T,A)=>ry(...A,n(y)),f);if(a(Kn(Kn(Kn({},t),e),b)),y<1)c=u.setTimeout(m);else{var E=_m((T,A)=>ry(...A,n(1)),f);a(Kn(Kn(Kn({},t),e),E))}};return()=>(c=u.setTimeout(m),()=>{c()})}const zJ=(t,e,n,r,i,a)=>{var u=VJ(t,e);return n.isStepper===!0?BJ(t,e,n,u,i,a):qJ(t,e,n,r,u,i,a)};class FJ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=u=>{u-r>=n?e(u):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}var $J=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function iA(){return iA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iA.apply(null,arguments)}function HJ(t,e){if(t==null)return{};var n,r,i=KJ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){zu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zu(t,e,n){return(e=GJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GJ(t){var e=WJ(t,"string");return typeof e=="symbol"?e:e+""}function WJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YJ(){return xJ(new FJ)}class F1 extends N.PureComponent{constructor(e,n){super(e,n),zu(this,"mounted",!1),zu(this,"manager",null),zu(this,"stopJSAnimation",null),zu(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:a,to:u,children:c,duration:f,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:u});return}if(a){if(typeof c=="function"){this.state={style:a};return}this.state={style:i?{[i]:a}:a}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:a,to:u,from:c}=this.props,{style:f}=this.state;if(r){if(!n){var h={style:i?{[i]:u}:u};this.state&&f&&(i&&f[i]!==u||!i&&f!==u)&&this.setState(h);return}if(!(IJ(e.to,u)&&e.canBegin&&e.isActive)){var m=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||a?c:e.to;if(this.state&&f){var y={style:i?{[i]:g}:g};(i&&f[i]!==g||!i&&f!==g)&&this.setState(y)}this.runAnimation(ao(ao({},this.props),{},{from:g,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:a,begin:u,onAnimationEnd:c,onAnimationStart:f}=e,h=zJ(n,r,RJ(a),i,this.changeStyle,this.manager.getTimeoutController()),m=()=>{this.stopJSAnimation=h()};this.manager.start([f,u,m,i,c])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:a,easing:u,onAnimationStart:c,onAnimationEnd:f,children:h}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(e);return}var m=i?{[i]:a}:a,g=MJ(Object.keys(m),r,u);this.manager.start([c,n,ao(ao({},m),{},{transition:g}),r,f])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:a,easing:u,isActive:c,from:f,to:h,canBegin:m,onAnimationEnd:g,shouldReAnimate:y,onAnimationReStart:b,animationManager:E}=e,T=HJ(e,$J),A=N.Children.count(n),x=this.state.style;if(typeof n=="function")return n(x);if(!c||A===0||i<=0)return n;var R=P=>{var{style:U={},className:L}=P.props,$=N.cloneElement(P,ao(ao({},T),{},{style:ao(ao({},U),x),className:L}));return $};return A===1?R(N.Children.only(n)):N.createElement("div",null,N.Children.map(n,P=>R(P)))}}zu(F1,"displayName","Animate");zu(F1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var QJ=N.createContext(null);function bf(t){var e,n,r=N.useContext(QJ);return N.createElement(F1,iA({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:YJ()}))}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iy.apply(null,arguments)}var _2=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,c=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,h;if(a>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=i[g]>a?a:i[g];h="M".concat(t,",").concat(e+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+c*m[0],",").concat(e)),h+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+u*m[1])),h+="L ".concat(t+n,",").concat(e+r-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),h+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-u*m[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var b=Math.min(a,i);h="M ".concat(t,",").concat(e+u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+c*b,",").concat(e,`
            L `).concat(t+n-c*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(e+u*b,`
            L `).concat(t+n,",").concat(e+r-u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-c*b,",").concat(e+r,`
            L `).concat(t+c*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(e+r-u*b," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},XJ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W3=t=>{var e=El(t,XJ),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&i(x)}catch{}},[]);var{x:a,y:u,width:c,height:f,radius:h,className:m}=e,{animationEasing:g,animationDuration:y,animationBegin:b,isAnimationActive:E,isUpdateAnimationActive:T}=e;if(a!==+a||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var A=St("recharts-rectangle",m);return T?N.createElement(bf,{canBegin:r>0,from:{width:c,height:f,x:a,y:u},to:{width:c,height:f,x:a,y:u},duration:y,animationEasing:g,isActive:T},x=>{var{width:R,height:P,x:U,y:L}=x;return N.createElement(bf,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:E,easing:g},N.createElement("path",iy({},Lt(e,!0),{className:A,d:_2(U,L,R,P,h),ref:n})))}):N.createElement("path",iy({},Lt(e,!0),{className:A,d:_2(a,u,c,f,h)}))};function Y3(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,u=Wn(e,n,r,i),c=Wn(e,n,r,a);return{points:[u,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aA.apply(null,arguments)}var ZJ=(t,e)=>{var n=Kr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Kg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:u,cornerRadius:c,cornerIsExternal:f}=t,h=c*(u?1:-1)+r,m=Math.asin(c/h)/ey,g=f?i:i+a*m,y=Wn(e,n,h,g),b=Wn(e,n,r,g),E=f?i-a*m:i,T=Wn(e,n,h*Math.cos(m*ey),E);return{center:y,circleTangency:b,lineTangency:T,theta:m}},Q3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:u}=t,c=ZJ(a,u),f=a+c,h=Wn(e,n,i,a),m=Wn(e,n,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var y=Wn(e,n,r,a),b=Wn(e,n,r,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=f),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},JJ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h}=t,m=Kr(h-f),{circleTangency:g,lineTangency:y,theta:b}=Kg({cx:e,cy:n,radius:i,angle:f,sign:m,cornerRadius:a,cornerIsExternal:c}),{circleTangency:E,lineTangency:T,theta:A}=Kg({cx:e,cy:n,radius:i,angle:h,sign:-m,cornerRadius:a,cornerIsExternal:c}),x=c?Math.abs(f-h):Math.abs(f-h)-b-A;if(x<0)return u?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Q3({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:h});var R="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:U,theta:L}=Kg({cx:e,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:$,lineTangency:C,theta:D}=Kg({cx:e,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),M=c?Math.abs(f-h):Math.abs(f-h)-L-D;if(M<0&&a===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+="L".concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(U.x,",").concat(U.y,"Z")}else R+="L".concat(e,",").concat(n,"Z");return R},eee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},X3=t=>{var e=El(t,eee),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:u,forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m,className:g}=e;if(a<i||h===m)return null;var y=St("recharts-sector",g),b=a-i,E=zi(u,b,0,!0),T;return E>0&&Math.abs(h-m)<360?T=JJ({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(E,b/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):T=Q3({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:m}),N.createElement("path",aA({},Lt(e,!0),{className:y,d:T}))};function tee(t,e,n){var r,i,a,u;if(t==="horizontal")r=e.x,a=r,i=n.top,u=n.top+n.height;else if(t==="vertical")i=e.y,u=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:f,innerRadius:h,outerRadius:m,angle:g}=e,y=Wn(c,f,h,g),b=Wn(c,f,m,g);r=y.x,i=y.y,a=b.x,u=b.y}else return Y3(e);return[{x:r,y:i},{x:a,y:u}]}var gE={},vE={},yE={},b2;function nee(){return b2||(b2=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l3();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n}(yE)),yE}var w2;function ree(){return w2||(w2=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nee();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n}(vE)),vE}var E2;function iee(){return E2||(E2=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c3(),n=ree();function r(i,a,u){u&&typeof u!="number"&&e.isIterateeCall(i,a,u)&&(a=u=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),u=u===void 0?i<a?1:-1:n.toFinite(u);const c=Math.max(Math.ceil((a-i)/(u||1)),0),f=new Array(c);for(let h=0;h<c;h++)f[h]=i,i+=u;return f}t.range=r}(gE)),gE}var _E,T2;function aee(){return T2||(T2=1,_E=iee().range),_E}var see=aee();const Z3=Fi(see);function _o(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oee(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $1(t){let e,n,r;t.length!==2?(e=_o,n=(c,f)=>_o(t(c),f),r=(c,f)=>t(c)-f):(e=t===_o||t===oee?t:uee,n=t,r=t);function i(c,f,h=0,m=c.length){if(h<m){if(e(f,f)!==0)return m;do{const g=h+m>>>1;n(c[g],f)<0?h=g+1:m=g}while(h<m)}return h}function a(c,f,h=0,m=c.length){if(h<m){if(e(f,f)!==0)return m;do{const g=h+m>>>1;n(c[g],f)<=0?h=g+1:m=g}while(h<m)}return h}function u(c,f,h=0,m=c.length){const g=i(c,f,h,m-1);return g>h&&r(c[g-1],f)>-r(c[g],f)?g-1:g}return{left:i,center:u,right:a}}function uee(){return 0}function J3(t){return t===null?NaN:+t}function*lee(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const cee=$1(_o),ep=cee.right;$1(J3).center;class A2 extends Map{constructor(e,n=dee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(S2(this,e))}has(e){return super.has(S2(this,e))}set(e,n){return super.set(fee(this,e),n)}delete(e){return super.delete(hee(this,e))}}function S2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function fee({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function hee({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function dee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mee(t=_o){if(t===_o)return eU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function eU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const pee=Math.sqrt(50),gee=Math.sqrt(10),vee=Math.sqrt(2);function ay(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),u=a>=pee?10:a>=gee?5:a>=vee?2:1;let c,f,h;return i<0?(h=Math.pow(10,-i)/u,c=Math.round(t*h),f=Math.round(e*h),c/h<t&&++c,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*u,c=Math.round(t/h),f=Math.round(e/h),c*h<t&&++c,f*h>e&&--f),f<c&&.5<=n&&n<2?ay(t,e,n*2):[c,f,h]}function sA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,u]=r?ay(e,t,n):ay(t,e,n);if(!(a>=i))return[];const c=a-i+1,f=new Array(c);if(r)if(u<0)for(let h=0;h<c;++h)f[h]=(a-h)/-u;else for(let h=0;h<c;++h)f[h]=(a-h)*u;else if(u<0)for(let h=0;h<c;++h)f[h]=(i+h)/-u;else for(let h=0;h<c;++h)f[h]=(i+h)*u;return f}function oA(t,e,n){return e=+e,t=+t,n=+n,ay(t,e,n)[2]}function uA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?oA(e,t,n):oA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function I2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function x2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function tU(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?eU:mee(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,m=Math.log(f),g=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*g*(f-g)/f)*(h-f/2<0?-1:1),b=Math.max(n,Math.floor(e-h*g/f+y)),E=Math.min(r,Math.floor(e+(f-h)*g/f+y));tU(t,e,b,E,i)}const a=t[e];let u=n,c=r;for(gd(t,n,e),i(t[r],a)>0&&gd(t,n,r);u<c;){for(gd(t,u,c),++u,--c;i(t[u],a)<0;)++u;for(;i(t[c],a)>0;)--c}i(t[n],a)===0?gd(t,n,c):(++c,gd(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function gd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yee(t,e,n){if(t=Float64Array.from(lee(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return x2(t);if(e>=1)return I2(t);var r,i=(r-1)*e,a=Math.floor(i),u=I2(tU(t,a).subarray(0,a+1)),c=x2(t.subarray(a+1));return u+(c-u)*(i-a)}}function _ee(t,e,n=J3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),u=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return u+(c-u)*(i-a)}}function bee(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function xi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Es(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lA=Symbol("implicit");function H1(){var t=new A2,e=[],n=[],r=lA;function i(a){let u=t.get(a);if(u===void 0){if(r!==lA)return r;t.set(a,u=e.push(a)-1)}return n[u%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new A2;for(const u of a)t.has(u)||t.set(u,e.push(u)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return H1(e,n).unknown(r)},xi.apply(i,arguments),i}function K1(){var t=H1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,u,c=!1,f=0,h=0,m=.5;delete t.unknown;function g(){var y=e().length,b=i<r,E=b?i:r,T=b?r:i;a=(T-E)/Math.max(1,y-f+h*2),c&&(a=Math.floor(a)),E+=(T-E-a*(y-f))*m,u=a*(1-f),c&&(E=Math.round(E),u=Math.round(u));var A=bee(y).map(function(x){return E+a*x});return n(b?A.reverse():A)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,c=!0,g()},t.bandwidth=function(){return u},t.step=function(){return a},t.round=function(y){return arguments.length?(c=!!y,g()):c},t.padding=function(y){return arguments.length?(f=Math.min(1,h=+y),g()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),g()):f},t.paddingOuter=function(y){return arguments.length?(h=+y,g()):h},t.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),g()):m},t.copy=function(){return K1(e(),[r,i]).round(c).paddingInner(f).paddingOuter(h).align(m)},xi.apply(g(),arguments)}function nU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nU(e())},t}function wee(){return nU(K1.apply(null,arguments).paddingInner(1))}function G1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function tp(){}var bm=.7,sy=1/bm,Kc="\\s*([+-]?\\d+)\\s*",wm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Eee=/^#([0-9a-f]{3,8})$/,Tee=new RegExp(`^rgb\\(${Kc},${Kc},${Kc}\\)$`),Aee=new RegExp(`^rgb\\(${ba},${ba},${ba}\\)$`),See=new RegExp(`^rgba\\(${Kc},${Kc},${Kc},${wm}\\)$`),Iee=new RegExp(`^rgba\\(${ba},${ba},${ba},${wm}\\)$`),xee=new RegExp(`^hsl\\(${wm},${ba},${ba}\\)$`),Pee=new RegExp(`^hsla\\(${wm},${ba},${ba},${wm}\\)$`),P2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};G1(tp,Em,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:O2,formatHex:O2,formatHex8:Oee,formatHsl:Ree,formatRgb:R2,toString:R2});function O2(){return this.rgb().formatHex()}function Oee(){return this.rgb().formatHex8()}function Ree(){return iU(this).formatHsl()}function R2(){return this.rgb().formatRgb()}function Em(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Eee.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?C2(e):n===3?new xr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Tee.exec(t))?new xr(e[1],e[2],e[3],1):(e=Aee.exec(t))?new xr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=See.exec(t))?Gg(e[1],e[2],e[3],e[4]):(e=Iee.exec(t))?Gg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xee.exec(t))?k2(e[1],e[2]/100,e[3]/100,1):(e=Pee.exec(t))?k2(e[1],e[2]/100,e[3]/100,e[4]):P2.hasOwnProperty(t)?C2(P2[t]):t==="transparent"?new xr(NaN,NaN,NaN,0):null}function C2(t){return new xr(t>>16&255,t>>8&255,t&255,1)}function Gg(t,e,n,r){return r<=0&&(t=e=n=NaN),new xr(t,e,n,r)}function Cee(t){return t instanceof tp||(t=Em(t)),t?(t=t.rgb(),new xr(t.r,t.g,t.b,t.opacity)):new xr}function cA(t,e,n,r){return arguments.length===1?Cee(t):new xr(t,e,n,r??1)}function xr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}G1(xr,cA,rU(tp,{brighter(t){return t=t==null?sy:Math.pow(sy,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bm:Math.pow(bm,t),new xr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xr(Qu(this.r),Qu(this.g),Qu(this.b),oy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D2,formatHex:D2,formatHex8:Dee,formatRgb:N2,toString:N2}));function D2(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}`}function Dee(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}${Fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function N2(){const t=oy(this.opacity);return`${t===1?"rgb(":"rgba("}${Qu(this.r)}, ${Qu(this.g)}, ${Qu(this.b)}${t===1?")":`, ${t})`}`}function oy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fu(t){return t=Qu(t),(t<16?"0":"")+t.toString(16)}function k2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vi(t,e,n,r)}function iU(t){if(t instanceof Vi)return new Vi(t.h,t.s,t.l,t.opacity);if(t instanceof tp||(t=Em(t)),!t)return new Vi;if(t instanceof Vi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),u=NaN,c=a-i,f=(a+i)/2;return c?(e===a?u=(n-r)/c+(n<r)*6:n===a?u=(r-e)/c+2:u=(e-n)/c+4,c/=f<.5?a+i:2-a-i,u*=60):c=f>0&&f<1?0:u,new Vi(u,c,f,t.opacity)}function Nee(t,e,n,r){return arguments.length===1?iU(t):new Vi(t,e,n,r??1)}function Vi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}G1(Vi,Nee,rU(tp,{brighter(t){return t=t==null?sy:Math.pow(sy,t),new Vi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bm:Math.pow(bm,t),new Vi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xr(bE(t>=240?t-240:t+120,i,r),bE(t,i,r),bE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Vi(M2(this.h),Wg(this.s),Wg(this.l),oy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=oy(this.opacity);return`${t===1?"hsl(":"hsla("}${M2(this.h)}, ${Wg(this.s)*100}%, ${Wg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function M2(t){return t=(t||0)%360,t<0?t+360:t}function Wg(t){return Math.max(0,Math.min(1,t||0))}function bE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const W1=t=>()=>t;function kee(t,e){return function(n){return t+n*e}}function Mee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Vee(t){return(t=+t)==1?aU:function(e,n){return n-e?Mee(e,n,t):W1(isNaN(e)?n:e)}}function aU(t,e){var n=e-t;return n?kee(t,n):W1(isNaN(t)?e:t)}const V2=function t(e){var n=Vee(e);function r(i,a){var u=n((i=cA(i)).r,(a=cA(a)).r),c=n(i.g,a.g),f=n(i.b,a.b),h=aU(i.opacity,a.opacity);return function(m){return i.r=u(m),i.g=c(m),i.b=f(m),i.opacity=h(m),i+""}}return r.gamma=t,r}(1);function jee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Lee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Uee(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),u;for(u=0;u<r;++u)i[u]=Bf(t[u],e[u]);for(;u<n;++u)a[u]=e[u];return function(c){for(u=0;u<r;++u)a[u]=i[u](c);return a}}function Bee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function uy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Bf(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var fA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wE=new RegExp(fA.source,"g");function zee(t){return function(){return t}}function Fee(t){return function(e){return t(e)+""}}function $ee(t,e){var n=fA.lastIndex=wE.lastIndex=0,r,i,a,u=-1,c=[],f=[];for(t=t+"",e=e+"";(r=fA.exec(t))&&(i=wE.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[u]?c[u]+=a:c[++u]=a),(r=r[0])===(i=i[0])?c[u]?c[u]+=i:c[++u]=i:(c[++u]=null,f.push({i:u,x:uy(r,i)})),n=wE.lastIndex;return n<e.length&&(a=e.slice(n),c[u]?c[u]+=a:c[++u]=a),c.length<2?f[0]?Fee(f[0].x):zee(e):(e=f.length,function(h){for(var m=0,g;m<e;++m)c[(g=f[m]).i]=g.x(h);return c.join("")})}function Bf(t,e){var n=typeof e,r;return e==null||n==="boolean"?W1(e):(n==="number"?uy:n==="string"?(r=Em(e))?(e=r,V2):$ee:e instanceof Em?V2:e instanceof Date?Bee:Lee(e)?jee:Array.isArray(e)?Uee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qee:uy)(t,e)}function Y1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Hee(t,e){e===void 0&&(e=t,t=Bf);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(u){var c=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return a[c](u-c)}}function Kee(t){return function(){return t}}function ly(t){return+t}var j2=[0,1];function pr(t){return t}function hA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Kee(isNaN(e)?NaN:.5)}function Gee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Wee(t,e,n){var r=t[0],i=t[1],a=e[0],u=e[1];return i<r?(r=hA(i,r),a=n(u,a)):(r=hA(r,i),a=n(a,u)),function(c){return a(r(c))}}function Yee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)i[u]=hA(t[u],t[u+1]),a[u]=n(e[u],e[u+1]);return function(c){var f=ep(t,c,1,r)-1;return a[f](i[f](c))}}function np(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function w_(){var t=j2,e=j2,n=Bf,r,i,a,u=pr,c,f,h;function m(){var y=Math.min(t.length,e.length);return u!==pr&&(u=Gee(t[0],t[y-1])),c=y>2?Yee:Wee,f=h=null,g}function g(y){return y==null||isNaN(y=+y)?a:(f||(f=c(t.map(r),e,n)))(r(u(y)))}return g.invert=function(y){return u(i((h||(h=c(e,t.map(r),uy)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,ly),m()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),m()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=Y1,m()},g.clamp=function(y){return arguments.length?(u=y?!0:pr,m()):u!==pr},g.interpolate=function(y){return arguments.length?(n=y,m()):n},g.unknown=function(y){return arguments.length?(a=y,g):a},function(y,b){return r=y,i=b,m()}}function Q1(){return w_()(pr,pr)}function Qee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wf(t){return t=cy(Math.abs(t)),t?t[1]:NaN}function Xee(t,e){return function(n,r){for(var i=n.length,a=[],u=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),a.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[u=(u+1)%t.length];return a.reverse().join(e)}}function Zee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Jee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tm(t){if(!(e=Jee.exec(t)))throw new Error("invalid format: "+t);var e;return new X1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Tm.prototype=X1.prototype;function X1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}X1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ete(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var sU;function tte(t,e){var n=cy(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(sU=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return a===u?r:a>u?r+new Array(a-u+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+cy(t,Math.max(0,e+a-1))[0]}function L2(t,e){var n=cy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const U2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Qee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>L2(t*100,e),r:L2,s:tte,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function B2(t){return t}var q2=Array.prototype.map,z2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nte(t){var e=t.grouping===void 0||t.thousands===void 0?B2:Xee(q2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?B2:Zee(q2.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(g){g=Tm(g);var y=g.fill,b=g.align,E=g.sign,T=g.symbol,A=g.zero,x=g.width,R=g.comma,P=g.precision,U=g.trim,L=g.type;L==="n"?(R=!0,L="g"):U2[L]||(P===void 0&&(P=12),U=!0,L="g"),(A||y==="0"&&b==="=")&&(A=!0,y="0",b="=");var $=T==="$"?n:T==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",C=T==="$"?r:/[%p]/.test(L)?u:"",D=U2[L],M=/[defgprs%]/.test(L);P=P===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function q(j){var B=$,V=C,Pe,Me,te;if(L==="c")V=D(j)+V,j="";else{j=+j;var he=j<0||1/j<0;if(j=isNaN(j)?f:D(Math.abs(j),P),U&&(j=ete(j)),he&&+j==0&&E!=="+"&&(he=!1),B=(he?E==="("?E:c:E==="-"||E==="("?"":E)+B,V=(L==="s"?z2[8+sU/3]:"")+V+(he&&E==="("?")":""),M){for(Pe=-1,Me=j.length;++Pe<Me;)if(te=j.charCodeAt(Pe),48>te||te>57){V=(te===46?i+j.slice(Pe+1):j.slice(Pe))+V,j=j.slice(0,Pe);break}}}R&&!A&&(j=e(j,1/0));var be=B.length+j.length+V.length,Ne=be<x?new Array(x-be+1).join(y):"";switch(R&&A&&(j=e(Ne+j,Ne.length?x-V.length:1/0),Ne=""),b){case"<":j=B+j+V+Ne;break;case"=":j=B+Ne+j+V;break;case"^":j=Ne.slice(0,be=Ne.length>>1)+B+j+V+Ne.slice(be);break;default:j=Ne+B+j+V;break}return a(j)}return q.toString=function(){return g+""},q}function m(g,y){var b=h((g=Tm(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(wf(y)/3)))*3,T=Math.pow(10,-E),A=z2[8+E/3];return function(x){return b(T*x)+A}}return{format:h,formatPrefix:m}}var Yg,Z1,oU;rte({thousands:",",grouping:[3],currency:["$",""]});function rte(t){return Yg=nte(t),Z1=Yg.format,oU=Yg.formatPrefix,Yg}function ite(t){return Math.max(0,-wf(Math.abs(t)))}function ate(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wf(e)/3)))*3-wf(Math.abs(t)))}function ste(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wf(e)-wf(t))+1}function uU(t,e,n,r){var i=uA(t,e,n),a;switch(r=Tm(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=ate(i,u))&&(r.precision=a),oU(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ste(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=ite(i))&&(r.precision=a-(r.type==="%")*2);break}}return Z1(r)}function zo(t){var e=t.domain;return t.ticks=function(n){var r=e();return sA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return uU(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,u=r[i],c=r[a],f,h,m=10;for(c<u&&(h=u,u=c,c=h,h=i,i=a,a=h);m-- >0;){if(h=oA(u,c,n),h===f)return r[i]=u,r[a]=c,e(r);if(h>0)u=Math.floor(u/h)*h,c=Math.ceil(c/h)*h;else if(h<0)u=Math.ceil(u*h)/h,c=Math.floor(c*h)/h;else break;f=h}return t},t}function lU(){var t=Q1();return t.copy=function(){return np(t,lU())},xi.apply(t,arguments),zo(t)}function cU(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ly),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return cU(t).unknown(e)},t=arguments.length?Array.from(t,ly):[0,1],zo(n)}function fU(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],u;return a<i&&(u=n,n=r,r=u,u=i,i=a,a=u),t[n]=e.floor(i),t[r]=e.ceil(a),t}function F2(t){return Math.log(t)}function $2(t){return Math.exp(t)}function ote(t){return-Math.log(-t)}function ute(t){return-Math.exp(-t)}function lte(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cte(t){return t===10?lte:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fte(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function H2(t){return(e,n)=>-t(-e,n)}function J1(t){const e=t(F2,$2),n=e.domain;let r=10,i,a;function u(){return i=fte(r),a=cte(r),n()[0]<0?(i=H2(i),a=H2(a),t(ote,ute)):t(F2,$2),e}return e.base=function(c){return arguments.length?(r=+c,u()):r},e.domain=function(c){return arguments.length?(n(c),u()):n()},e.ticks=c=>{const f=n();let h=f[0],m=f[f.length-1];const g=m<h;g&&([h,m]=[m,h]);let y=i(h),b=i(m),E,T;const A=c==null?10:+c;let x=[];if(!(r%1)&&b-y<A){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(E=1;E<r;++E)if(T=y<0?E/a(-y):E*a(y),!(T<h)){if(T>m)break;x.push(T)}}else for(;y<=b;++y)for(E=r-1;E>=1;--E)if(T=y>0?E/a(-y):E*a(y),!(T<h)){if(T>m)break;x.push(T)}x.length*2<A&&(x=sA(h,m,A))}else x=sA(y,b,Math.min(b-y,A)).map(a);return g?x.reverse():x},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Tm(f)).precision==null&&(f.trim=!0),f=Z1(f)),c===1/0)return f;const h=Math.max(1,r*c/e.ticks().length);return m=>{let g=m/a(Math.round(i(m)));return g*r<r-.5&&(g*=r),g<=h?f(m):""}},e.nice=()=>n(fU(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function hU(){const t=J1(w_()).domain([1,10]);return t.copy=()=>np(t,hU()).base(t.base()),xi.apply(t,arguments),t}function K2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function G2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function eI(t){var e=1,n=t(K2(e),G2(e));return n.constant=function(r){return arguments.length?t(K2(e=+r),G2(e)):e},zo(n)}function dU(){var t=eI(w_());return t.copy=function(){return np(t,dU()).constant(t.constant())},xi.apply(t,arguments)}function W2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hte(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function dte(t){return t<0?-t*t:t*t}function tI(t){var e=t(pr,pr),n=1;function r(){return n===1?t(pr,pr):n===.5?t(hte,dte):t(W2(n),W2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zo(e)}function nI(){var t=tI(w_());return t.copy=function(){return np(t,nI()).exponent(t.exponent())},xi.apply(t,arguments),t}function mte(){return nI.apply(null,arguments).exponent(.5)}function Y2(t){return Math.sign(t)*t*t}function pte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function mU(){var t=Q1(),e=[0,1],n=!1,r;function i(a){var u=pte(t(a));return isNaN(u)?r:n?Math.round(u):u}return i.invert=function(a){return t.invert(Y2(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,ly)).map(Y2)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return mU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},xi.apply(i,arguments),zo(i)}function pU(){var t=[],e=[],n=[],r;function i(){var u=0,c=Math.max(1,e.length);for(n=new Array(c-1);++u<c;)n[u-1]=_ee(t,u/c);return a}function a(u){return u==null||isNaN(u=+u)?r:e[ep(n,u)]}return a.invertExtent=function(u){var c=e.indexOf(u);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let c of u)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(_o),i()},a.range=function(u){return arguments.length?(e=Array.from(u),i()):e.slice()},a.unknown=function(u){return arguments.length?(r=u,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return pU().domain(t).range(e).unknown(r)},xi.apply(a,arguments)}function gU(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function u(f){return f!=null&&f<=f?i[ep(r,f,0,n)]:a}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return u}return u.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},u.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},u.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},u.unknown=function(f){return arguments.length&&(a=f),u},u.thresholds=function(){return r.slice()},u.copy=function(){return gU().domain([t,e]).range(i).unknown(a)},xi.apply(zo(u),arguments)}function vU(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[ep(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var u=e.indexOf(a);return[t[u-1],t[u]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return vU().domain(t).range(e).unknown(n)},xi.apply(i,arguments)}const EE=new Date,TE=new Date;function Sn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const u=i(a),c=i.ceil(a);return a-u<c-a?u:c},i.offset=(a,u)=>(e(a=new Date(+a),u==null?1:Math.floor(u)),a),i.range=(a,u,c)=>{const f=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<u)||!(c>0))return f;let h;do f.push(h=new Date(+a)),e(a,c),t(a);while(h<a&&a<u);return f},i.filter=a=>Sn(u=>{if(u>=u)for(;t(u),!a(u);)u.setTime(u-1)},(u,c)=>{if(u>=u)if(c<0)for(;++c<=0;)for(;e(u,-1),!a(u););else for(;--c>=0;)for(;e(u,1),!a(u););}),n&&(i.count=(a,u)=>(EE.setTime(+a),TE.setTime(+u),t(EE),t(TE),Math.floor(n(EE,TE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?u=>r(u)%a===0:u=>i.count(0,u)%a===0):i)),i}const fy=Sn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):fy);fy.range;const is=1e3,_i=is*60,as=_i*60,ds=as*24,rI=ds*7,Q2=ds*30,AE=ds*365,$u=Sn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getUTCSeconds());$u.range;const iI=Sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*is)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getMinutes());iI.range;const aI=Sn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCMinutes());aI.range;const sI=Sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*is-t.getMinutes()*_i)},(t,e)=>{t.setTime(+t+e*as)},(t,e)=>(e-t)/as,t=>t.getHours());sI.range;const oI=Sn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*as)},(t,e)=>(e-t)/as,t=>t.getUTCHours());oI.range;const rp=Sn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_i)/ds,t=>t.getDate()-1);rp.range;const E_=Sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ds,t=>t.getUTCDate()-1);E_.range;const yU=Sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ds,t=>Math.floor(t/ds));yU.range;function Tl(t){return Sn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_i)/rI)}const T_=Tl(0),hy=Tl(1),gte=Tl(2),vte=Tl(3),Ef=Tl(4),yte=Tl(5),_te=Tl(6);T_.range;hy.range;gte.range;vte.range;Ef.range;yte.range;_te.range;function Al(t){return Sn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/rI)}const A_=Al(0),dy=Al(1),bte=Al(2),wte=Al(3),Tf=Al(4),Ete=Al(5),Tte=Al(6);A_.range;dy.range;bte.range;wte.range;Tf.range;Ete.range;Tte.range;const uI=Sn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uI.range;const lI=Sn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());lI.range;const ms=Sn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ms.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ms.range;const ps=Sn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ps.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ps.range;function _U(t,e,n,r,i,a){const u=[[$u,1,is],[$u,5,5*is],[$u,15,15*is],[$u,30,30*is],[a,1,_i],[a,5,5*_i],[a,15,15*_i],[a,30,30*_i],[i,1,as],[i,3,3*as],[i,6,6*as],[i,12,12*as],[r,1,ds],[r,2,2*ds],[n,1,rI],[e,1,Q2],[e,3,3*Q2],[t,1,AE]];function c(h,m,g){const y=m<h;y&&([h,m]=[m,h]);const b=g&&typeof g.range=="function"?g:f(h,m,g),E=b?b.range(h,+m+1):[];return y?E.reverse():E}function f(h,m,g){const y=Math.abs(m-h)/g,b=$1(([,,A])=>A).right(u,y);if(b===u.length)return t.every(uA(h/AE,m/AE,g));if(b===0)return fy.every(Math.max(uA(h,m,g),1));const[E,T]=u[y/u[b-1][2]<u[b][2]/y?b-1:b];return E.every(T)}return[c,f]}const[Ate,Ste]=_U(ps,lI,A_,yU,oI,aI),[Ite,xte]=_U(ms,uI,T_,rp,sI,iI);function SE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function IE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Pte(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,u=t.shortDays,c=t.months,f=t.shortMonths,h=yd(i),m=_d(i),g=yd(a),y=_d(a),b=yd(u),E=_d(u),T=yd(c),A=_d(c),x=yd(f),R=_d(f),P={a:he,A:be,b:Ne,B:H,c:null,d:nk,e:nk,f:Xte,g:one,G:lne,H:Wte,I:Yte,j:Qte,L:bU,m:Zte,M:Jte,p:oe,q:ie,Q:ak,s:sk,S:ene,u:tne,U:nne,V:rne,w:ine,W:ane,x:null,X:null,y:sne,Y:une,Z:cne,"%":ik},U={a:ce,A:Ae,b:Ce,B:je,c:null,d:rk,e:rk,f:mne,g:Ane,G:Ine,H:fne,I:hne,j:dne,L:EU,m:pne,M:gne,p:nn,q:mt,Q:ak,s:sk,S:vne,u:yne,U:_ne,V:bne,w:wne,W:Ene,x:null,X:null,y:Tne,Y:Sne,Z:xne,"%":ik},L={a:q,A:j,b:B,B:V,c:Pe,d:ek,e:ek,f:$te,g:J2,G:Z2,H:tk,I:tk,j:Bte,L:Fte,m:Ute,M:qte,p:M,q:Lte,Q:Kte,s:Gte,S:zte,u:Nte,U:kte,V:Mte,w:Dte,W:Vte,x:Me,X:te,y:J2,Y:Z2,Z:jte,"%":Hte};P.x=$(n,P),P.X=$(r,P),P.c=$(e,P),U.x=$(n,U),U.X=$(r,U),U.c=$(e,U);function $(ye,Ue){return function(Be){var de=[],qt=-1,Xe=0,gn=ye.length,In,rn,xl;for(Be instanceof Date||(Be=new Date(+Be));++qt<gn;)ye.charCodeAt(qt)===37&&(de.push(ye.slice(Xe,qt)),(rn=X2[In=ye.charAt(++qt)])!=null?In=ye.charAt(++qt):rn=In==="e"?" ":"0",(xl=Ue[In])&&(In=xl(Be,rn)),de.push(In),Xe=qt+1);return de.push(ye.slice(Xe,qt)),de.join("")}}function C(ye,Ue){return function(Be){var de=vd(1900,void 0,1),qt=D(de,ye,Be+="",0),Xe,gn;if(qt!=Be.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Ue&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(Xe=IE(vd(de.y,0,1)),gn=Xe.getUTCDay(),Xe=gn>4||gn===0?dy.ceil(Xe):dy(Xe),Xe=E_.offset(Xe,(de.V-1)*7),de.y=Xe.getUTCFullYear(),de.m=Xe.getUTCMonth(),de.d=Xe.getUTCDate()+(de.w+6)%7):(Xe=SE(vd(de.y,0,1)),gn=Xe.getDay(),Xe=gn>4||gn===0?hy.ceil(Xe):hy(Xe),Xe=rp.offset(Xe,(de.V-1)*7),de.y=Xe.getFullYear(),de.m=Xe.getMonth(),de.d=Xe.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),gn="Z"in de?IE(vd(de.y,0,1)).getUTCDay():SE(vd(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(gn+5)%7:de.w+de.U*7-(gn+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,IE(de)):SE(de)}}function D(ye,Ue,Be,de){for(var qt=0,Xe=Ue.length,gn=Be.length,In,rn;qt<Xe;){if(de>=gn)return-1;if(In=Ue.charCodeAt(qt++),In===37){if(In=Ue.charAt(qt++),rn=L[In in X2?Ue.charAt(qt++):In],!rn||(de=rn(ye,Be,de))<0)return-1}else if(In!=Be.charCodeAt(de++))return-1}return de}function M(ye,Ue,Be){var de=h.exec(Ue.slice(Be));return de?(ye.p=m.get(de[0].toLowerCase()),Be+de[0].length):-1}function q(ye,Ue,Be){var de=b.exec(Ue.slice(Be));return de?(ye.w=E.get(de[0].toLowerCase()),Be+de[0].length):-1}function j(ye,Ue,Be){var de=g.exec(Ue.slice(Be));return de?(ye.w=y.get(de[0].toLowerCase()),Be+de[0].length):-1}function B(ye,Ue,Be){var de=x.exec(Ue.slice(Be));return de?(ye.m=R.get(de[0].toLowerCase()),Be+de[0].length):-1}function V(ye,Ue,Be){var de=T.exec(Ue.slice(Be));return de?(ye.m=A.get(de[0].toLowerCase()),Be+de[0].length):-1}function Pe(ye,Ue,Be){return D(ye,e,Ue,Be)}function Me(ye,Ue,Be){return D(ye,n,Ue,Be)}function te(ye,Ue,Be){return D(ye,r,Ue,Be)}function he(ye){return u[ye.getDay()]}function be(ye){return a[ye.getDay()]}function Ne(ye){return f[ye.getMonth()]}function H(ye){return c[ye.getMonth()]}function oe(ye){return i[+(ye.getHours()>=12)]}function ie(ye){return 1+~~(ye.getMonth()/3)}function ce(ye){return u[ye.getUTCDay()]}function Ae(ye){return a[ye.getUTCDay()]}function Ce(ye){return f[ye.getUTCMonth()]}function je(ye){return c[ye.getUTCMonth()]}function nn(ye){return i[+(ye.getUTCHours()>=12)]}function mt(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var Ue=$(ye+="",P);return Ue.toString=function(){return ye},Ue},parse:function(ye){var Ue=C(ye+="",!1);return Ue.toString=function(){return ye},Ue},utcFormat:function(ye){var Ue=$(ye+="",U);return Ue.toString=function(){return ye},Ue},utcParse:function(ye){var Ue=C(ye+="",!0);return Ue.toString=function(){return ye},Ue}}}var X2={"-":"",_:" ",0:"0"},Vn=/^\s*\d+/,Ote=/^%/,Rte=/[\\^$*+?|[\]().{}]/g;function it(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Cte(t){return t.replace(Rte,"\\$&")}function yd(t){return new RegExp("^(?:"+t.map(Cte).join("|")+")","i")}function _d(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Dte(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Nte(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function kte(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Mte(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Vte(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Z2(t,e,n){var r=Vn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function J2(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jte(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Lte(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ute(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ek(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Bte(t,e,n){var r=Vn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function tk(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qte(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function zte(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Fte(t,e,n){var r=Vn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $te(t,e,n){var r=Vn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hte(t,e,n){var r=Ote.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Kte(t,e,n){var r=Vn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Gte(t,e,n){var r=Vn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function nk(t,e){return it(t.getDate(),e,2)}function Wte(t,e){return it(t.getHours(),e,2)}function Yte(t,e){return it(t.getHours()%12||12,e,2)}function Qte(t,e){return it(1+rp.count(ms(t),t),e,3)}function bU(t,e){return it(t.getMilliseconds(),e,3)}function Xte(t,e){return bU(t,e)+"000"}function Zte(t,e){return it(t.getMonth()+1,e,2)}function Jte(t,e){return it(t.getMinutes(),e,2)}function ene(t,e){return it(t.getSeconds(),e,2)}function tne(t){var e=t.getDay();return e===0?7:e}function nne(t,e){return it(T_.count(ms(t)-1,t),e,2)}function wU(t){var e=t.getDay();return e>=4||e===0?Ef(t):Ef.ceil(t)}function rne(t,e){return t=wU(t),it(Ef.count(ms(t),t)+(ms(t).getDay()===4),e,2)}function ine(t){return t.getDay()}function ane(t,e){return it(hy.count(ms(t)-1,t),e,2)}function sne(t,e){return it(t.getFullYear()%100,e,2)}function one(t,e){return t=wU(t),it(t.getFullYear()%100,e,2)}function une(t,e){return it(t.getFullYear()%1e4,e,4)}function lne(t,e){var n=t.getDay();return t=n>=4||n===0?Ef(t):Ef.ceil(t),it(t.getFullYear()%1e4,e,4)}function cne(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+it(e/60|0,"0",2)+it(e%60,"0",2)}function rk(t,e){return it(t.getUTCDate(),e,2)}function fne(t,e){return it(t.getUTCHours(),e,2)}function hne(t,e){return it(t.getUTCHours()%12||12,e,2)}function dne(t,e){return it(1+E_.count(ps(t),t),e,3)}function EU(t,e){return it(t.getUTCMilliseconds(),e,3)}function mne(t,e){return EU(t,e)+"000"}function pne(t,e){return it(t.getUTCMonth()+1,e,2)}function gne(t,e){return it(t.getUTCMinutes(),e,2)}function vne(t,e){return it(t.getUTCSeconds(),e,2)}function yne(t){var e=t.getUTCDay();return e===0?7:e}function _ne(t,e){return it(A_.count(ps(t)-1,t),e,2)}function TU(t){var e=t.getUTCDay();return e>=4||e===0?Tf(t):Tf.ceil(t)}function bne(t,e){return t=TU(t),it(Tf.count(ps(t),t)+(ps(t).getUTCDay()===4),e,2)}function wne(t){return t.getUTCDay()}function Ene(t,e){return it(dy.count(ps(t)-1,t),e,2)}function Tne(t,e){return it(t.getUTCFullYear()%100,e,2)}function Ane(t,e){return t=TU(t),it(t.getUTCFullYear()%100,e,2)}function Sne(t,e){return it(t.getUTCFullYear()%1e4,e,4)}function Ine(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Tf(t):Tf.ceil(t),it(t.getUTCFullYear()%1e4,e,4)}function xne(){return"+0000"}function ik(){return"%"}function ak(t){return+t}function sk(t){return Math.floor(+t/1e3)}var Oc,AU,SU;Pne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Pne(t){return Oc=Pte(t),AU=Oc.format,Oc.parse,SU=Oc.utcFormat,Oc.utcParse,Oc}function One(t){return new Date(t)}function Rne(t){return t instanceof Date?+t:+new Date(+t)}function cI(t,e,n,r,i,a,u,c,f,h){var m=Q1(),g=m.invert,y=m.domain,b=h(".%L"),E=h(":%S"),T=h("%I:%M"),A=h("%I %p"),x=h("%a %d"),R=h("%b %d"),P=h("%B"),U=h("%Y");function L($){return(f($)<$?b:c($)<$?E:u($)<$?T:a($)<$?A:r($)<$?i($)<$?x:R:n($)<$?P:U)($)}return m.invert=function($){return new Date(g($))},m.domain=function($){return arguments.length?y(Array.from($,Rne)):y().map(One)},m.ticks=function($){var C=y();return t(C[0],C[C.length-1],$??10)},m.tickFormat=function($,C){return C==null?L:h(C)},m.nice=function($){var C=y();return(!$||typeof $.range!="function")&&($=e(C[0],C[C.length-1],$??10)),$?y(fU(C,$)):m},m.copy=function(){return np(m,cI(t,e,n,r,i,a,u,c,f,h))},m}function Cne(){return xi.apply(cI(Ite,xte,ms,uI,T_,rp,sI,iI,$u,AU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dne(){return xi.apply(cI(Ate,Ste,ps,lI,A_,E_,oI,aI,$u,SU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function S_(){var t=0,e=1,n,r,i,a,u=pr,c=!1,f;function h(g){return g==null||isNaN(g=+g)?f:u(i===0?.5:(g=(a(g)-n)*i,c?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e]=g,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(g){return arguments.length?(c=!!g,h):c},h.interpolator=function(g){return arguments.length?(u=g,h):u};function m(g){return function(y){var b,E;return arguments.length?([b,E]=y,u=g(b,E),h):[u(0),u(1)]}}return h.range=m(Bf),h.rangeRound=m(Y1),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return a=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),h}}function Fo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function IU(){var t=zo(S_()(pr));return t.copy=function(){return Fo(t,IU())},Es.apply(t,arguments)}function xU(){var t=J1(S_()).domain([1,10]);return t.copy=function(){return Fo(t,xU()).base(t.base())},Es.apply(t,arguments)}function PU(){var t=eI(S_());return t.copy=function(){return Fo(t,PU()).constant(t.constant())},Es.apply(t,arguments)}function fI(){var t=tI(S_());return t.copy=function(){return Fo(t,fI()).exponent(t.exponent())},Es.apply(t,arguments)}function Nne(){return fI.apply(null,arguments).exponent(.5)}function OU(){var t=[],e=pr;function n(r){if(r!=null&&!isNaN(r=+r))return e((ep(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(_o),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>yee(t,a/r))},n.copy=function(){return OU(e).domain(t)},Es.apply(n,arguments)}function I_(){var t=0,e=.5,n=1,r=1,i,a,u,c,f,h=pr,m,g=!1,y;function b(T){return isNaN(T=+T)?y:(T=.5+((T=+m(T))-a)*(r*T<r*a?c:f),h(g?Math.max(0,Math.min(1,T)):T))}b.domain=function(T){return arguments.length?([t,e,n]=T,i=m(t=+t),a=m(e=+e),u=m(n=+n),c=i===a?0:.5/(a-i),f=a===u?0:.5/(u-a),r=a<i?-1:1,b):[t,e,n]},b.clamp=function(T){return arguments.length?(g=!!T,b):g},b.interpolator=function(T){return arguments.length?(h=T,b):h};function E(T){return function(A){var x,R,P;return arguments.length?([x,R,P]=A,h=Hee(T,[x,R,P]),b):[h(0),h(.5),h(1)]}}return b.range=E(Bf),b.rangeRound=E(Y1),b.unknown=function(T){return arguments.length?(y=T,b):y},function(T){return m=T,i=T(t),a=T(e),u=T(n),c=i===a?0:.5/(a-i),f=a===u?0:.5/(u-a),r=a<i?-1:1,b}}function RU(){var t=zo(I_()(pr));return t.copy=function(){return Fo(t,RU())},Es.apply(t,arguments)}function CU(){var t=J1(I_()).domain([.1,1,10]);return t.copy=function(){return Fo(t,CU()).base(t.base())},Es.apply(t,arguments)}function DU(){var t=eI(I_());return t.copy=function(){return Fo(t,DU()).constant(t.constant())},Es.apply(t,arguments)}function hI(){var t=tI(I_());return t.copy=function(){return Fo(t,hI()).exponent(t.exponent())},Es.apply(t,arguments)}function kne(){return hI.apply(null,arguments).exponent(.5)}const Od=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:K1,scaleDiverging:RU,scaleDivergingLog:CU,scaleDivergingPow:hI,scaleDivergingSqrt:kne,scaleDivergingSymlog:DU,scaleIdentity:cU,scaleImplicit:lA,scaleLinear:lU,scaleLog:hU,scaleOrdinal:H1,scalePoint:wee,scalePow:nI,scaleQuantile:pU,scaleQuantize:gU,scaleRadial:mU,scaleSequential:IU,scaleSequentialLog:xU,scaleSequentialPow:fI,scaleSequentialQuantile:OU,scaleSequentialSqrt:Nne,scaleSequentialSymlog:PU,scaleSqrt:mte,scaleSymlog:dU,scaleThreshold:vU,scaleTime:Cne,scaleUtc:Dne,tickFormat:uU},Symbol.toStringTag,{value:"Module"}));var qf=t=>t.chartData,Mne=ae([qf],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),NU=(t,e,n,r)=>r?Mne(t):qf(t);function Af(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Jr(e)&&Jr(n))return!0}return!1}function ok(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Vne(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Jr(n))i=n;else if(typeof n=="function")return;if(Jr(r))a=r;else if(typeof r=="function")return;var u=[i,a];if(Af(u))return u}}function jne(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Af(r))return ok(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,u,c;if(i==="auto")e!=null&&(u=Math.min(...e));else if(xe(i))u=i;else if(typeof i=="function")try{e!=null&&(u=i(e?.[0]))}catch{}else if(typeof i=="string"&&WN.test(i)){var f=WN.exec(i);if(f==null||e==null)u=void 0;else{var h=+f[1];u=e[0]-h}}else u=e?.[0];if(a==="auto")e!=null&&(c=Math.max(...e));else if(xe(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e?.[1]))}catch{}else if(typeof a=="string"&&YN.test(a)){var m=YN.exec(a);if(m==null||e==null)c=void 0;else{var g=+m[1];c=e[1]+g}}else c=e?.[1];var y=[u,c];if(Af(y))return e==null?y:ok(y,e,n)}}}var zf=1e9,Lne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mI,Vt=!0,Si="[DecimalError] ",Xu=Si+"Invalid argument: ",dI=Si+"Exponent out of range: ",Ff=Math.floor,Cu=Math.pow,Une=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$r,Nn=1e7,Pt=7,kU=9007199254740991,my=Ff(kU/Pt),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Pt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(t){return os(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,n=e.constructor;return wt(os(e,new n(t),0,1),n.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return pn(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq($r))throw Error(Si+"NaN");if(n.s<1)throw Error(Si+(n.s?"NaN":"-Infinity"));return n.eq($r)?new r(0):(Vt=!1,e=os(Am(n,a),Am(t,a),a),Vt=!0,wt(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jU(e,t):MU(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Si+"NaN");return n.s?(Vt=!1,e=os(n,t,0,1).times(t),Vt=!0,n.minus(e)):wt(new r(n),i)};we.naturalExponential=we.exp=function(){return VU(this)};we.naturalLogarithm=we.ln=function(){return Am(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?MU(e,t):jU(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xu+t);if(e=pn(i)+1,r=i.d.length-1,n=r*Pt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};we.squareRoot=we.sqrt=function(){var t,e,n,r,i,a,u,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(Si+"NaN")}for(t=pn(c),Vt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=ga(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ff((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=u=n+3;;)if(a=r,r=a.plus(os(c,a,u+2)).times(.5),ga(a.d).slice(0,u)===(e=ga(r.d)).slice(0,u)){if(e=e.slice(u-3,u+1),i==u&&e=="4999"){if(wt(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;u+=4}return Vt=!0,wt(r,n)};we.times=we.mul=function(t){var e,n,r,i,a,u,c,f,h,m=this,g=m.constructor,y=m.d,b=(t=new g(t)).d;if(!m.s||!t.s)return new g(0);for(t.s*=m.s,n=m.e+t.e,f=y.length,h=b.length,f<h&&(a=y,y=b,b=a,u=f,f=h,h=u),a=[],u=f+h,r=u;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)c=a[i]+b[r]*y[i-r-1]+e,a[i--]=c%Nn|0,e=c/Nn|0;a[i]=(a[i]+e)%Nn|0}for(;!a[--u];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Vt?wt(t,g.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(xa(t,0,zf),e===void 0?e=r.rounding:xa(e,0,8),wt(n,t+pn(n)+1,e))};we.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ml(r,!0):(xa(t,0,zf),e===void 0?e=i.rounding:xa(e,0,8),r=wt(new i(r),t+1,e),n=ml(r,!0,t+1)),n};we.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?ml(i):(xa(t,0,zf),e===void 0?e=a.rounding:xa(e,0,8),r=wt(new a(i),t+pn(i)+1,e),n=ml(r.abs(),!1,t+pn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return wt(new e(t),pn(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,n,r,i,a,u,c=this,f=c.constructor,h=12,m=+(t=new f(t));if(!t.s)return new f($r);if(c=new f(c),!c.s){if(t.s<1)throw Error(Si+"Infinity");return c}if(c.eq($r))return c;if(r=f.precision,t.eq($r))return wt(c,r);if(e=t.e,n=t.d.length-1,u=e>=n,a=c.s,u){if((n=m<0?-m:m)<=kU){for(i=new f($r),e=Math.ceil(r/Pt+4),Vt=!1;n%2&&(i=i.times(c),lk(i.d,e)),n=Ff(n/2),n!==0;)c=c.times(c),lk(c.d,e);return Vt=!0,t.s<0?new f($r).div(i):wt(i,r)}}else if(a<0)throw Error(Si+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Vt=!1,i=t.times(Am(c,r+h)),Vt=!0,i=VU(i),i.s=a,i};we.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=pn(i),r=ml(i,n<=a.toExpNeg||n>=a.toExpPos)):(xa(t,1,zf),e===void 0?e=a.rounding:xa(e,0,8),i=wt(new a(i),t,e),n=pn(i),r=ml(i,t<=n||n<=a.toExpNeg,t)),r};we.toSignificantDigits=we.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(xa(t,1,zf),e===void 0?e=r.rounding:xa(e,0,8)),wt(new r(n),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pn(t),n=t.constructor;return ml(t,e<=n.toExpNeg||e>=n.toExpPos)};function MU(t,e){var n,r,i,a,u,c,f,h,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Vt?wt(e,g):e;if(f=t.d,h=e.d,u=t.e,i=e.e,f=f.slice(),a=u-i,a){for(a<0?(r=f,a=-a,c=h.length):(r=h,i=u,c=f.length),u=Math.ceil(g/Pt),c=u>c?u+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=f.length,a=h.length,c-a<0&&(a=c,r=h,h=f,f=r),n=0;a;)n=(f[--a]=f[a]+h[a]+n)/Nn|0,f[a]%=Nn;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,Vt?wt(e,g):e}function xa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Xu+t)}function ga(t){var e,n,r,i=t.length-1,a="",u=t[0];if(i>0){for(a+=u,e=1;e<i;e++)r=t[e]+"",n=Pt-r.length,n&&(a+=so(n)),a+=r;u=t[e],r=u+"",n=Pt-r.length,n&&(a+=so(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return a+u}var os=function(){function t(r,i){var a,u=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+u,r[c]=a%Nn|0,u=a/Nn|0;return u&&r.unshift(u),r}function e(r,i,a,u){var c,f;if(a!=u)f=a>u?1:-1;else for(c=f=0;c<a;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,a){for(var u=0;a--;)r[a]-=u,u=r[a]<i[a]?1:0,r[a]=u*Nn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,u){var c,f,h,m,g,y,b,E,T,A,x,R,P,U,L,$,C,D,M=r.constructor,q=r.s==i.s?1:-1,j=r.d,B=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(Si+"Division by zero");for(f=r.e-i.e,C=B.length,L=j.length,b=new M(q),E=b.d=[],h=0;B[h]==(j[h]||0);)++h;if(B[h]>(j[h]||0)&&--f,a==null?R=a=M.precision:u?R=a+(pn(r)-pn(i))+1:R=a,R<0)return new M(0);if(R=R/Pt+2|0,h=0,C==1)for(m=0,B=B[0],R++;(h<L||m)&&R--;h++)P=m*Nn+(j[h]||0),E[h]=P/B|0,m=P%B|0;else{for(m=Nn/(B[0]+1)|0,m>1&&(B=t(B,m),j=t(j,m),C=B.length,L=j.length),U=C,T=j.slice(0,C),A=T.length;A<C;)T[A++]=0;D=B.slice(),D.unshift(0),$=B[0],B[1]>=Nn/2&&++$;do m=0,c=e(B,T,C,A),c<0?(x=T[0],C!=A&&(x=x*Nn+(T[1]||0)),m=x/$|0,m>1?(m>=Nn&&(m=Nn-1),g=t(B,m),y=g.length,A=T.length,c=e(g,T,y,A),c==1&&(m--,n(g,C<y?D:B,y))):(m==0&&(c=m=1),g=B.slice()),y=g.length,y<A&&g.unshift(0),n(T,g,A),c==-1&&(A=T.length,c=e(B,T,C,A),c<1&&(m++,n(T,C<A?D:B,A))),A=T.length):c===0&&(m++,T=[0]),E[h++]=m,c&&T[0]?T[A++]=j[U]||0:(T=[j[U]],A=1);while((U++<L||T[0]!==void 0)&&R--)}return E[0]||E.shift(),b.e=f,wt(b,u?a+pn(b)+1:a)}}();function VU(t,e){var n,r,i,a,u,c,f=0,h=0,m=t.constructor,g=m.precision;if(pn(t)>16)throw Error(dI+pn(t));if(!t.s)return new m($r);for(Vt=!1,c=g,u=new m(.03125);t.abs().gte(.1);)t=t.times(u),h+=5;for(r=Math.log(Cu(2,h))/Math.LN10*2+5|0,c+=r,n=i=a=new m($r),m.precision=c;;){if(i=wt(i.times(t),c),n=n.times(++f),u=a.plus(os(i,n,c)),ga(u.d).slice(0,c)===ga(a.d).slice(0,c)){for(;h--;)a=wt(a.times(a),c);return m.precision=g,e==null?(Vt=!0,wt(a,g)):a}a=u}}function pn(t){for(var e=t.e*Pt,n=t.d[0];n>=10;n/=10)e++;return e}function xE(t,e,n){if(e>t.LN10.sd())throw Vt=!0,n&&(t.precision=n),Error(Si+"LN10 precision limit exceeded");return wt(new t(t.LN10),e)}function so(t){for(var e="";t--;)e+="0";return e}function Am(t,e){var n,r,i,a,u,c,f,h,m,g=1,y=10,b=t,E=b.d,T=b.constructor,A=T.precision;if(b.s<1)throw Error(Si+(b.s?"NaN":"-Infinity"));if(b.eq($r))return new T(0);if(e==null?(Vt=!1,h=A):h=e,b.eq(10))return e==null&&(Vt=!0),xE(T,h);if(h+=y,T.precision=h,n=ga(E),r=n.charAt(0),a=pn(b),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=ga(b.d),r=n.charAt(0),g++;a=pn(b),r>1?(b=new T("0."+n),a++):b=new T(r+"."+n.slice(1))}else return f=xE(T,h+2,A).times(a+""),b=Am(new T(r+"."+n.slice(1)),h-y).plus(f),T.precision=A,e==null?(Vt=!0,wt(b,A)):b;for(c=u=b=os(b.minus($r),b.plus($r),h),m=wt(b.times(b),h),i=3;;){if(u=wt(u.times(m),h),f=c.plus(os(u,new T(i),h)),ga(f.d).slice(0,h)===ga(c.d).slice(0,h))return c=c.times(2),a!==0&&(c=c.plus(xE(T,h+2,A).times(a+""))),c=os(c,new T(g),h),T.precision=A,e==null?(Vt=!0,wt(c,A)):c;c=f,i+=2}}function uk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ff(n/Pt),t.d=[],r=(n+1)%Pt,n<0&&(r+=Pt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Pt;r<i;)t.d.push(+e.slice(r,r+=Pt));e=e.slice(r),r=Pt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Vt&&(t.e>my||t.e<-my))throw Error(dI+n)}else t.s=0,t.e=0,t.d=[0];return t}function wt(t,e,n){var r,i,a,u,c,f,h,m,g=t.d;for(u=1,a=g[0];a>=10;a/=10)u++;if(r=e-u,r<0)r+=Pt,i=e,h=g[m=0];else{if(m=Math.ceil((r+1)/Pt),a=g.length,m>=a)return t;for(h=a=g[m],u=1;a>=10;a/=10)u++;r%=Pt,i=r-Pt+u}if(n!==void 0&&(a=Cu(10,u-i-1),c=h/a%10|0,f=e<0||g[m+1]!==void 0||h%a,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?h/Cu(10,u-i):0:g[m-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return f?(a=pn(t),g.length=1,e=e-a-1,g[0]=Cu(10,(Pt-e%Pt)%Pt),t.e=Ff(-e/Pt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=m,a=1,m--):(g.length=m+1,a=Cu(10,Pt-r),g[m]=i>0?(h/Cu(10,u-i)%Cu(10,i)|0)*a:0),f)for(;;)if(m==0){(g[0]+=a)==Nn&&(g[0]=1,++t.e);break}else{if(g[m]+=a,g[m]!=Nn)break;g[m--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(Vt&&(t.e>my||t.e<-my))throw Error(dI+pn(t));return t}function jU(t,e){var n,r,i,a,u,c,f,h,m,g,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Vt?wt(e,b):e;if(f=t.d,g=e.d,r=e.e,h=t.e,f=f.slice(),u=h-r,u){for(m=u<0,m?(n=f,u=-u,c=g.length):(n=g,r=h,c=f.length),i=Math.max(Math.ceil(b/Pt),c)+2,u>i&&(u=i,n.length=1),n.reverse(),i=u;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=g.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(f[i]!=g[i]){m=f[i]<g[i];break}u=0}for(m&&(n=f,f=g,g=n,e.s=-e.s),c=f.length,i=g.length-c;i>0;--i)f[c++]=0;for(i=g.length;i>u;){if(f[--i]<g[i]){for(a=i;a&&f[--a]===0;)f[a]=Nn-1;--f[a],f[i]+=Nn}f[i]-=g[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Vt?wt(e,b):e):new y(0)}function ml(t,e,n){var r,i=pn(t),a=ga(t.d),u=a.length;return e?(n&&(r=n-u)>0?a=a.charAt(0)+"."+a.slice(1)+so(r):u>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+so(-i-1)+a,n&&(r=n-u)>0&&(a+=so(r))):i>=u?(a+=so(i+1-u),n&&(r=n-i-1)>0&&(a=a+"."+so(r))):((r=i+1)<u&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(a+="."),a+=so(r))),t.s<0?"-"+a:a}function lk(t,e){if(t.length>e)return t.length=e,!0}function LU(t){var e,n,r;function i(a){var u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,a instanceof i){u.s=a.s,u.e=a.e,u.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Xu+a);if(a>0)u.s=1;else if(a<0)a=-a,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(a===~~a&&a<1e7){u.e=0,u.d=[a];return}return uk(u,a.toString())}else if(typeof a!="string")throw Error(Xu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),u.s=-1):u.s=1,Une.test(a))uk(u,a);else throw Error(Xu+a)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=LU,i.config=i.set=Bne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Bne(t){if(!t||typeof t!="object")throw Error(Si+"Object expected");var e,n,r,i=["precision",1,zf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ff(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Xu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Xu+n+": "+r);return this}var mI=LU(Lne);$r=new mI(1);const ot=mI;var qne=t=>t,UU={},BU=t=>t===UU,ck=t=>function e(){return arguments.length===0||arguments.length===1&&BU(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},qU=(t,e)=>t===1?e:ck(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(u=>u!==UU).length;return a>=t?e(...r):qU(t-a,ck(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=r.map(m=>BU(m)?c.shift():m);return e(...h,...c)}))}),x_=t=>qU(t.length,t),dA=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},zne=x_((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Fne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return qne;var i=n.reverse(),a=i[0],u=i.slice(1);return function(){return u.reduce((c,f)=>f(c),a(...arguments))}},mA=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),zU=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((u,c)=>{var f;return u===((f=e)===null||f===void 0?void 0:f[c])})||(e=i,n=t(...i)),n}};function FU(t){var e;return t===0?e=1:e=Math.floor(new ot(t).abs().log(10).toNumber())+1,e}function $U(t,e,n){for(var r=new ot(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}x_((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});x_((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});x_((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var HU=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},KU=(t,e,n)=>{if(t.lte(0))return new ot(0);var r=FU(t.toNumber()),i=new ot(10).pow(r),a=t.div(i),u=r!==1?.05:.1,c=new ot(Math.ceil(a.div(u).toNumber())).add(n).mul(u),f=c.mul(i);return e?new ot(f.toNumber()):new ot(Math.ceil(f.toNumber()))},$ne=(t,e,n)=>{var r=new ot(1),i=new ot(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ot(10).pow(FU(t)-1),i=new ot(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ot(Math.floor(t)))}else t===0?i=new ot(Math.floor((e-1)/2)):n||(i=new ot(Math.floor(t)));var u=Math.floor((e-1)/2),c=Fne(zne(f=>i.add(new ot(f-u).mul(r)).toNumber()),dA);return c(0,e)},GU=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var u=KU(new ot(n).sub(e).div(r-1),i,a),c;e<=0&&n>=0?c=new ot(0):(c=new ot(e).add(n).div(2),c=c.sub(new ot(c).mod(u)));var f=Math.ceil(c.sub(e).div(u).toNumber()),h=Math.ceil(new ot(n).sub(c).div(u).toNumber()),m=f+h+1;return m>r?GU(e,n,r,i,a+1):(m<r&&(h=n>0?h+(r-m):h,f=n>0?f:f+(r-m)),{step:u,tickMin:c.sub(new ot(f).mul(u)),tickMax:c.add(new ot(h).mul(u))})};function Hne(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[u,c]=HU([e,n]);if(u===-1/0||c===1/0){var f=c===1/0?[u,...dA(0,r-1).map(()=>1/0)]:[...dA(0,r-1).map(()=>-1/0),c];return e>n?mA(f):f}if(u===c)return $ne(u,r,i);var{step:h,tickMin:m,tickMax:g}=GU(u,c,a,i,0),y=$U(m,g.add(new ot(.1).mul(h)),h);return e>n?mA(y):y}function Kne(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,u]=HU([n,r]);if(a===-1/0||u===1/0)return[n,r];if(a===u)return[a];var c=Math.max(e,2),f=KU(new ot(u).sub(a).div(c-1),i,0),h=[...$U(new ot(a),new ot(u).sub(new ot(.99).mul(f)),f),u];return n>r?mA(h):h}var Gne=zU(Hne),Wne=zU(Kne),WU=t=>t.rootProps.maxBarSize,Yne=t=>t.rootProps.barGap,YU=t=>t.rootProps.barCategoryGap,Qne=t=>t.rootProps.barSize,P_=t=>t.rootProps.stackOffset,pI=t=>t.options.chartName,gI=t=>t.rootProps.syncId,QU=t=>t.rootProps.syncMethod,vI=t=>t.options.eventEmitter,Ja={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},qr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},O_=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Xne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ja.angleAxisId,includeHidden:!1,name:void 0,reversed:Ja.reversed,scale:Ja.scale,tick:Ja.tick,tickCount:void 0,ticks:void 0,type:Ja.type,unit:void 0},Zne={allowDataOverflow:qr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,ticks:void 0,type:qr.type,unit:void 0},Jne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ja.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ja.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ja.scale,tick:Ja.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ere={allowDataOverflow:qr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,ticks:void 0,type:"category",unit:void 0},yI=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Jne:Xne,_I=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?ere:Zne,R_=t=>t.polarOptions,bI=ae([Bo,qo,Xn],FX),XU=ae([R_,bI],(t,e)=>{if(t!=null)return zi(t.innerRadius,e,0)}),ZU=ae([R_,bI],(t,e)=>{if(t!=null)return zi(t.outerRadius,e,e*.8)}),tre=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},JU=ae([R_],tre);ae([yI,JU],O_);var e6=ae([bI,XU,ZU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ae([_I,e6],O_);var nre=ae([Et,R_,XU,ZU,Bo,qo],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:u,cy:c,startAngle:f,endAngle:h}=e;return{cx:zi(u,i,i/2),cy:zi(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:h,clockWise:!1}}}),jn=(t,e)=>e,C_=(t,e,n)=>n;function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e,n){return(e=ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ire(t){var e=are(t,"string");return typeof e=="symbol"?e:e+""}function are(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pA=[0,"auto"],Lr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ts=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Lr},Ur={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:pA,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:v_},$o=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Ur},sre={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},wI=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??sre},Pr=(t,e,n)=>{switch(e){case"xAxis":return Ts(t,n);case"yAxis":return $o(t,n);case"zAxis":return wI(t,n);case"angleAxis":return yI(t,n);case"radiusAxis":return _I(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ore=(t,e,n)=>{switch(e){case"xAxis":return Ts(t,n);case"yAxis":return $o(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ip=(t,e,n)=>{switch(e){case"xAxis":return Ts(t,n);case"yAxis":return $o(t,n);case"angleAxis":return yI(t,n);case"radiusAxis":return _I(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},t6=t=>t.graphicalItems.countOfBars>0;function n6(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var EI=t=>t.graphicalItems.cartesianItems,ure=ae([jn,C_],n6),r6=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),ap=ae([EI,Pr,ure],r6),i6=t=>t.filter(e=>e.stackId===void 0),lre=ae([ap],i6),a6=t=>t.map(e=>e.data).filter(Boolean).flat(1),cre=ae([ap],a6),s6=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},D_=ae([cre,NU],s6),o6=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Wr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Wr(i,r)}))):t.map(r=>({value:r})),N_=ae([D_,Pr,ap],o6);function u6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Sl(t){return t.filter(e=>Sa(e)||e instanceof Date).map(Number).filter(e=>Ti(e)===!1)}function fre(t,e,n){return!n||typeof e!="number"||Ti(e)?[]:n.length?Sl(n.flatMap(r=>{var i=Wr(t,r.dataKey),a,u;if(Array.isArray(i)?[a,u]=i:a=u=i,!(!Jr(a)||!Jr(u)))return[e-a,e+u]})):[]}var l6=(t,e,n)=>{var r={},i=e.reduce((a,u)=>(u.stackId==null||(a[u.stackId]==null&&(a[u.stackId]=[]),a[u.stackId].push(u)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[u,c]=a,f=c.map(h=>h.dataKey);return[u,{stackedData:aZ(t,f,n),graphicalItems:c}]}))},gA=ae([D_,ap,P_],l6),c6=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=lZ(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},hre=ae([gA,qf,jn],c6),f6=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(a=>{var u,c,f=(u=a.errorBars)===null||u===void 0?void 0:u.filter(m=>u6(r,m)),h=Wr(i,(c=e.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:h,errorDomain:fre(i,h,f)}})).filter(Boolean):e?.dataKey!=null?t.map(i=>({value:Wr(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),dre=ae(D_,Pr,lre,jn,f6);function mre(t){var{value:e}=t;if(Sa(e)||e instanceof Date)return e}var pre=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Sl(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gre=(t,e,n)=>{var r=t.map(mre).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&k4(r))?Z3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},TI=t=>{var e;if(t==null||!("domain"in t))return pA;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Sl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:pA},AI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),u=Math.min(...a),c=Math.max(...a);return[u,c]}},h6=t=>t.referenceElements.dots,$f=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),vre=ae([h6,jn,C_],$f),d6=t=>t.referenceElements.areas,yre=ae([d6,jn,C_],$f),m6=t=>t.referenceElements.lines,_re=ae([m6,jn,C_],$f),p6=(t,e)=>{var n=Sl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bre=ae(vre,jn,p6),g6=(t,e)=>{var n=Sl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wre=ae([yre,jn],g6),v6=(t,e)=>{var n=Sl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ere=ae(_re,jn,v6),Tre=ae(bre,Ere,wre,(t,e,n)=>AI(t,n,e)),Are=ae([Pr],TI),y6=(t,e,n,r,i)=>{var a=Vne(e,t.allowDataOverflow);return a??jne(e,AI(n,i,pre(r)),t.allowDataOverflow)},Sre=ae([Pr,Are,hre,dre,Tre],y6),Ire=[0,1],_6=(t,e,n,r,i,a,u)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:c,type:f}=t,h=wl(e,a);return h&&c==null?Z3(0,n.length):f==="category"?gre(r,t,h):i==="expand"?Ire:u}},SI=ae([Pr,Et,D_,N_,P_,jn,Sre],_6),b6=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:u}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(Xm(a));return c in Od?c:"point"}}},sp=ae([Pr,Et,t6,pI,jn],b6);function xre(t){if(t!=null){if(t in Od)return Od[t]();var e="scale".concat(Xm(t));if(e in Od)return Od[e]()}}function II(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=xre(e);if(i!=null){var a=i.domain(n).range(r);return eZ(a),a}}}var w6=(t,e,n)=>{var r=TI(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Af(t))return Gne(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Af(t))return Wne(t,e.tickCount,e.allowDecimals)}},xI=ae([SI,ip,sp],w6),E6=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Af(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],u=e[1],c=n[n.length-1];return[Math.min(i,a),Math.max(u,c)]}return e},Pre=ae([Pr,SI,xI,jn],E6),Ore=ae(N_,Pr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Sl(t.map(c=>c.value))).sort((c,f)=>c-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var u=r[a+1]-r[a];n=Math.min(n,u)}return n/i}}),T6=ae(Ore,Et,YU,Xn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Jr(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var u=zi(n,t*a),c=t*a/2;return c-u-(c-u)/a*u}return 0}),Rre=(t,e)=>{var n=Ts(t,e);return n==null||typeof n.padding!="string"?0:T6(t,"xAxis",e,n.padding)},Cre=(t,e)=>{var n=$o(t,e);return n==null||typeof n.padding!="string"?0:T6(t,"yAxis",e,n.padding)},Dre=ae(Ts,Rre,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Nre=ae($o,Cre,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),kre=ae([Xn,Dre,__,y_,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Mre=ae([Xn,Et,Nre,__,y_,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:u}=i;return a?[r.height-u.bottom,u.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),op=(t,e,n,r)=>{var i;switch(e){case"xAxis":return kre(t,n,r);case"yAxis":return Mre(t,n,r);case"zAxis":return(i=wI(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return JU(t);case"radiusAxis":return e6(t,n);default:return}},A6=ae([Pr,op],O_),Hf=ae([Pr,sp,Pre,A6],II);ae(ap,jn,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>u6(e,n)));function S6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var k_=(t,e)=>e,M_=(t,e,n)=>n,Vre=ae(j1,k_,M_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(S6)),jre=ae(L1,k_,M_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(S6)),I6=(t,e)=>({width:t.width,height:e.height}),Lre=(t,e)=>{var n=typeof e.width=="number"?e.width:v_;return{width:n,height:t.height}},x6=ae(Xn,Ts,I6),Ure=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Bre=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},qre=ae(qo,Xn,Vre,k_,M_,(t,e,n,r,i)=>{var a={},u;return n.forEach(c=>{var f=I6(e,c);u==null&&(u=Ure(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[c.id]=u-Number(h)*f.height,u+=(h?-1:1)*f.height}),a}),zre=ae(Bo,Xn,jre,k_,M_,(t,e,n,r,i)=>{var a={},u;return n.forEach(c=>{var f=Lre(e,c);u==null&&(u=Bre(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[c.id]=u-Number(h)*f.width,u+=(h?-1:1)*f.width}),a}),Fre=(t,e)=>{var n=Xn(t),r=Ts(t,e);if(r!=null){var i=qre(t,r.orientation,r.mirror),a=i[e];return a==null?{x:n.left,y:0}:{x:n.left,y:a}}},$re=(t,e)=>{var n=Xn(t),r=$o(t,e);if(r!=null){var i=zre(t,r.orientation,r.mirror),a=i[e];return a==null?{x:0,y:n.top}:{x:a,y:n.top}}},P6=ae(Xn,$o,(t,e)=>{var n=typeof e.width=="number"?e.width:v_;return{width:n,height:t.height}}),hk=(t,e,n)=>{switch(e){case"xAxis":return x6(t,n).width;case"yAxis":return P6(t,n).height;default:return}},O6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:u}=n,c=wl(t,r),f=e.map(h=>h.value);if(u&&c&&a==="category"&&i&&k4(f))return f}},PI=ae([Et,N_,Pr,jn],O6),R6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,u=wl(t,r);if(u&&(i==="number"||a!=="auto"))return e.map(c=>c.value)}},OI=ae([Et,N_,ip,jn],R6);ae([Et,ore,sp,Hf,PI,OI,op,xI,jn],(t,e,n,r,i,a,u,c,f)=>{if(e==null)return null;var h=wl(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:c,range:u,realScaleType:n,scale:r}});var Hre=(t,e,n,r,i,a,u,c,f)=>{if(!(e==null||r==null)){var h=wl(t,f),{type:m,ticks:g,tickCount:y}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/b:0;E=f==="angleAxis"&&a!=null&&a.length>=2?Kr(a[0]-a[1])*2*E:E;var T=g||i;if(T){var A=T.map((x,R)=>{var P=u?u.indexOf(x):x;return{index:R,coordinate:r(P)+E,value:x,offset:E}});return A.filter(x=>!Ti(x.coordinate))}return h&&c?c.map((x,R)=>({coordinate:r(x)+E,value:x,index:R,offset:E})):r.ticks?r.ticks(y).map(x=>({coordinate:r(x)+E,value:x,offset:E})):r.domain().map((x,R)=>({coordinate:r(x)+E,value:u?u[x]:x,index:R,offset:E}))}},C6=ae([Et,ip,sp,Hf,xI,op,PI,OI,jn],Hre),Kre=(t,e,n,r,i,a,u)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=wl(t,u),{tickCount:f}=e,h=0;return h=u==="angleAxis"&&r?.length>=2?Kr(r[0]-r[1])*2*h:h,c&&a?a.map((m,g)=>({coordinate:n(m)+h,value:m,index:g,offset:h})):n.ticks?n.ticks(f).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,g)=>({coordinate:n(m)+h,value:i?i[m]:m,index:g,offset:h}))}},Sf=ae([Et,ip,Hf,op,PI,OI,jn],Kre),Do=ae(Pr,Hf,(t,e)=>{if(!(t==null||e==null))return py(py({},t),{},{scale:e})}),Gre=ae([Pr,sp,SI,A6],II);ae((t,e,n)=>wI(t,n),Gre,(t,e)=>{if(!(t==null||e==null))return py(py({},t),{},{scale:e})});var Wre=ae([Et,j1,L1],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),D6=t=>t.options.defaultTooltipEventType,N6=t=>t.options.validateTooltipEventTypes;function k6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function RI(t,e){var n=D6(t),r=N6(t);return k6(e,n,r)}function Yre(t){return Oe(e=>RI(e,t))}var M6=(t,e)=>{var n,r=Number(e);if(!(Ti(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Qre=t=>t.tooltip.settings,uo={active:!1,index:null,dataKey:void 0,coordinate:void 0},Xre={itemInteraction:{click:uo,hover:uo},axisInteraction:{click:uo,hover:uo},keyboardInteraction:uo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},V6=Ii({name:"tooltip",initialState:Xre,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=yo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Zre,removeTooltipEntrySettings:Jre,setTooltipSettingsState:eie,setActiveMouseOverItemIndex:j6,mouseLeaveItem:tie,mouseLeaveChart:L6,setActiveClickItemIndex:nie,setMouseOverAxisIndex:U6,setMouseClickAxisIndex:rie,setSyncInteraction:vA,setKeyboardInteraction:yA}=V6.actions,iie=V6.reducer;function dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(n),!0).forEach(function(r){aie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aie(t,e,n){return(e=sie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sie(t){var e=oie(t,"string");return typeof e=="symbol"?e:e+""}function oie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uie(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function lie(t){return t.index!=null}var B6=(t,e,n,r)=>{if(e==null)return uo;var i=uie(t,e,n);if(i==null)return uo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(lie(i)){if(a)return Qg(Qg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Qg(Qg({},uo),{},{coordinate:i.coordinate})},CI=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Jr(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},q6=(t,e,n,r,i,a,u,c)=>{if(!(a==null||c==null)){var f=u[0],h=f==null?void 0:c(f.positions,a);if(h!=null)return h;var m=i?.[Number(a)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},z6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var u;return((u=a.settings)===null||u===void 0?void 0:u.dataKey)===i})},V_=t=>t.options.tooltipPayloadSearcher,Kf=t=>t.tooltip,Ln=t=>{var e=Et(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Gf=t=>t.tooltip.settings.axisId,ur=t=>{var e=Ln(t),n=Gf(t);return ip(t,e,n)},DI=ae([ur,Et,t6,pI,Ln],b6),cie=ae([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),fie=ae([Ln,Gf],n6),j_=ae([cie,ur,fie],r6),hie=ae([j_],a6),Il=ae([hie,qf],s6),NI=ae([Il,ur,j_],o6),die=ae([ur],TI),mie=ae([Il,j_,P_],l6),pie=ae([mie,qf,Ln],c6),gie=ae([j_],i6),vie=ae([Il,ur,gie,Ln],f6),yie=ae([h6,Ln,Gf],$f),_ie=ae([yie,Ln],p6),bie=ae([d6,Ln,Gf],$f),wie=ae([bie,Ln],g6),Eie=ae([m6,Ln,Gf],$f),Tie=ae([Eie,Ln],v6),Aie=ae([_ie,Tie,wie],AI),Sie=ae([ur,die,pie,vie,Aie],y6),F6=ae([ur,Et,Il,NI,P_,Ln,Sie],_6),Iie=ae([F6,ur,DI],w6),xie=ae([ur,F6,Iie,Ln],E6),$6=t=>{var e=Ln(t),n=Gf(t),r=!1;return op(t,e,n,r)},H6=ae([ur,$6],O_),K6=ae([ur,DI,xie,H6],II),Pie=ae([Et,NI,ur,Ln],O6),Oie=ae([Et,NI,ur,Ln],R6),Rie=(t,e,n,r,i,a,u,c)=>{if(e){var{type:f}=e,h=wl(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return g=c==="angleAxis"&&i!=null&&i?.length>=2?Kr(i[0]-i[1])*2*g:g,h&&u?u.map((y,b)=>({coordinate:r(y)+g,value:y,index:b,offset:g})):r.domain().map((y,b)=>({coordinate:r(y)+g,value:a?a[y]:y,index:b,offset:g}))}}},As=ae([Et,ur,DI,K6,$6,Pie,Oie,Ln],Rie),G6=ae([D6,N6,Qre],(t,e,n)=>k6(n.shared,t,e)),W6=t=>t.tooltip.settings.trigger,kI=t=>t.tooltip.settings.defaultIndex,L_=ae([Kf,G6,W6,kI],B6),Sm=ae([L_,Il],CI),Cie=ae([As,Sm],M6),Y6=ae([L_],t=>{if(t)return t.dataKey}),Die=ae([Kf,G6,W6,kI],z6),Nie=ae([Bo,qo,Et,Xn,As,kI,Die,V_],q6),kie=ae([L_,Nie],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Mie=ae([L_],t=>t.active);function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){Vie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vie(t,e,n){return(e=jie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jie(t){var e=Lie(t,"string");return typeof e=="symbol"?e:e+""}function Lie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uie=()=>Oe(ur),Bie=()=>{var t=Uie(),e=Oe(As),n=Oe(K6);return V1(pk(pk({},t),{},{scale:n}),e)};function gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(n),!0).forEach(function(r){qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qie(t,e,n){return(e=zie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zie(t){var e=Fie(t,"string");return typeof e=="symbol"?e:e+""}function Fie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ie=()=>Oe(pI),MI=(t,e)=>e,Q6=(t,e,n)=>n,VI=(t,e,n,r)=>r;function Hie(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}var Kie=ae(As,t=>c_(t,e=>e.coordinate)),jI=ae([Kf,MI,Q6,VI],B6),X6=ae([jI,Il],CI),Gie=(t,e,n)=>{if(e!=null){var r=Kf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Z6=ae([Kf,MI,Q6,VI],z6),gy=ae([Bo,qo,Et,Xn,As,VI,Z6,V_],q6),Wie=ae([jI,gy],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),J6=ae(As,X6,M6);function Yie(t,e){return t??e}var Qie=(t,e,n,r,i,a,u)=>{if(!(e==null||a==null)){var{chartData:c,computedData:f,dataStartIndex:h,dataEndIndex:m}=n,g=[];return t.reduce((y,b)=>{var E,{dataDefinedOnItem:T,settings:A}=b,x=Yie(T,c),R=Hie(x,h,m),P=(E=A?.dataKey)!==null&&E!==void 0?E:r?.dataKey,U=A?.nameKey,L;if(r!=null&&r.dataKey&&!(r!=null&&r.allowDuplicatedCategory)&&Array.isArray(R)&&u==="axis"?L=$W(R,r.dataKey,i):L=a(R,e,f,U),Array.isArray(L))L.forEach(C=>{var D=vk(vk({},A),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});y.push(QN({tooltipEntrySettings:D,dataKey:C.dataKey,payload:C.payload,value:Wr(C.payload,C.dataKey),name:C.name}))});else{var $;y.push(QN({tooltipEntrySettings:A,dataKey:P,payload:L,value:Wr(L,P),name:($=Wr(L,U))!==null&&$!==void 0?$:A?.name}))}return y},g)}},Xie=ae([Z6,X6,qf,ur,J6,V_,MI],Qie),Zie=ae([jI],t=>({isActive:t.active,activeIndex:t.index})),Jie=(t,e,n,r,i,a,u,c)=>{if(!(!t||!e||!r||!i||!a)){var f=cZ(t.chartX,t.chartY,e,n,c);if(f){var h=hZ(f,e),m=ZX(h,u,a,r,i),g=fZ(e,a,m,f);return{activeIndex:String(m),activeCoordinate:g}}}};function _A(){return _A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_A.apply(null,arguments)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){eae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eae(t,e,n){return(e=tae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tae(t){var e=nae(t,"string");return typeof e=="symbol"?e:e+""}function nae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rae(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:u,cursor:c,tooltipEventType:f,chartName:h}=t,m=e,g=n,y=r;if(!c||!m||h!=="ScatterChart"&&f!=="axis")return null;var b,E;if(h==="ScatterChart")b=m,E=mJ;else if(h==="BarChart")b=pJ(u,m,i,a),E=W3;else if(u==="radial"){var{cx:T,cy:A,radius:x,startAngle:R,endAngle:P}=Y3(m);b={cx:T,cy:A,startAngle:R,endAngle:P,innerRadius:x,outerRadius:x},E=X3}else b={points:tee(u,m,i)},E=aJ;var U=typeof c=="object"&&"className"in c?c.className:void 0,L=Xg(Xg(Xg(Xg({stroke:"#ccc",pointerEvents:"none"},i),b),Lt(c,!1)),{},{payload:g,payloadIndex:y,className:St("recharts-tooltip-cursor",U)});return N.isValidElement(c)?N.cloneElement(c,L):N.createElement(E,L)}function iae(t){var e=Bie(),n=B1(),r=q1(),i=$ie();return N.createElement(rae,_A({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var e5=N.createContext(null),aae=()=>N.useContext(e5),PE={exports:{}},_k;function sae(){return _k||(_k=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function a(f,h,m,g,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new i(m,g||f,y),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],b]:f._events[E].push(b):(f._events[E]=b,f._eventsCount++),f}function u(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,g;if(this._eventsCount===0)return h;for(g in m=this._events)e.call(m,g)&&h.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=n?n+h:h,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,b=g.length,E=new Array(b);y<b;y++)E[y]=g[y].fn;return E},c.prototype.listenerCount=function(h){var m=n?n+h:h,g=this._events[m];return g?g.fn?1:g.length:0},c.prototype.emit=function(h,m,g,y,b,E){var T=n?n+h:h;if(!this._events[T])return!1;var A=this._events[T],x=arguments.length,R,P;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),x){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,m),!0;case 3:return A.fn.call(A.context,m,g),!0;case 4:return A.fn.call(A.context,m,g,y),!0;case 5:return A.fn.call(A.context,m,g,y,b),!0;case 6:return A.fn.call(A.context,m,g,y,b,E),!0}for(P=1,R=new Array(x-1);P<x;P++)R[P-1]=arguments[P];A.fn.apply(A.context,R)}else{var U=A.length,L;for(P=0;P<U;P++)switch(A[P].once&&this.removeListener(h,A[P].fn,void 0,!0),x){case 1:A[P].fn.call(A[P].context);break;case 2:A[P].fn.call(A[P].context,m);break;case 3:A[P].fn.call(A[P].context,m,g);break;case 4:A[P].fn.call(A[P].context,m,g,y);break;default:if(!R)for(L=1,R=new Array(x-1);L<x;L++)R[L-1]=arguments[L];A[P].fn.apply(A[P].context,R)}}return!0},c.prototype.on=function(h,m,g){return a(this,h,m,g,!1)},c.prototype.once=function(h,m,g){return a(this,h,m,g,!0)},c.prototype.removeListener=function(h,m,g,y){var b=n?n+h:h;if(!this._events[b])return this;if(!m)return u(this,b),this;var E=this._events[b];if(E.fn)E.fn===m&&(!y||E.once)&&(!g||E.context===g)&&u(this,b);else{for(var T=0,A=[],x=E.length;T<x;T++)(E[T].fn!==m||y&&!E[T].once||g&&E[T].context!==g)&&A.push(E[T]);A.length?this._events[b]=A.length===1?A[0]:A:u(this,b)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&u(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(PE)),PE.exports}var oae=sae();const uae=Fi(oae);var Im=new uae,bA="recharts.syncEvent.tooltip",bk="recharts.syncEvent.brush";function lae(t,e){if(e){var n=Number.parseInt(e,10);if(!Ti(n))return t?.[n]}}var cae={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},t5=Ii({name:"options",initialState:cae,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fae=t5.reducer,{createEventEmitter:hae}=t5.actions;function dae(t){return t.tooltip.syncInteraction}var mae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},n5=Ii({name:"chartData",initialState:mae,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:wk,setDataStartEndIndexes:pae,setComputedData:Qce}=n5.actions,gae=n5.reducer,r5=()=>{};function vae(){var t=Oe(gI),e=Oe(vI),n=tn(),r=Oe(QU),i=Oe(As),a=q1(),u=U1(),c=Oe(f=>f.rootProps.className);N.useEffect(()=>{if(t==null)return r5;var f=(h,m,g)=>{if(e!==g&&t===h){if(r==="index"){n(m);return}if(i!=null){var y;if(typeof r=="function"){var b={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},E=r(i,b);y=i[E]}else r==="value"&&(y=i.find($=>String($.value)===m.payload.label));var{coordinate:T}=m.payload;if(y==null||m.payload.active===!1||T==null||u==null){n(vA({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:A,y:x}=T,R=Math.min(A,u.x+u.width),P=Math.min(x,u.y+u.height),U={x:a==="horizontal"?y.coordinate:R,y:a==="horizontal"?P:y.coordinate},L=vA({active:m.payload.active,coordinate:U,dataKey:m.payload.dataKey,index:String(y.index),label:m.payload.label});n(L)}}};return Im.on(bA,f),()=>{Im.off(bA,f)}},[c,n,e,t,r,i,a,u])}function yae(){var t=Oe(gI),e=Oe(vI),n=tn();N.useEffect(()=>{if(t==null)return r5;var r=(i,a,u)=>{e!==u&&t===i&&n(pae(a))};return Im.on(bk,r),()=>{Im.off(bk,r)}},[n,e,t])}function _ae(){var t=tn();N.useEffect(()=>{t(hae())},[t]),vae(),yae()}function bae(t,e,n,r,i,a){var u=Oe(y=>Gie(y,t,e)),c=Oe(vI),f=Oe(gI),h=Oe(QU),m=Oe(dae),g=m?.active;N.useEffect(()=>{if(!g&&f!=null&&c!=null){var y=vA({active:a,coordinate:n,dataKey:u,index:i,label:typeof r=="number"?String(r):r});Im.emit(bA,f,y,c)}},[g,n,u,i,r,c,f,h,a])}function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(r){wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wae(t,e,n){return(e=Eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eae(t){var e=Tae(t,"string");return typeof e=="symbol"?e:e+""}function Tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aae(t){return t.dataKey}function Sae(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(HZ,e)}var Ak=[],Iae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Jm.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xae(t){var e=El(t,Iae),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:u,filterNull:c,isAnimationActive:f,offset:h,payloadUniqBy:m,position:g,reverseDirection:y,useTranslate3d:b,wrapperStyle:E,cursor:T,shared:A,trigger:x,defaultIndex:R,portal:P,axisId:U}=e,L=tn(),$=typeof R=="number"?String(R):R;N.useEffect(()=>{L(eie({shared:A,trigger:x,axisId:U,active:n,defaultIndex:$}))},[L,A,x,U,n,$]);var C=U1(),D=$3(),M=Yre(A),{activeIndex:q,isActive:j}=Oe(Ce=>Zie(Ce,M,x,$)),B=Oe(Ce=>Xie(Ce,M,x,$)),V=Oe(Ce=>J6(Ce,M,x,$)),Pe=Oe(Ce=>Wie(Ce,M,x,$)),Me=B,te=aae(),he=n??j,[be,Ne]=h3([Me,he]),H=M==="axis"?V:void 0;bae(M,x,Pe,H,q,he);var oe=P??te;if(oe==null)return null;var ie=Me??Ak;he||(ie=Ak),c&&ie.length&&(ie=o3(Me.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||e.includeHidden)),m,Aae));var ce=ie.length>0,Ae=N.createElement(ZZ,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:f,active:he,coordinate:Pe,hasPayload:ce,offset:h,position:g,reverseDirection:y,useTranslate3d:b,viewBox:C,wrapperStyle:E,lastBoundingBox:be,innerRef:Ne,hasPortalFromProps:!!P},Sae(u,Tk(Tk({},e),{},{payload:ie,label:H,active:he,coordinate:Pe,accessibilityLayer:D})));return N.createElement(N.Fragment,null,V4.createPortal(Ae,oe),he&&N.createElement(iae,{cursor:T,tooltipEventType:M,coordinate:Pe,payload:Me,index:q}))}var OE={},RE={},CE={},Sk;function Pae(){return Sk||(Sk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let u,c=null;const f=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),m=()=>{c!==null&&(n.apply(u,c),u=void 0,c=null)},g=()=>{h&&m(),T()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},r)},E=()=>{y!==null&&(clearTimeout(y),y=null)},T=()=>{E(),u=void 0,c=null},A=()=>{E(),m()},x=function(...R){if(i?.aborted)return;u=this,c=R;const P=y==null;b(),f&&P&&m()};return x.schedule=b,x.cancel=T,x.flush=A,i?.addEventListener("abort",T,{once:!0}),x}t.debounce=e}(CE)),CE}var Ik;function Oae(){return Ik||(Ik=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pae();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:u=!1,trailing:c=!0,maxWait:f}=a,h=Array(2);u&&(h[0]="leading"),c&&(h[1]="trailing");let m,g=null;const y=e.debounce(function(...T){m=r.apply(this,T),g=null},i,{edges:h}),b=function(...T){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(m=r.apply(this,T),g=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,T),m)},E=()=>(y.flush(),m);return b.cancel=y.cancel,b.flush=E,b}t.debounce=n}(RE)),RE}var xk;function Rae(){return xk||(xk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oae();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:u=!0,trailing:c=!0}=a;return e.debounce(r,i,{leading:u,trailing:c,maxWait:i})}t.throttle=n}(OE)),OE}var DE,Pk;function Cae(){return Pk||(Pk=1,DE=Rae().throttle),DE}var Dae=Cae();const Nae=Fi(Dae);var NE=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){kae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kae(t,e,n){return(e=Mae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mae(t){var e=Vae(t,"string");return typeof e=="symbol"?e:e+""}function Vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jae=N.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:u=0,minHeight:c,maxHeight:f,children:h,debounce:m=0,id:g,className:y,onResize:b,style:E={}}=t,T=N.useRef(null),A=N.useRef();A.current=b,N.useImperativeHandle(e,()=>T.current);var[x,R]=N.useState({containerWidth:r.width,containerHeight:r.height}),P=N.useCallback((L,$)=>{R(C=>{var D=Math.round(L),M=Math.round($);return C.containerWidth===D&&C.containerHeight===M?C:{containerWidth:D,containerHeight:M}})},[]);N.useEffect(()=>{var L=M=>{var q,{width:j,height:B}=M[0].contentRect;P(j,B),(q=A.current)===null||q===void 0||q.call(A,j,B)};m>0&&(L=Nae(L,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(L),{width:C,height:D}=T.current.getBoundingClientRect();return P(C,D),$.observe(T.current),()=>{$.disconnect()}},[P,m]);var U=N.useMemo(()=>{var{containerWidth:L,containerHeight:$}=x;if(L<0||$<0)return null;NE(qu(i)||qu(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),NE(!n||n>0,"The aspect(%s) must be greater than zero.",n);var C=qu(i)?L:i,D=qu(a)?$:a;return n&&n>0&&(C?D=C/n:D&&(C=D*n),f&&D>f&&(D=f)),NE(C>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,D,i,a,u,c,n),N.Children.map(h,M=>N.cloneElement(M,{width:C,height:D,style:kE({height:"100%",width:"100%",maxHeight:D,maxWidth:C},M.props.style)}))},[n,h,a,f,c,u,x,i]);return N.createElement("div",{id:g?"".concat(g):void 0,className:St("recharts-responsive-container",y),style:kE(kE({},E),{},{width:i,height:a,minWidth:u,minHeight:c,maxHeight:f}),ref:T},U)}),i5=t=>null;i5.displayName="Cell";function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){Lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lae(t,e,n){return(e=Uae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uae(t){var e=Bae(t,"string");return typeof e=="symbol"?e:e+""}function Bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rc={widthCache:{},cacheCount:0},qae=2e3,zae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ck="recharts_measurement_span";function Fae(t){var e=wA({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var Hd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Jm.isSsr)return{width:0,height:0};var r=Fae(n),i=JSON.stringify({text:e,copyStyle:r});if(Rc.widthCache[i])return Rc.widthCache[i];try{var a=document.getElementById(Ck);a||(a=document.createElement("span"),a.setAttribute("id",Ck),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var u=wA(wA({},zae),r);Object.assign(a.style,u),a.textContent="".concat(e);var c=a.getBoundingClientRect(),f={width:c.width,height:c.height};return Rc.widthCache[i]=f,++Rc.cacheCount>qae&&(Rc.cacheCount=0,Rc.widthCache={}),f}catch{return{width:0,height:0}}},Dk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$ae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Hae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,a5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kae=Object.keys(a5),jc="NaN";function Gae(t,e){return t*a5[e]}class Er{static parse(e){var n,[,r,i]=(n=Hae.exec(e))!==null&&n!==void 0?n:[];return new Er(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ti(e)&&(this.unit=""),n!==""&&!$ae.test(n)&&(this.num=NaN,this.unit=""),Kae.includes(n)&&(this.num=Gae(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Er(NaN,""):new Er(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Er(NaN,""):new Er(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Er(NaN,""):new Er(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Er(NaN,""):new Er(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ti(this.num)}}function s5(t){if(t.includes(jc))return jc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=Dk.exec(e))!==null&&n!==void 0?n:[],u=Er.parse(r??""),c=Er.parse(a??""),f=i==="*"?u.multiply(c):u.divide(c);if(f.isNaN())return jc;e=e.replace(Dk,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,m,g,y]=(h=Nk.exec(e))!==null&&h!==void 0?h:[],b=Er.parse(m??""),E=Er.parse(y??""),T=g==="+"?b.add(E):b.subtract(E);if(T.isNaN())return jc;e=e.replace(Nk,T.toString())}return e}var kk=/\(([^()]*)\)/;function Wae(t){for(var e=t,n;(n=kk.exec(e))!=null;){var[,r]=n;e=e.replace(kk,s5(r))}return e}function Yae(t){var e=t.replace(/\s+/g,"");return e=Wae(e),e=s5(e),e}function Qae(t){try{return Yae(t)}catch{return jc}}function ME(t){var e=Qae(t.slice(5,-1));return e===jc?"":e}var Xae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zae=["dx","dy","angle","className","breakAll"];function EA(){return EA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EA.apply(null,arguments)}function Mk(t,e){if(t==null)return{};var n,r,i=Jae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var o5=/[ \f\n\r\t\v\u2028\u2029]+/,u5=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];mn(e)||(n?i=e.toString().split(""):i=e.toString().split(o5));var a=i.map(c=>({word:c,width:Hd(c,r).width})),u=n?0:Hd("",r).width;return{wordsWithComputedWidth:a,spaceWidth:u}}catch{return null}},ese=(t,e,n,r,i)=>{var{maxLines:a,children:u,style:c,breakAll:f}=t,h=xe(a),m=u,g=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return j.reduce((B,V)=>{var{word:Pe,width:Me}=V,te=B[B.length-1];if(te&&(r==null||i||te.width+Me+n<Number(r)))te.words.push(Pe),te.width+=Me+n;else{var he={words:[Pe],width:Me};B.push(he)}return B},[])},y=g(e),b=q=>q.reduce((j,B)=>j.width>B.width?j:B);if(!h||i)return y;var E=y.length>a||b(y).width>Number(r);if(!E)return y;for(var T="",A=q=>{var j=m.slice(0,q),B=u5({breakAll:f,style:c,children:j+T}).wordsWithComputedWidth,V=g(B),Pe=V.length>a||b(V).width>Number(r);return[Pe,V]},x=0,R=m.length-1,P=0,U;x<=R&&P<=m.length-1;){var L=Math.floor((x+R)/2),$=L-1,[C,D]=A($),[M]=A(L);if(!C&&!M&&(x=L+1),C&&M&&(R=L-1),!C&&M){U=D;break}P++}return U||y},Vk=t=>{var e=mn(t)?[]:t.toString().split(o5);return[{words:e}]},tse=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:u}=t;if((e||n)&&!Jm.isSsr){var c,f,h=u5({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:m,spaceWidth:g}=h;c=m,f=g}else return Vk(r);return ese({breakAll:a,children:r,maxLines:u,style:i},c,f,e,n)}return Vk(r)},jk="#808080",LI=N.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:u=!1,textAnchor:c="start",verticalAnchor:f="end",fill:h=jk}=t,m=Mk(t,Xae),g=N.useMemo(()=>tse({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:y,dy:b,angle:E,className:T,breakAll:A}=m,x=Mk(m,Zae);if(!Sa(n)||!Sa(r))return null;var R=n+(xe(y)?y:0),P=r+(xe(b)?b:0),U;switch(f){case"start":U=ME("calc(".concat(a,")"));break;case"middle":U=ME("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:U=ME("calc(".concat(g.length-1," * -").concat(i,")"));break}var L=[];if(u){var $=g[0].width,{width:C}=m;L.push("scale(".concat(xe(C)?C/$:1,")"))}return E&&L.push("rotate(".concat(E,", ").concat(R,", ").concat(P,")")),L.length&&(x.transform=L.join(" ")),N.createElement("text",EA({},Lt(x,!0),{ref:e,x:R,y:P,className:St("recharts-text",T),textAnchor:c,fill:h.includes("url")?jk:h}),g.map((D,M)=>{var q=D.words.join(A?"":" ");return N.createElement("tspan",{x:R,dy:M===0?U:i,key:"".concat(q,"-").concat(M)},q)}))});LI.displayName="Text";var nse=["offset"],rse=["labelRef"];function Lk(t,e){if(t==null)return{};var n,r,i=ise(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ise(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){ase(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ase(t,e,n){return(e=sse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sse(t){var e=ose(t,"string");return typeof e=="symbol"?e:e+""}function ose(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},es.apply(null,arguments)}var use=t=>{var{value:e,formatter:n}=t,r=mn(t.children)?e:t.children;return typeof n=="function"?n(r):r},UI=t=>t!=null&&typeof t=="function",lse=(t,e)=>{var n=Kr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},cse=(t,e,n)=>{var{position:r,viewBox:i,offset:a,className:u}=t,{cx:c,cy:f,innerRadius:h,outerRadius:m,startAngle:g,endAngle:y,clockWise:b}=i,E=(h+m)/2,T=lse(g,y),A=T>=0?1:-1,x,R;r==="insideStart"?(x=g+A*a,R=b):r==="insideEnd"?(x=y-A*a,R=!b):r==="end"&&(x=y+A*a,R=b),R=T<=0?R:!R;var P=Wn(c,f,E,x),U=Wn(c,f,E,x+(R?1:-1)*359),L="M".concat(P.x,",").concat(P.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(R?0:1,`,
    `).concat(U.x,",").concat(U.y),$=mn(t.id)?gm("recharts-radial-line-"):t.id;return N.createElement("text",es({},n,{dominantBaseline:"central",className:St("recharts-radial-bar-label",u)}),N.createElement("defs",null,N.createElement("path",{id:$,d:L})),N.createElement("textPath",{xlinkHref:"#".concat($)},e))},fse=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:i,cy:a,innerRadius:u,outerRadius:c,startAngle:f,endAngle:h}=e,m=(f+h)/2;if(r==="outside"){var{x:g,y}=Wn(i,a,c+n,m);return{x:g,y,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(u+c)/2,{x:E,y:T}=Wn(i,a,b,m);return{x:E,y:T,textAnchor:"middle",verticalAnchor:"middle"}},hse=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:a,y:u,width:c,height:f}=e,h=f>=0?1:-1,m=h*r,g=h>0?"end":"start",y=h>0?"start":"end",b=c>=0?1:-1,E=b*r,T=b>0?"end":"start",A=b>0?"start":"end";if(i==="top"){var x={x:a+c/2,y:u-h*r,textAnchor:"middle",verticalAnchor:g};return ln(ln({},x),n?{height:Math.max(u-n.y,0),width:c}:{})}if(i==="bottom"){var R={x:a+c/2,y:u+f+m,textAnchor:"middle",verticalAnchor:y};return ln(ln({},R),n?{height:Math.max(n.y+n.height-(u+f),0),width:c}:{})}if(i==="left"){var P={x:a-E,y:u+f/2,textAnchor:T,verticalAnchor:"middle"};return ln(ln({},P),n?{width:Math.max(P.x-n.x,0),height:f}:{})}if(i==="right"){var U={x:a+c+E,y:u+f/2,textAnchor:A,verticalAnchor:"middle"};return ln(ln({},U),n?{width:Math.max(n.x+n.width-U.x,0),height:f}:{})}var L=n?{width:c,height:f}:{};return i==="insideLeft"?ln({x:a+E,y:u+f/2,textAnchor:A,verticalAnchor:"middle"},L):i==="insideRight"?ln({x:a+c-E,y:u+f/2,textAnchor:T,verticalAnchor:"middle"},L):i==="insideTop"?ln({x:a+c/2,y:u+m,textAnchor:"middle",verticalAnchor:y},L):i==="insideBottom"?ln({x:a+c/2,y:u+f-m,textAnchor:"middle",verticalAnchor:g},L):i==="insideTopLeft"?ln({x:a+E,y:u+m,textAnchor:A,verticalAnchor:y},L):i==="insideTopRight"?ln({x:a+c-E,y:u+m,textAnchor:T,verticalAnchor:y},L):i==="insideBottomLeft"?ln({x:a+E,y:u+f-m,textAnchor:A,verticalAnchor:g},L):i==="insideBottomRight"?ln({x:a+c-E,y:u+f-m,textAnchor:T,verticalAnchor:g},L):i&&typeof i=="object"&&(xe(i.x)||qu(i.x))&&(xe(i.y)||qu(i.y))?ln({x:a+zi(i.x,c),y:u+zi(i.y,f),textAnchor:"end",verticalAnchor:"end"},L):ln({x:a+c/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},L)},dse=t=>"cx"in t&&xe(t.cx);function Fr(t){var{offset:e=5}=t,n=Lk(t,nse),r=ln({offset:e},n),{viewBox:i,position:a,value:u,children:c,content:f,className:h="",textBreakAll:m,labelRef:g}=r,y=U1(),b=i||y;if(!b||mn(u)&&mn(c)&&!N.isValidElement(f)&&typeof f!="function")return null;if(N.isValidElement(f)){var{labelRef:E}=r,T=Lk(r,rse);return N.cloneElement(f,T)}var A;if(typeof f=="function"){if(A=N.createElement(f,r),N.isValidElement(A))return A}else A=use(r);var x=dse(b),R=Lt(r,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return cse(r,A,R);var P=x?fse(r):hse(r,b);return N.createElement(LI,es({ref:g,className:St("recharts-label",h)},R,P,{breakAll:m}),A)}Fr.displayName="Label";var l5=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:a,r:u,radius:c,innerRadius:f,outerRadius:h,x:m,y:g,top:y,left:b,width:E,height:T,clockWise:A,labelViewBox:x}=t;if(x)return x;if(xe(E)&&xe(T)){if(xe(m)&&xe(g))return{x:m,y:g,width:E,height:T};if(xe(y)&&xe(b))return{x:y,y:b,width:E,height:T}}if(xe(m)&&xe(g))return{x:m,y:g,width:0,height:0};if(xe(e)&&xe(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:A};if(t.viewBox)return t.viewBox},mse=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?N.createElement(Fr,es({key:"label-implicit"},r)):Sa(t)?N.createElement(Fr,es({key:"label-implicit",value:t},r)):N.isValidElement(t)?t.type===Fr?N.cloneElement(t,ln({key:"label-implicit"},r)):N.createElement(Fr,es({key:"label-implicit",content:t},r)):UI(t)?N.createElement(Fr,es({key:"label-implicit",content:t},r)):t&&typeof t=="object"?N.createElement(Fr,es({},t,{key:"label-implicit"},r)):null},pse=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:a}=e,u=l5(e),c=v1(i,Fr).map((h,m)=>N.cloneElement(h,{viewBox:n||u,key:"label-".concat(m)}));if(!r)return c;var f=mse(e.label,n||u,a);return[f,...c]};Fr.parseViewBox=l5;Fr.renderCallByParent=pse;var VE={},jE={},Bk;function gse(){return Bk||(Bk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e}(jE)),jE}var LE={},qk;function vse(){return qk||(qk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e}(LE)),LE}var zk;function yse(){return zk||(zk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gse(),n=vse(),r=S1();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i}(VE)),VE}var UE,Fk;function _se(){return Fk||(Fk=1,UE=yse().last),UE}var bse=_se();const wse=Fi(bse);var Ese=["valueAccessor"],Tse=["data","dataKey","clockWise","id","textBreakAll"];function vy(){return vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vy.apply(null,arguments)}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Ase(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ase(t,e,n){return(e=Sse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sse(t){var e=Ise(t,"string");return typeof e=="symbol"?e:e+""}function Ise(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kk(t,e){if(t==null)return{};var n,r,i=xse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pse=t=>Array.isArray(t.value)?wse(t.value):t.value;function Zu(t){var{valueAccessor:e=Pse}=t,n=Kk(t,Ese),{data:r,dataKey:i,clockWise:a,id:u,textBreakAll:c}=n,f=Kk(n,Tse);return!r||!r.length?null:N.createElement(Ia,{className:"recharts-label-list"},r.map((h,m)=>{var g=mn(i)?e(h,m):Wr(h&&h.payload,i),y=mn(u)?{}:{id:"".concat(u,"-").concat(m)};return N.createElement(Fr,vy({},Lt(h,!0),f,y,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:Fr.parseViewBox(mn(a)?h:Hk(Hk({},h),{},{clockWise:a})),key:"label-".concat(m),index:m}))}))}Zu.displayName="LabelList";function Ose(t,e){return t?t===!0?N.createElement(Zu,{key:"labelList-implicit",data:e}):N.isValidElement(t)||UI(t)?N.createElement(Zu,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?N.createElement(Zu,vy({data:e},t,{key:"labelList-implicit"})):null:null}function Rse(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=v1(r,Zu).map((u,c)=>N.cloneElement(u,{data:e,key:"labelList-".concat(c)}));if(!n)return i;var a=Ose(t.label,e);return[a,...i]}Zu.renderCallByParent=Rse;var Cse={radiusAxis:{},angleAxis:{}},c5=Ii({name:"polarAxis",initialState:Cse,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Xce,removeRadiusAxis:Zce,addAngleAxis:Jce,removeAngleAxis:efe}=c5.actions,Dse=c5.reducer,Nse={countOfBars:0,cartesianItems:[],polarItems:[]},f5=Ii({name:"graphicalItems",initialState:Nse,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},removeCartesianGraphicalItem(t,e){var n=yo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=yo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:kse,removeBar:Mse,addCartesianGraphicalItem:Vse,removeCartesianGraphicalItem:jse,addPolarGraphicalItem:tfe,removePolarGraphicalItem:nfe}=f5.actions,Lse=f5.reducer;function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){Use(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Use(t,e,n){return(e=Bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bse(t){var e=qse(t,"string");return typeof e=="symbol"?e:e+""}function qse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zse(t){var e=tn();return N.useEffect(()=>{var n=Wk(Wk({},t),{},{stackId:j3(t.stackId)});return e(Vse(n)),()=>{e(jse(n))}},[e,t]),null}var BE={},Yk;function Fse(){return Yk||(Yk=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e}(BE)),BE}var qE,Qk;function $se(){return Qk||(Qk=1,qE=Fse().isPlainObject),qE}var Hse=$se();const Kse=Fi(Hse);function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yy.apply(null,arguments)}var Xk=(t,e,n,r,i)=>{var a=n-r,u;return u="M ".concat(t,",").concat(e),u+="L ".concat(t+n,",").concat(e),u+="L ".concat(t+n-a/2,",").concat(e+i),u+="L ".concat(t+n-a/2-r,",").concat(e+i),u+="L ".concat(t,",").concat(e," Z"),u},Gse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wse=t=>{var e=El(t,Gse),n=N.useRef(),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&i(A)}catch{}},[]);var{x:a,y:u,upperWidth:c,lowerWidth:f,height:h,className:m}=e,{animationEasing:g,animationDuration:y,animationBegin:b,isUpdateAnimationActive:E}=e;if(a!==+a||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var T=St("recharts-trapezoid",m);return E?N.createElement(bf,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:h,x:a,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:a,y:u},duration:y,animationEasing:g,isActive:E},A=>{var{upperWidth:x,lowerWidth:R,height:P,x:U,y:L}=A;return N.createElement(bf,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:g},N.createElement("path",yy({},Lt(e,!0),{className:T,d:Xk(U,L,x,R,P),ref:n})))}):N.createElement("g",null,N.createElement("path",yy({},Lt(e,!0),{className:T,d:Xk(a,u,c,f,h)})))},Yse=["option","shapeType","propTransformer","activeClassName","isActive"];function Qse(t,e){if(t==null)return{};var n,r,i=Xse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){Zse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zse(t,e,n){return(e=Jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jse(t){var e=eoe(t,"string");return typeof e=="symbol"?e:e+""}function eoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function toe(t,e){return _y(_y({},e),t)}function noe(t,e){return t==="symbols"}function Jk(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return N.createElement(W3,n);case"trapezoid":return N.createElement(Wse,n);case"sector":return N.createElement(X3,n);case"symbols":if(noe(e))return N.createElement(E1,n);break;default:return null}}function roe(t){return N.isValidElement(t)?t.props:t}function ioe(t){var{option:e,shapeType:n,propTransformer:r=toe,activeClassName:i="recharts-active-shape",isActive:a}=t,u=Qse(t,Yse),c;if(N.isValidElement(e))c=N.cloneElement(e,_y(_y({},u),roe(e)));else if(typeof e=="function")c=e(u);else if(Kse(e)&&typeof e!="boolean"){var f=r(e,u);c=N.createElement(Jk,{shapeType:n,elementProps:f})}else{var h=u;c=N.createElement(Jk,{shapeType:n,elementProps:h})}return a?N.createElement(Ia,{className:i},c):c}var h5=(t,e)=>{var n=tn();return(r,i)=>a=>{t?.(r,i,a),n(j6({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},d5=t=>{var e=tn();return(n,r)=>i=>{t?.(n,r,i),e(tie())}},m5=(t,e)=>{var n=tn();return(r,i)=>a=>{t?.(r,i,a),n(nie({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function aoe(t){var{fn:e,args:n}=t,r=tn(),i=ei();return N.useEffect(()=>{if(!i){var a=e(n);return r(Zre(a)),()=>{r(Jre(a))}}},[e,n,r,i]),null}var soe=()=>{};function ooe(t){var{legendPayload:e}=t,n=tn(),r=ei();return N.useEffect(()=>r?soe:(n(xZ(e)),()=>{n(PZ(e))}),[n,r,e]),null}function uoe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(gm(e)),r=N.useRef(t);return r.current!==t&&(n.current=gm(e),r.current=t),n.current}var loe=()=>{var t=tn();return N.useEffect(()=>(t(kse()),()=>{t(Mse())})),null},coe=["children"];function foe(t,e){if(t==null)return{};var n,r,i=hoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var eM=()=>{},p5=N.createContext({addErrorBar:eM,removeErrorBar:eM}),doe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},g5=N.createContext(doe);function moe(t){var{children:e}=t,n=foe(t,coe);return N.createElement(g5.Provider,{value:n},e)}var poe=()=>N.useContext(g5),goe=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:a,data:u,stackId:c,hide:f,type:h,barSize:m}=t,[g,y]=N.useState([]),b=N.useCallback(A=>{y(x=>[...x,A])},[y]),E=N.useCallback(A=>{y(x=>x.filter(R=>R!==A))},[y]),T=ei();return N.createElement(p5.Provider,{value:{addErrorBar:b,removeErrorBar:E}},N.createElement(zse,{type:h,data:u,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:a,errorBars:g,stackId:c,hide:f,barSize:m,isPanorama:T}),e)};function voe(t){var{addErrorBar:e,removeErrorBar:n}=N.useContext(p5);return N.useEffect(()=>(e(t),()=>{n(t)}),[e,n,t]),null}var yoe=t=>{var e=ei();return Oe(n=>Do(n,"xAxis",t,e))},_oe=t=>{var e=ei();return Oe(n=>Do(n,"yAxis",t,e))},boe=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function v5(t,e,n){return(e=woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function woe(t){var e=Eoe(t,"string");return typeof e=="symbol"?e:e+""}function Eoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(null,arguments)}function Toe(t,e){if(t==null)return{};var n,r,i=Aoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Soe(t){var{direction:e,width:n,dataKey:r,isAnimationActive:i,animationBegin:a,animationDuration:u,animationEasing:c}=t,f=Toe(t,boe),h=Lt(f,!1),{data:m,dataPointFormatter:g,xAxisId:y,yAxisId:b,errorBarOffset:E}=poe(),T=yoe(y),A=_oe(b);if(T?.scale==null||A?.scale==null||m==null||e==="x"&&T.type!=="number")return null;var x=m.map(R=>{var{x:P,y:U,value:L,errorVal:$}=g(R,r,e);if(!$)return null;var C=[],D,M;if(Array.isArray($)?[D,M]=$:D=M=$,e==="x"){var{scale:q}=T,j=U+E,B=j+n,V=j-n,Pe=q(L-D),Me=q(L+M);C.push({x1:Me,y1:B,x2:Me,y2:V}),C.push({x1:Pe,y1:j,x2:Me,y2:j}),C.push({x1:Pe,y1:B,x2:Pe,y2:V})}else if(e==="y"){var{scale:te}=A,he=P+E,be=he-n,Ne=he+n,H=te(L-D),oe=te(L+M);C.push({x1:be,y1:oe,x2:Ne,y2:oe}),C.push({x1:he,y1:H,x2:he,y2:oe}),C.push({x1:be,y1:H,x2:Ne,y2:H})}var ie="".concat(P+E,"px ").concat(U+E,"px");return N.createElement(Ia,xm({className:"recharts-errorBar",key:"bar-".concat(C.map(ce=>"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)))},h),C.map(ce=>{var Ae=i?{transformOrigin:"".concat(ce.x1-5,"px")}:void 0;return N.createElement(bf,{from:{transform:"scaleY(0)",transformOrigin:ie},to:{transform:"scaleY(1)",transformOrigin:ie},begin:a,easing:c,isActive:i,duration:u,key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2),style:{transformOrigin:ie}},N.createElement("line",xm({},ce,{style:Ae})))}))});return N.createElement(Ia,{className:"recharts-errorBars"},x)}var y5=N.createContext(void 0);function Ioe(t){var e=N.useContext(y5);return t??e??"x"}function xoe(t){var{direction:e,children:n}=t;return N.createElement(y5.Provider,{value:e},n)}var _5={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Poe(t){var e=Ioe(t.direction),{width:n,isAnimationActive:r,animationBegin:i,animationDuration:a,animationEasing:u}=El(t,_5);return N.createElement(N.Fragment,null,N.createElement(voe,{dataKey:t.dataKey,direction:e}),N.createElement(Soe,xm({},t,{direction:e,width:n,isAnimationActive:r,animationBegin:i,animationDuration:a,animationEasing:u})))}class b5 extends N.Component{render(){return N.createElement(Poe,this.props)}}v5(b5,"defaultProps",_5);v5(b5,"displayName","ErrorBar");var Ooe="Invariant failed";function Roe(t,e){throw new Error(Ooe)}var Coe=["x","y"];function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TA.apply(null,arguments)}function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){Doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Doe(t,e,n){return(e=Noe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Noe(t){var e=koe(t,"string");return typeof e=="symbol"?e:e+""}function koe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Moe(t,e){if(t==null)return{};var n,r,i=Voe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Voe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function joe(t,e){var{x:n,y:r}=t,i=Moe(t,Coe),a="".concat(n),u=parseInt(a,10),c="".concat(r),f=parseInt(c,10),h="".concat(e.height||i.height),m=parseInt(h,10),g="".concat(e.width||i.width),y=parseInt(g,10);return bd(bd(bd(bd(bd({},e),i),u?{x:u}:{}),f?{y:f}:{}),{},{height:m,width:y,name:e.name,radius:e.radius})}function w5(t){return N.createElement(ioe,TA({shapeType:"rectangle",propTransformer:joe,activeClassName:"recharts-active-bar"},t))}var Loe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(xe(e))return e;var a=xe(r)||mn(r);return a?e(r,i):(a||Roe(),n)}};function E5(t,e){var n,r,i=Oe(h=>Ts(h,t)),a=Oe(h=>$o(h,e)),u=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Lr.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Ur.allowDataOverflow,f=u||c;return{needClip:f,needClipX:u,needClipY:c}}function Uoe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=B1(),{needClipX:a,needClipY:u,needClip:c}=E5(e,n);if(!c)return null;var{left:f,top:h,width:m,height:g}=i;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:a?f:f-m/2,y:u?h:h-g/2,width:a?m:m*2,height:u?g:g*2}))}var Boe=["onMouseEnter","onMouseLeave","onClick"],qoe=["value","background","tooltipPosition"],zoe=["onMouseEnter","onClick","onMouseLeave"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(null,arguments)}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){U_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U_(t,e,n){return(e=Foe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t){var e=$oe(t,"string");return typeof e=="symbol"?e:e+""}function $oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AA(t,e){if(t==null)return{};var n,r,i=Hoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Koe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:L3(n,e),payload:t}]};function Goe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:a,hide:u,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:L3(a,e),hide:u,type:t.tooltipType,color:t.fill,unit:c}}}function Woe(t){var e=Oe(Sm),{data:n,dataKey:r,background:i,allOtherBarProps:a}=t,{onMouseEnter:u,onMouseLeave:c,onClick:f}=a,h=AA(a,Boe),m=h5(u,r),g=d5(c),y=m5(f,r);if(!i||n==null)return null;var b=Lt(i,!1);return N.createElement(N.Fragment,null,n.map((E,T)=>{var{value:A,background:x,tooltipPosition:R}=E,P=AA(E,qoe);if(!x)return null;var U=m(E,T),L=g(E,T),$=y(E,T),C=ir(ir(ir(ir(ir({option:i,isActive:String(T)===e},P),{},{fill:"#eee"},x),b),s_(h,E,T)),{},{onMouseEnter:U,onMouseLeave:L,onClick:$,dataKey:r,index:T,className:"recharts-bar-background-rectangle"});return N.createElement(w5,Pm({key:"background-bar-".concat(T)},C))}))}function T5(t){var{data:e,props:n,showLabels:r}=t,i=Lt(n,!1),{shape:a,dataKey:u,activeBar:c}=n,f=Oe(Sm),h=Oe(Y6),{onMouseEnter:m,onClick:g,onMouseLeave:y}=n,b=AA(n,zoe),E=h5(m,u),T=d5(y),A=m5(g,u);return e?N.createElement(N.Fragment,null,e.map((x,R)=>{var P=c&&String(R)===f&&(h==null||u===h),U=P?c:a,L=ir(ir(ir({},i),x),{},{isActive:P,option:U,index:R,dataKey:u});return N.createElement(Ia,Pm({className:"recharts-bar-rectangle"},s_(b,x,R),{onMouseEnter:E(x,R),onMouseLeave:T(x,R),onClick:A(x,R),key:"rectangle-".concat(x?.x,"-").concat(x?.y,"-").concat(x?.value,"-").concat(R)}),N.createElement(w5,L))}),r&&Zu.renderCallByParent(n,e)):null}function Yoe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:a,animationBegin:u,animationDuration:c,animationEasing:f,onAnimationEnd:h,onAnimationStart:m}=e,g=n.current,y=uoe(e,"recharts-bar-"),[b,E]=N.useState(!1),T=N.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),A=N.useCallback(()=>{typeof m=="function"&&m(),E(!0)},[m]);return N.createElement(bf,{begin:u,duration:c,isActive:a,easing:f,from:{t:0},to:{t:1},onAnimationEnd:T,onAnimationStart:A,key:y},x=>{var{t:R}=x,P=R===1?r:r.map((U,L)=>{var $=g&&g[L];if($){var C=Pc($.x,U.x),D=Pc($.y,U.y),M=Pc($.width,U.width),q=Pc($.height,U.height);return ir(ir({},U),{},{x:C(R),y:D(R),width:M(R),height:q(R)})}if(i==="horizontal"){var j=Pc(0,U.height),B=j(R);return ir(ir({},U),{},{y:U.y+U.height-B,height:B})}var V=Pc(0,U.width),Pe=V(R);return ir(ir({},U),{},{width:Pe})});return R>0&&(n.current=P),N.createElement(Ia,null,N.createElement(T5,{props:e,data:P,showLabels:!b}))})}function Qoe(t){var{data:e,isAnimationActive:n}=t,r=N.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?N.createElement(Yoe,{previousRectanglesRef:r,props:t}):N.createElement(T5,{props:t,data:e,showLabels:!0})}var A5=0,Xoe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Wr(t,e)}};class Zoe extends N.PureComponent{constructor(){super(...arguments),U_(this,"id",gm("recharts-bar-"))}render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:u,needClip:c,background:f,id:h,layout:m}=this.props;if(e)return null;var g=St("recharts-bar",i),y=mn(h)?this.id:h;return N.createElement(Ia,{className:g},c&&N.createElement("defs",null,N.createElement(Uoe,{clipPathId:y,xAxisId:a,yAxisId:u})),N.createElement(Ia,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(y,")"):null},N.createElement(Woe,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),N.createElement(Qoe,this.props)),N.createElement(xoe,{direction:m==="horizontal"?"y":"x"},this.props.children))}}var S5={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Jm.isSsr,legendType:"rect",minPointSize:A5,xAxisId:0,yAxisId:0};function Joe(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:u,animationBegin:c,animationDuration:f,animationEasing:h,isAnimationActive:m}=El(t,S5),{needClip:g}=E5(e,n),y=q1(),b=ei(),E=N.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:a,stackId:j3(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,a,t.stackId]),T=v1(t.children,i5),A=Oe(P=>xue(P,e,n,b,E,T));if(y!=="vertical"&&y!=="horizontal")return null;var x,R=A?.[0];return R==null||R.height==null||R.width==null?x=0:x=y==="vertical"?R.height/2:R.width/2,N.createElement(moe,{xAxisId:e,yAxisId:n,data:A,dataPointFormatter:Xoe,errorBarOffset:x},N.createElement(Zoe,Pm({},t,{layout:y,needClip:g,data:A,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:u,animationBegin:c,animationDuration:f,animationEasing:h,isAnimationActive:m})))}function eue(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:u,yAxis:c,xAxisTicks:f,yAxisTicks:h,stackedData:m,displayedData:g,offset:y,cells:b}=t,E=e==="horizontal"?c:u,T=m?E.scale.domain():null,A=sZ({numericAxis:E});return g.map((x,R)=>{var P,U,L,$,C,D;m?P=tZ(m[R],T):(P=Wr(x,n),Array.isArray(P)||(P=[A,P]));var M=Loe(r,A5)(P[1],R);if(e==="horizontal"){var q,[j,B]=[c.scale(P[0]),c.scale(P[1])];U=GN({axis:u,ticks:f,bandSize:a,offset:i.offset,entry:x,index:R}),L=(q=B??j)!==null&&q!==void 0?q:void 0,$=i.size;var V=j-B;if(C=Ti(V)?0:V,D={x:U,y:y.top,width:$,height:y.height},Math.abs(M)>0&&Math.abs(C)<Math.abs(M)){var Pe=Kr(C||M)*(Math.abs(M)-Math.abs(C));L-=Pe,C+=Pe}}else{var[Me,te]=[u.scale(P[0]),u.scale(P[1])];if(U=Me,L=GN({axis:c,ticks:h,bandSize:a,offset:i.offset,entry:x,index:R}),$=te-Me,C=i.size,D={x:y.left,y:L,width:y.width,height:C},Math.abs(M)>0&&Math.abs($)<Math.abs(M)){var he=Kr($||M)*(Math.abs(M)-Math.abs($));$+=he}}return ir(ir({},x),{},{x:U,y:L,width:$,height:C,value:m?P:P[1],payload:x,background:D,tooltipPosition:{x:U+$/2,y:L+C/2}},b&&b[R]&&b[R].props)})}class Kd extends N.PureComponent{render(){return N.createElement(goe,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},N.createElement(loe,null),N.createElement(ooe,{legendPayload:Koe(this.props)}),N.createElement(aoe,{fn:Goe,args:this.props}),N.createElement(Joe,this.props))}}U_(Kd,"displayName","Bar");U_(Kd,"defaultProps",S5);function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tue(t,e,n){return(e=nue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nue(t){var e=rue(t,"string");return typeof e=="symbol"?e:e+""}function rue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iue=(t,e)=>e,aue=(t,e,n)=>n,sue=(t,e,n,r)=>r,BI=(t,e,n,r,i)=>i,oue=(t,e,n,r,i)=>i.maxBarSize,uue=(t,e,n,r,i,a)=>a,iM=(t,e,n)=>{var r=n??t;if(!mn(r))return zi(r,e,0)},lue=ae([Et,EI,iue,aue,sue],(t,e,n,r,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),cue=(t,e,n,r)=>{var i=Et(t);return i==="horizontal"?gA(t,"yAxis",n,r):gA(t,"xAxis",e,r)},fue=(t,e,n)=>{var r=Et(t);return r==="horizontal"?hk(t,"xAxis",e):hk(t,"yAxis",n)};function hue(t){return t.stackId!=null&&t.dataKey!=null}var due=(t,e,n)=>{var r={},i=t.filter(hue),a=t.filter(h=>h.stackId==null),u=i.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),r),c=Object.entries(u).map(h=>{var[m,g]=h,y=g.map(E=>E.dataKey),b=iM(e,n,g[0].barSize);return{stackId:m,dataKeys:y,barSize:b}}),f=a.map(h=>{var m=[h.dataKey].filter(y=>y!=null),g=iM(e,n,h.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...c,...f]},mue=ae([lue,Qne,fue],due),pue=(t,e,n,r,i)=>{var a,u,c=Et(t),f=WU(t),{maxBarSize:h}=i,m=mn(h)?f:h,g,y;return c==="horizontal"?(g=Do(t,"xAxis",e,r),y=Sf(t,"xAxis",e,r)):(g=Do(t,"yAxis",n,r),y=Sf(t,"yAxis",n,r)),(a=(u=V1(g,y,!0))!==null&&u!==void 0?u:m)!==null&&a!==void 0?a:0},I5=(t,e,n,r)=>{var i=Et(t),a,u;return i==="horizontal"?(a=Do(t,"xAxis",e,r),u=Sf(t,"xAxis",e,r)):(a=Do(t,"yAxis",n,r),u=Sf(t,"yAxis",n,r)),V1(a,u)};function gue(t,e,n,r,i){var a=r.length;if(!(a<1)){var u=zi(t,n,0,!0),c,f=[];if(Jr(r[0].barSize)){var h=!1,m=n/a,g=r.reduce((x,R)=>x+(R.barSize||0),0);g+=(a-1)*u,g>=n&&(g-=(a-1)*u,u=0),g>=n&&m>0&&(h=!0,m*=.9,g=a*m);var y=(n-g)/2>>0,b={offset:y-u,size:0};c=r.reduce((x,R)=>{var P,U={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:b.offset+b.size+u,size:h?m:(P=R.barSize)!==null&&P!==void 0?P:0}},L=[...x,U];return b=L[L.length-1].position,L},f)}else{var E=zi(e,n,0,!0);n-2*E-(a-1)*u<=0&&(u=0);var T=(n-2*E-(a-1)*u)/a;T>1&&(T>>=0);var A=Jr(i)?Math.min(T,i):T;c=r.reduce((x,R,P)=>[...x,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:E+(T+u)*P+(T-A)/2,size:A}}],f)}return c}}var vue=(t,e,n,r,i,a,u)=>{var c=mn(u)?e:u,f=gue(n,r,i!==a?i:a,t,c);return i!==a&&f!=null&&(f=f.map(h=>Zg(Zg({},h),{},{position:Zg(Zg({},h.position),{},{offset:h.position.offset-i/2})}))),f},yue=ae([mue,WU,Yne,YU,pue,I5,oue],vue),_ue=(t,e,n,r)=>Do(t,"xAxis",e,r),bue=(t,e,n,r)=>Do(t,"yAxis",n,r),wue=(t,e,n,r)=>Sf(t,"xAxis",e,r),Eue=(t,e,n,r)=>Sf(t,"yAxis",n,r),Tue=ae([yue,BI],(t,e)=>{if(t!=null){var n=t.find(r=>r.stackId===e.stackId&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Aue=(t,e)=>{if(!(!t||e?.dataKey==null)){var{stackId:n}=e;if(n!=null){var r=t[n];if(r){var{stackedData:i}=r;if(i){var a=i.find(u=>u.key===e.dataKey);return a}}}}},Sue=ae([EI,BI],(t,e)=>{if(t.some(n=>n.type==="bar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId&&e.stackId===n.stackId))return e}),Iue=ae([cue,BI],Aue),xue=ae([Xn,_ue,bue,wue,Eue,Tue,Et,NU,I5,Iue,Sue,uue],(t,e,n,r,i,a,u,c,f,h,m,g)=>{var{chartData:y,dataStartIndex:b,dataEndIndex:E}=c;if(!(m==null||a==null||u!=="horizontal"&&u!=="vertical"||e==null||n==null||r==null||i==null||f==null)){var{data:T}=m,A;if(T!=null&&T.length>0?A=T:A=y?.slice(b,E+1),A!=null)return eue({layout:u,barSettings:m,pos:a,bandSize:f,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:h,displayedData:A,offset:t,cells:g})}}),Pue=t=>{var{chartData:e}=t,n=tn(),r=ei();return N.useEffect(()=>r?()=>{}:(n(wk(e)),()=>{n(wk(void 0))}),[e,n,r]),null},aM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},x5=Ii({name:"brush",initialState:aM,reducers:{setBrushSettings(t,e){return e.payload==null?aM:e.payload}}}),{setBrushSettings:rfe}=x5.actions,Oue=x5.reducer;function Rue(t,e,n){return(e=Cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t){var e=Due(t,"string");return typeof e=="symbol"?e:e+""}function Due(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qI{static create(e){return new qI(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+u}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Rue(qI,"EPS",1e-4);function Nue(t){return(t%180+180)%180}var kue=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Nue(i),u=a*Math.PI/180,c=Math.atan(r/n),f=u>c&&u<Math.PI-c?r/Math.sin(u):n/Math.cos(u);return Math.abs(f)},Mue={dots:[],areas:[],lines:[]},P5=Ii({name:"referenceElements",initialState:Mue,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=yo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=yo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=yo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:ife,removeDot:afe,addArea:sfe,removeArea:ofe,addLine:ufe,removeLine:lfe}=P5.actions,Vue=P5.reducer,jue=N.createContext(void 0),Lue=t=>{var{children:e}=t,[n]=N.useState("".concat(gm("recharts"),"-clip")),r=B1();if(r==null)return null;var{left:i,top:a,height:u,width:c}=r;return N.createElement(jue.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:a,height:u,width:c}))),e)};function zE(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function O5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Uue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return kue(r,n)}function Bue(t,e,n){var r=n==="width",{x:i,y:a,width:u,height:c}=t;return e===1?{start:r?i:a,end:r?i+u:a+c}:{start:r?i+u:a+c,end:r?i:a}}function by(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function que(t,e){return O5(t,e+1)}function zue(t,e,n,r,i){for(var a=(r||[]).slice(),{start:u,end:c}=e,f=0,h=1,m=u,g=function(){var E=r?.[f];if(E===void 0)return{v:O5(r,h)};var T=f,A,x=()=>(A===void 0&&(A=n(E,T)),A),R=E.coordinate,P=f===0||by(t,R,x,m,c);P||(f=0,m=u,h+=1),P&&(m=R+t*(x()/2+i),f+=h)},y;h<=a.length;)if(y=g(),y)return y.v;return[]}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){Fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fue(t,e,n){return(e=$ue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ue(t){var e=Hue(t,"string");return typeof e=="symbol"?e:e+""}function Hue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kue(t,e,n,r,i){for(var a=(r||[]).slice(),u=a.length,{start:c}=e,{end:f}=e,h=function(y){var b=a[y],E,T=()=>(E===void 0&&(E=n(b,y)),E);if(y===u-1){var A=t*(b.coordinate+t*T()/2-f);a[y]=b=nr(nr({},b),{},{tickCoord:A>0?b.coordinate-A*t:b.coordinate})}else a[y]=b=nr(nr({},b),{},{tickCoord:b.coordinate});var x=by(t,b.tickCoord,T,c,f);x&&(f=b.tickCoord-t*(T()/2+i),a[y]=nr(nr({},b),{},{isShow:!0}))},m=u-1;m>=0;m--)h(m);return a}function Gue(t,e,n,r,i,a){var u=(r||[]).slice(),c=u.length,{start:f,end:h}=e;if(a){var m=r[c-1],g=n(m,c-1),y=t*(m.coordinate+t*g/2-h);u[c-1]=m=nr(nr({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate});var b=by(t,m.tickCoord,()=>g,f,h);b&&(h=m.tickCoord-t*(g/2+i),u[c-1]=nr(nr({},m),{},{isShow:!0}))}for(var E=a?c-1:c,T=function(R){var P=u[R],U,L=()=>(U===void 0&&(U=n(P,R)),U);if(R===0){var $=t*(P.coordinate-t*L()/2-f);u[R]=P=nr(nr({},P),{},{tickCoord:$<0?P.coordinate-$*t:P.coordinate})}else u[R]=P=nr(nr({},P),{},{tickCoord:P.coordinate});var C=by(t,P.tickCoord,L,f,h);C&&(f=P.tickCoord+t*(L()/2+i),u[R]=nr(nr({},P),{},{isShow:!0}))},A=0;A<E;A++)T(A);return u}function Wue(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:u,orientation:c,interval:f,tickFormatter:h,unit:m,angle:g}=t;if(!i||!i.length||!r)return[];if(xe(f)||Jm.isSsr){var y;return(y=que(i,xe(f)?f:0))!==null&&y!==void 0?y:[]}var b=[],E=c==="top"||c==="bottom"?"width":"height",T=m&&E==="width"?Hd(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(P,U)=>{var L=typeof h=="function"?h(P.value,U):P.value;return E==="width"?Uue(Hd(L,{fontSize:e,letterSpacing:n}),T,g):Hd(L,{fontSize:e,letterSpacing:n})[E]},x=i.length>=2?Kr(i[1].coordinate-i[0].coordinate):1,R=Bue(a,x,E);return f==="equidistantPreserveStart"?zue(x,R,A,i,u):(f==="preserveStart"||f==="preserveStartEnd"?b=Gue(x,R,A,i,u,f==="preserveStartEnd"):b=Kue(x,R,A,i,u),b.filter(P=>P.isShow))}var Yue=["viewBox"],Que=["viewBox"];function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(null,arguments)}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){zI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uM(t,e){if(t==null)return{};var n,r,i=Xue(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zI(t,e,n){return(e=Zue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zue(t){var e=Jue(t,"string");return typeof e=="symbol"?e:e+""}function Jue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wf extends N.Component{constructor(e){super(e),this.tickRefs=N.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=uM(e,Yue),a=this.props,{viewBox:u}=a,c=uM(a,Que);return!zE(r,u)||!zE(i,c)||!zE(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:a,orientation:u,tickSize:c,mirror:f,tickMargin:h}=this.props,m,g,y,b,E,T,A=f?-1:1,x=e.tickSize||c,R=xe(e.tickCoord)?e.tickCoord:e.coordinate;switch(u){case"top":m=g=e.coordinate,b=r+ +!f*a,y=b-A*x,T=y-A*h,E=R;break;case"left":y=b=e.coordinate,g=n+ +!f*i,m=g-A*x,E=m-A*h,T=R;break;case"right":y=b=e.coordinate,g=n+ +f*i,m=g+A*x,E=m+A*h,T=R;break;default:m=g=e.coordinate,b=r+ +f*a,y=b+A*x,T=y+A*h,E=R;break}return{line:{x1:m,y1:y,x2:g,y2:b},tick:{x:E,y:T}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:a,mirror:u,axisLine:c}=this.props,f=En(En(En({},Lt(this.props,!1)),Lt(c,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!u||a==="bottom"&&u);f=En(En({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(a==="left"&&!u||a==="right"&&u);f=En(En({},f),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return N.createElement("line",Lc({},f,{className:St("recharts-cartesian-axis-line",fl(c,"className"))}))}static renderTickItem(e,n,r){var i,a=St(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(e))i=N.cloneElement(e,En(En({},n),{},{className:a}));else if(typeof e=="function")i=e(En(En({},n),{},{className:a}));else{var u="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(u=St(u,e.className)),i=N.createElement(LI,Lc({},n,{className:u}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:a,tick:u,tickFormatter:c,unit:f}=this.props,h=Wue(En(En({},this.props),{},{ticks:r}),e,n),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Lt(this.props,!1),b=Lt(u,!1),E=En(En({},y),{},{fill:"none"},Lt(i,!1)),T=h.map((A,x)=>{var{line:R,tick:P}=this.getTickLineCoord(A),U=En(En(En(En({textAnchor:m,verticalAnchor:g},y),{},{stroke:"none",fill:a},b),P),{},{index:x,payload:A,visibleTicksCount:h.length,tickFormatter:c});return N.createElement(Ia,Lc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},s_(this.props,A,x)),i&&N.createElement("line",Lc({},E,R,{className:St("recharts-cartesian-axis-tick-line",fl(i,"className"))})),u&&Wf.renderTickItem(u,U,"".concat(typeof c=="function"?c(A.value,x):A.value).concat(f||"")))});return T.length>0?N.createElement("g",{className:"recharts-cartesian-axis-ticks"},T):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:a}=this.props;if(a)return null;var{ticks:u}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:N.createElement(Ia,{className:St("recharts-cartesian-axis",i),ref:c=>{if(c){var f=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var h=f[0];if(h){var m=window.getComputedStyle(h).fontSize,g=window.getComputedStyle(h).letterSpacing;(m!==this.state.fontSize||g!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,u),Fr.renderCallByParent(this.props))}}zI(Wf,"displayName","CartesianAxis");zI(Wf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ele(t,e,n){return(e=tle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tle(t){var e=nle(t,"string");return typeof e=="symbol"?e:e+""}function nle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rle={xAxis:{},yAxis:{},zAxis:{}},R5=Ii({name:"cartesianAxis",initialState:rle,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=cM(cM({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:ile,removeXAxis:ale,addYAxis:sle,removeYAxis:ole,addZAxis:cfe,removeZAxis:ffe,updateYAxisWidth:ule}=R5.actions,lle=R5.reducer,cle=["children"],fle=["dangerouslySetInnerHTML","ticks"];function C5(t,e,n){return(e=hle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hle(t){var e=dle(t,"string");return typeof e=="symbol"?e:e+""}function dle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SA.apply(null,arguments)}function D5(t,e){if(t==null)return{};var n,r,i=mle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ple(t){var e=tn(),n=N.useMemo(()=>{var{children:a}=t,u=D5(t,cle);return u},[t]),r=Oe(a=>Ts(a,n.id)),i=n===r;return N.useEffect(()=>(e(ile(n)),()=>{e(ale(n))}),[n,e]),i?t.children:null}var gle=t=>{var{xAxisId:e,className:n}=t,r=Oe(B3),i=ei(),a="xAxis",u=Oe(b=>Hf(b,a,e,i)),c=Oe(b=>C6(b,a,e,i)),f=Oe(b=>x6(b,e)),h=Oe(b=>Fre(b,e));if(f==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:g}=t,y=D5(t,fle);return N.createElement(Wf,SA({},y,{scale:u,x:h.x,y:h.y,width:f.width,height:f.height,className:St("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c}))},vle=t=>{var e,n,r,i,a;return N.createElement(ple,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter},N.createElement(gle,t))};class FI extends N.Component{render(){return N.createElement(vle,this.props)}}C5(FI,"displayName","XAxis");C5(FI,"defaultProps",{allowDataOverflow:Lr.allowDataOverflow,allowDecimals:Lr.allowDecimals,allowDuplicatedCategory:Lr.allowDuplicatedCategory,height:Lr.height,hide:!1,mirror:Lr.mirror,orientation:Lr.orientation,padding:Lr.padding,reversed:Lr.reversed,scale:Lr.scale,tickCount:Lr.tickCount,type:Lr.type,xAxisId:0});var yle=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,u=0;if(e){e.forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>u&&(u=g.width)}});var c=n?n.getBoundingClientRect().width:0,f=i+a,h=u+f+c+(n?r:0);return Math.round(h)}return 0},_le=["dangerouslySetInnerHTML","ticks"];function N5(t,e,n){return(e=ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ble(t){var e=wle(t,"string");return typeof e=="symbol"?e:e+""}function wle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IA(){return IA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IA.apply(null,arguments)}function Ele(t,e){if(t==null)return{};var n,r,i=Tle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ale(t){var e=tn();return N.useEffect(()=>(e(sle(t)),()=>{e(ole(t))}),[t,e]),null}var Sle=t=>{var e,{yAxisId:n,className:r,width:i,label:a}=t,u=N.useRef(null),c=N.useRef(null),f=Oe(B3),h=ei(),m=tn(),g="yAxis",y=Oe(P=>Hf(P,g,n,h)),b=Oe(P=>P6(P,n)),E=Oe(P=>$re(P,n)),T=Oe(P=>C6(P,g,n,h));if(N.useLayoutEffect(()=>{var P;if(!(i!=="auto"||!b||UI(a)||N.isValidElement(a))){var U=u.current,L=U==null||(P=U.tickRefs)===null||P===void 0?void 0:P.current,{tickSize:$,tickMargin:C}=U.props,D=yle({ticks:L,label:c.current,labelGapWithTick:5,tickSize:$,tickMargin:C});Math.round(b.width)!==Math.round(D)&&m(ule({id:n,width:D}))}},[u,u==null||(e=u.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,b?.width,b,m,a,n,i]),b==null||E==null)return null;var{dangerouslySetInnerHTML:A,ticks:x}=t,R=Ele(t,_le);return N.createElement(Wf,IA({},R,{ref:u,labelRef:c,scale:y,x:E.x,y:E.y,width:b.width,height:b.height,className:St("recharts-".concat(g," ").concat(g),r),viewBox:f,ticks:T}))},Ile=t=>{var e,n,r,i,a;return N.createElement(N.Fragment,null,N.createElement(Ale,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(a=t.tick)!==null&&a!==void 0?a:!0,tickFormatter:t.tickFormatter}),N.createElement(Sle,t))},xle={allowDataOverflow:Ur.allowDataOverflow,allowDecimals:Ur.allowDecimals,allowDuplicatedCategory:Ur.allowDuplicatedCategory,hide:!1,mirror:Ur.mirror,orientation:Ur.orientation,padding:Ur.padding,reversed:Ur.reversed,scale:Ur.scale,tickCount:Ur.tickCount,type:Ur.type,width:Ur.width,yAxisId:0};class $I extends N.Component{render(){return N.createElement(Ile,this.props)}}N5($I,"displayName","YAxis");N5($I,"defaultProps",xle);var FE={exports:{}},$E={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fM;function Ple(){if(fM)return $E;fM=1;var t=If();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,u=t.useMemo,c=t.useDebugValue;return $E.useSyncExternalStoreWithSelector=function(f,h,m,g,y){var b=i(null);if(b.current===null){var E={hasValue:!1,value:null};b.current=E}else E=b.current;b=u(function(){function A(L){if(!x){if(x=!0,R=L,L=g(L),y!==void 0&&E.hasValue){var $=E.value;if(y($,L))return P=$}return P=L}if($=P,n(R,L))return $;var C=g(L);return y!==void 0&&y($,C)?(R=L,$):(R=L,P=C)}var x=!1,R,P,U=m===void 0?null:m;return[function(){return A(h())},U===null?void 0:function(){return A(U())}]},[h,m,g,y]);var T=r(f,b[0],b[1]);return a(function(){E.hasValue=!0,E.value=T},[T]),c(T),T},$E}var hM;function Ole(){return hM||(hM=1,FE.exports=Ple()),FE.exports}Ole();function Rle(t){t()}function Cle(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Rle(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var dM={notify(){},get:()=>[]};function Dle(t,e){let n,r=dM,i=0,a=!1;function u(T){m();const A=r.subscribe(T);let x=!1;return()=>{x||(x=!0,A(),g())}}function c(){r.notify()}function f(){E.onStateChange&&E.onStateChange()}function h(){return a}function m(){i++,n||(n=t.subscribe(f),r=Cle())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=dM)}function y(){a||(a=!0,m())}function b(){a&&(a=!1,g())}const E={addNestedSub:u,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return E}var Nle=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kle=Nle(),Mle=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vle=Mle(),jle=()=>kle||Vle?N.useLayoutEffect:N.useEffect,Lle=jle(),Ule=Symbol.for("react-redux-context"),Ble=typeof globalThis<"u"?globalThis:{};function qle(){if(!N.createContext)return{};const t=Ble[Ule]??=new Map;let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var zle=qle();function Fle(t){const{children:e,context:n,serverState:r,store:i}=t,a=N.useMemo(()=>{const f=Dle(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),u=N.useMemo(()=>i.getState(),[i]);Lle(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,u]);const c=n||zle;return N.createElement(c.Provider,{value:a},e)}var $le=Fle,Hle=(t,e)=>e,HI=ae([Hle,Et,nre,Ln,H6,As,Kie,Xn],Jie),KI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},k5=Ai("mouseClick"),M5=Zm();M5.startListening({actionCreator:k5,effect:(t,e)=>{var n=t.payload,r=HI(e.getState(),KI(n));r?.activeIndex!=null&&e.dispatch(rie({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var xA=Ai("mouseMove"),V5=Zm();V5.startListening({actionCreator:xA,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=RI(r,r.tooltip.settings.shared),a=HI(r,KI(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(U6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(L6()))}});function Kle(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var mM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},j5=Ii({name:"rootProps",initialState:mM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:mM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Gle=j5.reducer,{updateOptions:Wle}=j5.actions,L5=Ii({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:hfe}=L5.actions,Yle=L5.reducer,U5=Ai("keyDown"),B5=Ai("focus"),GI=Zm();GI.startListening({actionCreator:U5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var u=Number(CI(i,Il(n))),c=As(n);if(a==="Enter"){var f=gy(n,"axis","hover",String(i.index));e.dispatch(yA({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var h=Wre(n),m=h==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,y=u+g*m;if(!(c==null||y>=c.length||y<0)){var b=gy(n,"axis","hover",String(y));e.dispatch(yA({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});GI.startListening({actionCreator:B5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",u=gy(n,"axis","hover",String(a));e.dispatch(yA({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:u}))}}}});var gi=Ai("externalEvent"),q5=Zm();q5.startListening({actionCreator:gi,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:kie(n),activeDataKey:Y6(n),activeIndex:Sm(n),activeLabel:Cie(n),activeTooltipIndex:Sm(n),isTooltipActive:Mie(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Qle=ae([Kf],t=>t.tooltipItemPayloads),Xle=ae([Qle,V_,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var u=e(a,n);return u}}}),z5=Ai("touchMove"),F5=Zm();F5.startListening({actionCreator:z5,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=RI(r,r.tooltip.settings.shared);if(i==="axis"){var a=HI(r,KI({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(U6({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var u,c=n.touches[0],f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(mZ),m=(u=f.getAttribute(pZ))!==null&&u!==void 0?u:void 0,g=Xle(e.getState(),h,m);e.dispatch(j6({activeDataKey:m,activeIndex:h,activeCoordinate:g}))}}});var Zle=m3({brush:Oue,cartesianAxis:lle,chartData:gae,graphicalItems:Lse,layout:LX,legend:OZ,options:fae,polarAxis:Dse,polarOptions:Yle,referenceElements:Vue,rootProps:Gle,tooltip:iie}),Jle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return lX({reducer:Zle,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([M5.middleware,V5.middleware,GI.middleware,q5.middleware,F5.middleware]),devTools:{serialize:{replacer:Kle},name:"recharts-".concat(n)}})};function ece(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ei(),a=N.useRef(null);if(i)return n;a.current==null&&(a.current=Jle(e,r));var u=R1;return N.createElement($le,{context:u,store:a.current},n)}function tce(t){var{layout:e,width:n,height:r,margin:i}=t,a=tn(),u=ei();return N.useEffect(()=>{u||(a(MX(e)),a(VX({width:n,height:r})),a(kX(i)))},[a,u,e,n,r,i]),null}function nce(t){var e=tn();return N.useEffect(()=>{e(Wle(t))},[e,t]),null}var rce=["children"];function ice(t,e){if(t==null)return{};var n,r,i=ace(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ace(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wy(){return wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wy.apply(null,arguments)}var sce={width:"100%",height:"100%"},oce=N.forwardRef((t,e)=>{var n=q3(),r=z3(),i=$3();if(!ty(n)||!ty(r))return null;var{children:a,otherAttributes:u,title:c,desc:f}=t,h,m;return typeof u.tabIndex=="number"?h=u.tabIndex:h=i?0:void 0,typeof u.role=="string"?m=u.role:m=i?"application":void 0,N.createElement(y1,wy({},u,{title:c,desc:f,role:m,tabIndex:h,width:n,height:r,style:sce,ref:e}),a)}),uce=t=>{var{children:e}=t,n=Oe(__);if(!n)return null;var{width:r,height:i,y:a,x:u}=n;return N.createElement(y1,{width:r,height:i,x:u,y:a},e)},pM=N.forwardRef((t,e)=>{var{children:n}=t,r=ice(t,rce),i=ei();return i?N.createElement(uce,null,n):N.createElement(oce,wy({ref:e},r),n)});function lce(){var t=tn(),[e,n]=N.useState(null),r=Oe(dZ);return N.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Jr(a)&&a!==r&&t(jX(a))}},[e,t,r]),n}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fce(t,e,n){return(e=hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hce(t){var e=dce(t,"string");return typeof e=="symbol"?e:e+""}function dce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mce=N.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:u,onDoubleClick:c,onMouseDown:f,onMouseEnter:h,onMouseLeave:m,onMouseMove:g,onMouseUp:y,onTouchEnd:b,onTouchMove:E,onTouchStart:T,style:A,width:x}=t,R=tn(),[P,U]=N.useState(null),[L,$]=N.useState(null);_ae();var C=lce(),D=N.useCallback(ie=>{C(ie),typeof e=="function"&&e(ie),U(ie),$(ie)},[C,e,U,$]),M=N.useCallback(ie=>{R(k5(ie)),R(gi({handler:a,reactEvent:ie}))},[R,a]),q=N.useCallback(ie=>{R(xA(ie)),R(gi({handler:h,reactEvent:ie}))},[R,h]),j=N.useCallback(ie=>{R(L6()),R(gi({handler:m,reactEvent:ie}))},[R,m]),B=N.useCallback(ie=>{R(xA(ie)),R(gi({handler:g,reactEvent:ie}))},[R,g]),V=N.useCallback(()=>{R(B5())},[R]),Pe=N.useCallback(ie=>{R(U5(ie.key))},[R]),Me=N.useCallback(ie=>{R(gi({handler:u,reactEvent:ie}))},[R,u]),te=N.useCallback(ie=>{R(gi({handler:c,reactEvent:ie}))},[R,c]),he=N.useCallback(ie=>{R(gi({handler:f,reactEvent:ie}))},[R,f]),be=N.useCallback(ie=>{R(gi({handler:y,reactEvent:ie}))},[R,y]),Ne=N.useCallback(ie=>{R(gi({handler:T,reactEvent:ie}))},[R,T]),H=N.useCallback(ie=>{R(z5(ie)),R(gi({handler:E,reactEvent:ie}))},[R,E]),oe=N.useCallback(ie=>{R(gi({handler:b,reactEvent:ie}))},[R,b]);return N.createElement(e5.Provider,{value:P},N.createElement(j4.Provider,{value:L},N.createElement("div",{className:St("recharts-wrapper",r),style:cce({position:"relative",cursor:"default",width:x,height:i},A),role:"application",onClick:M,onContextMenu:Me,onDoubleClick:te,onFocus:V,onKeyDown:Pe,onMouseDown:he,onMouseEnter:q,onMouseLeave:j,onMouseMove:B,onMouseUp:be,onTouchEnd:oe,onTouchMove:H,onTouchStart:Ne,ref:D},n)))}),pce=["children","className","width","height","style","compact","title","desc"];function gce(t,e){if(t==null)return{};var n,r,i=vce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yce=N.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:u,compact:c,title:f,desc:h}=t,m=gce(t,pce),g=Lt(m,!1);return c?N.createElement(pM,{otherAttributes:g,title:f,desc:h},n):N.createElement(mce,{className:r,style:u,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(pM,{otherAttributes:g,title:f,desc:h,ref:e},N.createElement(Lue,null,n)))}),_ce=["width","height"];function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PA.apply(null,arguments)}function bce(t,e){if(t==null)return{};var n,r,i=wce(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ece={top:5,right:5,bottom:5,left:5},Tce={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ece,reverseStackOrder:!1,syncMethod:"index"},Ace=N.forwardRef(function(e,n){var r,i=El(e.categoricalChartProps,Tce),{width:a,height:u}=i,c=bce(i,_ce);if(!ty(a)||!ty(u))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,categoricalChartProps:y}=e,b={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return N.createElement(ece,{preloadedState:{options:b},reduxStoreName:(r=y.id)!==null&&r!==void 0?r:f},N.createElement(Pue,{chartData:y.data}),N.createElement(tce,{width:a,height:u,layout:i.layout,margin:i.margin}),N.createElement(nce,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(yce,PA({},c,{width:a,height:u,ref:n})))}),Sce=["axis","item"],Ice=N.forwardRef((t,e)=>N.createElement(Ace,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Sce,tooltipPayloadSearcher:lae,categoricalChartProps:t,ref:e}));const xce={spinner:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:F.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 1 1-6.219-8.56"})}),download:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),appLogo:F.jsx("img",{src:"logo.jpeg",alt:"Vakratund Logo",className:"w-full h-full object-cover"}),addMemberIllustration:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM4 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 10.5 21.75c-2.676 0-5.216-.584-7.5-1.615Z"})}),logout:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),search:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),dashboard:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v11.25A2.25 2.25 0 006 16.5h12M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-12a2.25 2.25 0 01-2.25-2.25V3M3.75 21h16.5M12 6.75h.008v.008H12V6.75z"})}),attendance:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 21h-5.625M3 21h5.625M3 8.25h18M3 14.625h18M3 11.4375h18M4.5 3.75h15a2.25 2.25 0 012.25 2.25v12a2.25 2.25 0 01-2.25-2.25h-15a2.25 2.25 0 01-2.25-2.25v-12A2.25 2.25 0 014.5 3.75z"})}),add:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.5 21.75c-2.676 0-5.216-.584-7.5-1.615z"})}),member:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),back:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),check:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),close:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),halfday:F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[F.jsx("path",{d:"M12 2.25a9.75 9.75 0 100 19.5 9.75 9.75 0 000-19.5z",strokeLinecap:"round",strokeLinejoin:"round"}),F.jsx("path",{fill:"currentColor",d:"M12 2.25v19.5a9.75 9.75 0 000-19.5z"})]}),edit:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),save:F.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:F.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13.5l3 3m0 0l3-3m-3 3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})})},hn=({type:t,className:e="w-6 h-6"})=>{const n=xce[t];return t==="appLogo"&&KE.isValidElement(n)?KE.cloneElement(n,{className:e}):t==="spinner"?F.jsx("div",{className:`${e} animate-spin`,children:n}):F.jsx("div",{className:e,children:n})},Jg=({title:t,value:e,iconType:n,color:r})=>F.jsxs("div",{className:"bg-stone-900 p-4 rounded-lg shadow-md flex items-center",children:[F.jsx("div",{className:`p-3 rounded-full mr-4 ${r}`,children:F.jsx(hn,{type:n,className:"w-6 h-6 text-white"})}),F.jsxs("div",{children:[F.jsx("p",{className:"text-sm text-stone-400",children:t}),F.jsx("p",{className:"text-2xl font-bold text-stone-100",children:e})]})]}),Pce=({todaySummary:t,weeklySummary:e,onLogout:n,members:r,onSelectMember:i,loading:a,onGenerateReport:u})=>{const[c,f]=N.useState(""),h=r.filter(b=>b.name.toLowerCase().includes(c.toLowerCase())||b.instrument.toLowerCase().includes(c.toLowerCase())),m={[Qe.Present]:"#22c55e",[Qe.Absent]:"#ef4444",[Qe.HalfDay]:"#f97316"},g=(b,E)=>{const T=new Blob([b],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a"),x=URL.createObjectURL(T);A.setAttribute("href",x),A.setAttribute("download",E),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A)},y=b=>{const E=b===7?`weekly-attendance-report-${new Date().toISOString().split("T")[0]}.csv`:`monthly-attendance-report-${new Date().toISOString().split("T")[0]}.csv`,T=u(b);g(T,E)};return a?F.jsxs("div",{className:"flex flex-col items-center justify-center h-full pt-20",children:[F.jsx(hn,{type:"spinner",className:"w-12 h-12 text-orange-500"}),F.jsx("p",{className:"mt-4 text-stone-400",children:"Loading Dashboard..."})]}):F.jsxs("div",{className:"p-4 space-y-6 relative",children:[F.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-stone-800 transition-colors z-10",children:F.jsx(hn,{type:"logout",className:"w-6 h-6 text-stone-300"})}),F.jsxs("div",{className:"text-center pt-4 pb-2",children:[F.jsx("div",{className:"w-24 h-24 inline-block rounded-full mb-4 overflow-hidden shadow-lg bg-stone-900",children:F.jsx(hn,{type:"appLogo",className:"w-full h-full object-cover"})}),F.jsx("h1",{className:"text-3xl font-bold text-orange-100",style:{fontFamily:"sans-serif"},children:""}),F.jsx("p",{className:"text-stone-400 mt-1",children:"   "})]}),F.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F.jsx(Jg,{title:"Total Members",value:t.total,iconType:"member",color:"bg-orange-500"}),F.jsx(Jg,{title:"Present",value:t.present,iconType:"check",color:"bg-green-500"}),F.jsx(Jg,{title:"Absent",value:t.absent,iconType:"close",color:"bg-red-500"}),F.jsx(Jg,{title:"Half Day",value:t.onHalfDay,iconType:"halfday",color:"bg-orange-500"})]}),F.jsxs("div",{children:[F.jsx("h3",{className:"text-xl font-bold text-stone-100 mb-4",children:"Weekly Attendance"}),F.jsx("div",{className:"bg-stone-900 p-4 rounded-lg shadow-md h-72",children:F.jsx(jae,{width:"100%",height:"100%",children:F.jsxs(Ice,{data:e,margin:{top:5,right:0,left:-20,bottom:5},children:[F.jsx(FI,{dataKey:"name",stroke:"#78716c",fontSize:12,tickLine:!1,axisLine:!1}),F.jsx($I,{stroke:"#78716c",fontSize:12,tickLine:!1,axisLine:!1}),F.jsx(xae,{contentStyle:{backgroundColor:"#1c1917",border:"1px solid #292524",borderRadius:"0.5rem"},labelStyle:{color:"#f5f5f4"}}),F.jsx(b_,{wrapperStyle:{fontSize:"12px"}}),F.jsx(Kd,{dataKey:"present",stackId:"a",fill:m.present,name:"Present"}),F.jsx(Kd,{dataKey:"absent",stackId:"a",fill:m.absent,name:"Absent"}),F.jsx(Kd,{dataKey:"halfDay",stackId:"a",fill:m.halfday,name:"Half Day",radius:[4,4,0,0]})]})})})]}),F.jsxs("div",{children:[F.jsx("h3",{className:"text-xl font-bold text-stone-100 mb-4",children:"Reports"}),F.jsxs("div",{className:"bg-stone-900 p-4 rounded-lg shadow-md flex flex-col sm:flex-row gap-4",children:[F.jsxs("button",{onClick:()=>y(7),className:"w-full flex items-center justify-center gap-2 bg-stone-800 hover:bg-stone-700 text-stone-100 font-semibold py-3 px-4 rounded-lg transition-colors duration-200",children:[F.jsx(hn,{type:"download",className:"w-5 h-5"}),"Weekly Report"]}),F.jsxs("button",{onClick:()=>y(30),className:"w-full flex items-center justify-center gap-2 bg-stone-800 hover:bg-stone-700 text-stone-100 font-semibold py-3 px-4 rounded-lg transition-colors duration-200",children:[F.jsx(hn,{type:"download",className:"w-5 h-5"}),"Monthly Report"]})]})]}),F.jsxs("div",{children:[F.jsxs("h3",{className:"text-xl font-bold text-stone-100 mb-4",children:["All Members (",r.length,")"]}),F.jsxs("div",{className:"relative mb-4",children:[F.jsx("input",{type:"text",placeholder:"Search by name or instrument...",value:c,onChange:b=>f(b.target.value),className:"w-full bg-stone-800 border border-stone-700 text-stone-100 rounded-lg py-3 pl-10 pr-4 focus:ring-orange-500 focus:border-orange-500 transition"}),F.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:F.jsx(hn,{type:"search",className:"w-5 h-5 text-stone-400"})})]}),F.jsx("div",{className:"space-y-3",children:h.length>0?h.map(b=>F.jsx("div",{onClick:()=>i(b.id),className:"bg-stone-900 p-4 rounded-lg flex items-center justify-between shadow cursor-pointer hover:bg-stone-800 transition-colors",children:F.jsxs("div",{className:"flex items-center",children:[F.jsx("div",{className:"bg-stone-700 p-2 rounded-full mr-4",children:F.jsx(hn,{type:"member",className:"w-6 h-6 text-stone-300"})}),F.jsxs("div",{children:[F.jsx("p",{className:"font-semibold text-stone-100",children:b.name}),F.jsx("p",{className:"text-sm text-stone-400",children:b.instrument})]})]})},b.id)):F.jsx("div",{className:"text-center py-8 bg-stone-900 rounded-lg",children:r.length===0?F.jsx("p",{className:"text-stone-400",children:"No members found. Add one from the 'Add Member' tab."}):F.jsxs("p",{className:"text-stone-400",children:['No members found matching "',c,'".']})})})]})]})},vM=({status:t,currentStatus:e,onClick:n})=>{const r=t===e,i="p-2 rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-stone-900",a={[Qe.Present]:"bg-green-500 text-white ring-green-300",[Qe.Absent]:"bg-red-500 text-white ring-red-300",[Qe.HalfDay]:"bg-orange-500 text-white ring-orange-300"},u="bg-stone-700 text-stone-100 hover:bg-stone-600 ring-transparent",c={[Qe.Present]:"check",[Qe.Absent]:"close",[Qe.HalfDay]:"halfday"},f=`${i} ${r?a[t]:u}`;return F.jsx("button",{onClick:n,className:f,children:F.jsx(hn,{type:c[t],className:"w-5 h-5"})})},Oce=({members:t,todaysAttendance:e,onSave:n})=>{const r=new Date().toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),i=(u,c)=>{e[u]!==c&&n({[u]:c})},a=()=>{const u=t.reduce((c,f)=>(e[f.id]!==Qe.Present&&(c[f.id]=Qe.Present),c),{});Object.keys(u).length>0&&n(u)};return F.jsxs("div",{className:"p-4",children:[F.jsxs("div",{className:"mb-6 text-center",children:[F.jsx("p",{className:"text-stone-400 text-sm",children:"Marking attendance for:"}),F.jsx("h2",{className:"text-xl font-semibold text-orange-200",children:r})]}),F.jsx("div",{className:"flex justify-end items-center mb-4",children:F.jsx("button",{onClick:a,className:"bg-orange-600 text-white px-4 py-2 rounded-lg shadow hover:bg-orange-700 transition-colors",children:"Mark All Present"})}),F.jsx("div",{className:"space-y-3",children:t.map(u=>F.jsxs("div",{className:"bg-stone-900 p-4 rounded-lg flex items-center justify-between shadow",children:[F.jsxs("div",{children:[F.jsx("p",{className:"font-semibold text-stone-100",children:u.name}),F.jsx("p",{className:"text-sm text-stone-400",children:u.instrument})]}),F.jsxs("div",{className:"flex items-center space-x-2",children:[F.jsx(vM,{status:Qe.Present,currentStatus:e[u.id],onClick:()=>i(u.id,Qe.Present)}),F.jsx(vM,{status:Qe.HalfDay,currentStatus:e[u.id],onClick:()=>i(u.id,Qe.HalfDay)})]})]},u.id))})]})},Rce=({onAddMember:t,onDone:e})=>{const[n,r]=N.useState(""),[i,a]=N.useState(""),[u,c]=N.useState(""),[f,h]=N.useState(!1),m=async g=>{if(g.preventDefault(),!n.trim()||!i.trim()){c("Both name and instrument are required.");return}c(""),h(!0);try{await t(n,i),r(""),a(""),e()}catch(y){console.error("Failed to add member:",y),c("An error occurred while adding the member. Please try again.")}finally{h(!1)}};return F.jsx("div",{className:"p-4 h-full flex flex-col items-center justify-center",children:F.jsxs("div",{className:"w-full max-w-md",children:[F.jsxs("div",{className:"text-center mb-8",children:[F.jsx(hn,{type:"addMemberIllustration",className:"w-24 h-24 text-orange-500 mx-auto"}),F.jsx("h2",{className:"text-2xl font-bold text-stone-100 mt-4",children:"Add a New Member"}),F.jsx("p",{className:"text-stone-400 mt-1",children:"Fill out the details below to add a new team member."})]}),F.jsxs("form",{onSubmit:m,className:"space-y-6",children:[F.jsxs("div",{children:[F.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-stone-300 mb-1",children:"Member Name"}),F.jsx("input",{type:"text",id:"name",value:n,onChange:g=>r(g.target.value),className:"w-full bg-stone-800 border border-stone-700 text-stone-100 rounded-lg p-3 focus:ring-orange-500 focus:border-orange-500 transition",placeholder:"e.g., Priya Sharma",disabled:f})]}),F.jsxs("div",{children:[F.jsx("label",{htmlFor:"instrument",className:"block text-sm font-medium text-stone-300 mb-1",children:"Instrument Name"}),F.jsx("input",{type:"text",id:"instrument",value:i,onChange:g=>a(g.target.value),className:"w-full bg-stone-800 border border-stone-700 text-stone-100 rounded-lg p-3 focus:ring-orange-500 focus:border-orange-500 transition",placeholder:"e.g., Dhol, Tasha",disabled:f})]}),u&&F.jsx("p",{className:"text-red-400 text-sm",children:u}),F.jsx("button",{type:"submit",className:"w-full bg-orange-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-orange-700 transition-colors duration-200 shadow-lg disabled:bg-stone-700 disabled:cursor-not-allowed flex items-center justify-center",disabled:!n||!i||f,children:f?F.jsxs(F.Fragment,{children:[F.jsx(hn,{type:"spinner",className:"w-5 h-5 mr-2"}),"Adding..."]}):"Add Member"})]})]})})},Cce=({status:t})=>{const e={[Qe.Present]:"bg-green-500",[Qe.Absent]:"bg-red-500",[Qe.HalfDay]:"bg-orange-500"};return F.jsx("span",{className:`w-3 h-3 rounded-full inline-block ${e[t]}`})},Dce=({member:t,attendance:e,onUpdateMember:n})=>{const[r,i]=N.useState(!1),[a,u]=N.useState(!1),[c,f]=N.useState(t.name),[h,m]=N.useState(t.instrument),g=N.useMemo(()=>{const E={[Qe.Present]:0,[Qe.Absent]:0,[Qe.HalfDay]:0},T=new Date;let A=0;const x=new Date(t.createdAt);for(let R=0;R<30;R++){const P=new Date(T);if(P.setDate(T.getDate()-R),P<x)continue;A++;const U=P.toISOString().split("T")[0],L=e[U];L===Qe.Present?E.present++:L===Qe.HalfDay&&E.halfday++}return E.absent=A-E.present-E.halfday,E},[e,t.createdAt]),y=N.useMemo(()=>{const E=[],T=new Date,A=new Date(t.createdAt);for(let x=0;x<30;x++){const R=new Date(T);if(R.setDate(T.getDate()-x),R<A)continue;const P=R.toISOString().split("T")[0],U=e[P]||Qe.Absent;E.push({date:P,status:U})}return E},[e,t.createdAt]),b=async()=>{if(!(!c.trim()||!h.trim())){u(!0);try{await n(t.id,c,h),i(!1)}catch(E){console.error("Error updating member:",E)}finally{u(!1)}}};return F.jsxs("div",{className:"p-4",children:[F.jsxs("div",{className:"bg-stone-900 p-4 rounded-lg shadow-md mb-6",children:[F.jsx("h3",{className:"text-lg font-semibold mb-3 text-stone-100",children:"Attendance Summary (Last 30 Days)"}),F.jsxs("div",{className:"flex justify-around",children:[F.jsxs("div",{className:"text-center",children:[F.jsx("p",{className:"text-3xl font-bold text-green-400",children:g.present}),F.jsx("p",{className:"text-sm text-stone-400",children:"Present"})]}),F.jsxs("div",{className:"text-center",children:[F.jsx("p",{className:"text-3xl font-bold text-red-400",children:g.absent}),F.jsx("p",{className:"text-sm text-stone-400",children:"Absent"})]}),F.jsxs("div",{className:"text-center",children:[F.jsx("p",{className:"text-3xl font-bold text-orange-400",children:g.halfday}),F.jsx("p",{className:"text-sm text-stone-400",children:"Half Day"})]})]})]}),F.jsxs("div",{className:"bg-stone-900 p-4 rounded-lg shadow-md mb-6",children:[F.jsxs("div",{className:"flex justify-between items-center",children:[F.jsx("h3",{className:"text-lg font-semibold text-stone-100",children:"Member Details"}),!r&&F.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 text-sm bg-stone-700 text-white px-3 py-1 rounded-md hover:bg-stone-600 transition-colors",children:[F.jsx(hn,{type:"edit",className:"w-4 h-4"}),"Edit"]})]}),r?F.jsxs("div",{className:"mt-4 space-y-4",children:[F.jsxs("div",{children:[F.jsx("label",{htmlFor:"memberName",className:"block text-sm font-medium text-stone-300 mb-1",children:"Member Name"}),F.jsx("input",{type:"text",id:"memberName",value:c,onChange:E=>f(E.target.value),className:"w-full bg-stone-800 border border-stone-700 text-stone-100 rounded-lg p-2 focus:ring-orange-500 focus:border-orange-500 transition",disabled:a})]}),F.jsxs("div",{children:[F.jsx("label",{htmlFor:"memberInstrument",className:"block text-sm font-medium text-stone-300 mb-1",children:"Instrument"}),F.jsx("input",{type:"text",id:"memberInstrument",value:h,onChange:E=>m(E.target.value),className:"w-full bg-stone-800 border border-stone-700 text-stone-100 rounded-lg p-2 focus:ring-orange-500 focus:border-orange-500 transition",disabled:a})]}),F.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[F.jsx("button",{onClick:()=>i(!1),disabled:a,className:"text-sm bg-stone-600 text-white px-4 py-2 rounded-md hover:bg-stone-500 transition-colors",children:"Cancel"}),F.jsxs("button",{onClick:b,disabled:a||!c.trim()||!h.trim(),className:"text-sm bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700 disabled:bg-stone-700 disabled:cursor-not-allowed flex items-center gap-2",children:[a?F.jsx(hn,{type:"spinner",className:"w-4 h-4"}):F.jsx(hn,{type:"save",className:"w-4 h-4"}),"Save"]})]})]}):F.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[F.jsxs("div",{children:[F.jsx("p",{className:"text-stone-400",children:"Name"}),F.jsx("p",{className:"text-stone-100 font-medium",children:t.name})]}),F.jsxs("div",{children:[F.jsx("p",{className:"text-stone-400",children:"Instrument"}),F.jsx("p",{className:"text-stone-100 font-medium",children:t.instrument})]}),F.jsxs("div",{children:[F.jsx("p",{className:"text-stone-400",children:"Member Since"}),F.jsx("p",{className:"text-stone-100 font-medium",children:new Date(t.createdAt).toLocaleDateString()})]})]})]}),F.jsxs("div",{children:[F.jsx("h3",{className:"text-lg font-semibold mb-3 text-stone-100",children:"Detailed Log (Last 30 Days)"}),F.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:y.length>0?y.map(({date:E,status:T})=>F.jsxs("div",{className:"bg-stone-900 p-3 rounded-md flex justify-between items-center",children:[F.jsx("p",{className:"text-stone-300",children:new Date(E).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}),F.jsxs("div",{className:"flex items-center gap-2",children:[F.jsx(Cce,{status:T}),F.jsx("span",{className:"capitalize text-sm font-medium",children:T===Qe.HalfDay?"Half Day":T})]})]},E)):F.jsx("p",{className:"text-center text-stone-500",children:"No attendance records found."})})]})]})},HE=({label:t,view:e,iconType:n,currentView:r,onClick:i})=>{const a=r===e;return F.jsxs("button",{onClick:()=>i(e),className:`flex flex-col items-center justify-center flex-1 transition-colors duration-200 ${a?"text-orange-500":"text-stone-400 hover:text-stone-100"}`,children:[F.jsx(hn,{type:n,className:"w-6 h-6 mb-1"}),F.jsx("span",{className:"text-xs font-medium",children:t})]})},Nce=({currentView:t,setView:e})=>F.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 h-16 bg-stone-900 border-t border-stone-800 flex justify-around items-center z-50 shadow-lg",children:[F.jsx(HE,{label:"Dashboard",view:Xt.Dashboard,iconType:"dashboard",currentView:t,onClick:e}),F.jsx(HE,{label:"Attendance",view:Xt.Attendance,iconType:"attendance",currentView:t,onClick:e}),F.jsx(HE,{label:"Add Member",view:Xt.AddMember,iconType:"add",currentView:t,onClick:e})]}),kce=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,a]=N.useState(""),[u,c]=N.useState(!1),f=async h=>{h.preventDefault(),a(""),c(!0);try{await MT.signInWithEmailAndPassword(t,n)}catch(m){switch(m.code){case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":a("Invalid username or password.");break;case"auth/invalid-email":a("Please enter a valid email address.");break;default:a("An unexpected error occurred. Please try again.");break}}finally{c(!1)}};return F.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-stone-950 p-4",children:F.jsxs("div",{className:"w-full max-w-sm",children:[F.jsxs("div",{className:"text-center mb-8",children:[F.jsx("div",{className:"w-28 h-28 inline-block rounded-full mb-4 overflow-hidden shadow-lg bg-stone-900",children:F.jsx(hn,{type:"appLogo",className:"w-full h-full object-cover"})}),F.jsx("h1",{className:"text-4xl font-bold text-orange-100",style:{fontFamily:"sans-serif"},children:""}),F.jsx("p",{className:"text-stone-400 mt-2",children:"   "})]}),F.jsxs("form",{onSubmit:f,className:"bg-stone-900 shadow-lg rounded-xl px-8 pt-6 pb-8 mb-4",children:[F.jsxs("div",{className:"mb-4",children:[F.jsx("label",{className:"block text-stone-300 text-sm font-bold mb-2",htmlFor:"username",children:"Username (Email)"}),F.jsx("input",{id:"username",type:"email",value:t,onChange:h=>e(h.target.value),className:"w-full bg-stone-800 border border-stone-700 text-stone-100 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-orange-500 transition",placeholder:"user@example.com",autoComplete:"email"})]}),F.jsxs("div",{className:"mb-6",children:[F.jsx("label",{className:"block text-stone-300 text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),F.jsx("input",{id:"password",type:"password",value:n,onChange:h=>r(h.target.value),className:"w-full bg-stone-800 border border-stone-700 text-stone-100 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-orange-500 transition",placeholder:"",autoComplete:"current-password"})]}),i&&F.jsx("p",{className:"text-red-400 text-center text-sm mb-4",children:i}),F.jsx("div",{className:"flex items-center justify-between",children:F.jsx("button",{type:"submit",disabled:u,className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-colors duration-200 disabled:bg-stone-700 disabled:cursor-not-allowed flex items-center justify-center",children:u?F.jsx(hn,{type:"spinner",className:"w-6 h-6"}):"Sign In"})})]})]})})},Mce=({title:t,showBack:e,onBack:n,onLogout:r})=>F.jsxs("header",{className:"fixed top-0 left-0 right-0 h-16 bg-stone-900/80 backdrop-blur-sm border-b border-stone-800 flex items-center justify-between px-4 z-50 shadow-md",children:[F.jsxs("div",{className:"flex items-center",children:[e&&n&&F.jsx("button",{onClick:n,className:"p-2 mr-2 -ml-2 rounded-full hover:bg-stone-800 transition-colors",children:F.jsx(hn,{type:"back",className:"w-6 h-6 text-stone-100"})}),F.jsx("h1",{className:"text-xl font-bold text-stone-100",children:t})]}),r&&F.jsx("button",{onClick:r,className:"p-2 -mr-2 rounded-full hover:bg-stone-800 transition-colors",children:F.jsx(hn,{type:"logout",className:"w-6 h-6 text-stone-300"})})]}),Vce=()=>new Date().toISOString().split("T")[0];function jce(){const[t,e]=N.useState(),[n,r]=N.useState(Xt.Dashboard),[i,a]=N.useState(null),{members:u,loading:c,addMember:f,updateMember:h,markBatchAttendance:m,getMemberById:g,getAttendanceByMember:y,getWeeklySummary:b,getTodaySummary:E,generateCsvReport:T}=VW();N.useEffect(()=>{const $=MT.onAuthStateChanged(C=>{e(C),C&&r(Xt.Dashboard)});return()=>$()},[]);const A=$=>{a(null),r($)},x=()=>{MT.signOut()},R=$=>{a($),r(Xt.MemberDetails)},P=()=>{A(Xt.Dashboard)},U=()=>{switch(n){case Xt.Dashboard:return F.jsx(Pce,{loading:c,todaySummary:E(),weeklySummary:b(),onLogout:x,members:u,onSelectMember:R,onGenerateReport:T});case Xt.Attendance:const $=Vce(),C=u.reduce((D,M)=>{const q=y(M.id)[$];return q&&(D[M.id]=q),D},{});return F.jsx(Oce,{members:u,todaysAttendance:C,onSave:m});case Xt.AddMember:return F.jsx(Rce,{onAddMember:f,onDone:()=>A(Xt.Dashboard)});case Xt.MemberDetails:if(i){const D=g(i);if(D)return F.jsx(Dce,{member:D,attendance:y(D.id),onUpdateMember:h})}return F.jsx("div",{className:"text-center p-4",children:"Member not found"});default:return F.jsx("div",{children:"Home"})}};if(t===void 0)return F.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-stone-950",children:[F.jsx(hn,{type:"spinner",className:"w-12 h-12 text-orange-500"}),F.jsx("p",{className:"text-stone-400 mt-4",children:"Initializing..."})]});if(!t)return F.jsx(kce,{});const L=()=>{switch(n){case Xt.Dashboard:return"Dashboard";case Xt.Attendance:return"Mark Attendance";case Xt.AddMember:return"Add New Member";case Xt.MemberDetails:return(i?g(i):null)?.name||"Member Details";default:return"Vakratunda Attendance"}};return F.jsxs("div",{className:"min-h-screen bg-stone-950 text-stone-100 font-sans",children:[n!==Xt.Dashboard&&F.jsx(Mce,{title:L(),showBack:n===Xt.MemberDetails,onBack:P,onLogout:x}),F.jsxs("main",{className:`pb-20 ${n!==Xt.Dashboard?"pt-16":""}`,children:[" ",U()]}),n!==Xt.MemberDetails&&F.jsx(Nce,{currentView:n,setView:A})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/VdtdpAttendance/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});const $5=document.getElementById("root");if(!$5)throw new Error("Could not find root element to mount to");const Lce=A9.createRoot($5);Lce.render(F.jsx(KE.StrictMode,{children:F.jsx(jce,{})}));
